(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{131:function(e,t,a){},146:function(e,t,a){},172:function(e,t,a){},250:function(e,t,a){},251:function(e,t,a){},252:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(25),s=a.n(c),i=(a(146),a(24)),o=a(4),d=a.n(o),l=a(2),j=a(12),u=a(14),b=a(16),h=a(262),O=a(134),p=a(273),x=a(133),m=a.n(x),f=a(10),g=a.n(f),v=a(0),y=function(e){Object(b.c)((function(e){return e.Auth}));var t=Object(n.useState)({options:{title:{text:"Transactions"},noData:{text:"No data"},labels:["Cancelled","Pending","Confirmed","Completed"],colors:["#ff4560","#008ffb","#feb019","#00e396"]},series:[]}),a=Object(u.a)(t,2),c=a[0],s=a[1];r.a.useEffect((function(){i()}),[]);var i=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/summary/transactions");case 2:a=e.sent,(0!=(n=a.data.data).cancelled||0!=n.pending||0!=n.confirmed||n.completed)&&s((function(e){return Object(l.a)(Object(l.a)({},e),{},{series:[n.cancelled,n.pending,n.confirmed,n.completed]})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(h.a,{children:Object(v.jsx)(O.a,{md:6,children:Object(v.jsx)(p.a,{children:Object(v.jsx)(p.a.Body,{children:Object(v.jsx)(p.a.Text,{children:Object(v.jsx)(m.a,{options:c.options,series:c.series,type:"pie"})})})})})})})},w=a(269),k=a(263),E=function(e,t){return function(){var a=Object(j.a)(d.a.mark((function a(n){var r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"LOGIN_REQUEST"}),a.next=4,g.a.post("/login",t);case 4:r=a.sent,n({type:"LOGIN_SUCCESS",payload:r.data.data}),e.history.push("/"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n({type:"LOGIN_FAIL",payload:a.t0.response.data.data});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},_="/users",C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(){var e=Object(j.a)(d.a.mark((function e(n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:"USER_REQUEST"}),e.next=4,g.a.get(t,{params:a});case 4:r=e.sent,n({type:"USER_FETCH",payload:r.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n({type:"USER_FAIL",payload:e.t0.response.data.data});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},N=(a(172),function(e){var t=Object(b.b)(),a=Object(b.c)((function(e){return e.Auth})),r=Object(n.useState)(""),c=Object(u.a)(r,2),s=c[0],i=c[1],o=Object(n.useState)(""),l=Object(u.a)(o,2),h=l[0],O=l[1],p=Object(n.useState)(!1),x=Object(u.a)(p,2),m=x[0],f=x[1],g=function(){var a=Object(j.a)(d.a.mark((function a(n){var r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),n.stopPropagation(),r=n.currentTarget,f(!0),!1!==r.checkValidity()){a.next=6;break}return a.abrupt("return");case 6:t(E(e,{email:s,password:h}));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(v.jsx)("div",{className:"login-container text-center",children:Object(v.jsxs)(w.a,{className:"form-signin",noValidate:!0,validated:m,onSubmit:g,children:[Object(v.jsx)("h1",{className:"h3 mb-3 font-weight-normal",children:"Login"}),Object(v.jsx)(w.a.Control,{type:"email",placeholder:"Email address",onChange:function(e){return i(e.target.value)},isInvalid:a.errorMsg,required:!0}),Object(v.jsx)(w.a.Control,{type:"password",placeholder:"Password",onChange:function(e){return O(e.target.value)},isInvalid:a.errorMsg,required:!0}),Object(v.jsx)(w.a.Control.Feedback,{type:"invalid",children:a.errorMsg&&Object(v.jsx)("div",{children:a.errorMsg})}),Object(v.jsx)(k.a,{className:"btn-block",variant:"primary",type:"submit",children:"Login"})]})})}),S=a(5),A=a.n(S),T=(a(135),a(20)),L=a(18),M=a(19),I=a(274),D=a(264),R=a(268),U=a(265),P=a(29),F=function(e){var t=Object(b.b)(),a=Object(b.c)((function(e){return e.User})),c=Object(n.useState)(!1),s=Object(u.a)(c,2),i=s[0],o=s[1],p=Object(n.useState)({}),x=Object(u.a)(p,2),m=x[0],f=x[1],y=Object(n.useState)({}),E=Object(u.a)(y,2),_=E[0],N=E[1],S=Object(n.useState)(!1),F=Object(u.a)(S,2),B=F[0],G=F[1],H=(g.a.create({baseURL:"https://stage.apigw.cdkapps.eu",headers:{"Access-Control-Allow-Origin":"http://localhost:3000"}}),[{key:"user_type_id",title:"Type",type:"select",placeholder:"Enter action type",options:[{label:"Customer",key:"3"},{label:"Admin",key:"2"}],default:2,control_id:"formActionType",required:!0},{key:"firstname",title:"First name",type:"text",placeholder:"Enter first name",control_id:"formFirstName",required:!0},{key:"middlename",title:"Middle name",type:"text",placeholder:"Enter middle name",control_id:"formMiddleName"},{key:"lastname",title:"Last name",type:"text",placeholder:"Enter last name",control_id:"formLastName",required:!0},{key:"email",title:"Email",type:"email",placeholder:"Enter email",control_id:"formEmail",required:!0},{key:"phone_number",title:"Phone number",type:"text",placeholder:"Enter phone number",control_id:"formPhone",required:!0}]),z=[{key:"user_type_id",title:"Type",type:"select",placeholder:"Enter action type",options:[{label:"Customer",key:"3"},{label:"Admin",key:"2"}],default:2,control_id:"formActionType",required:!0},{key:"customer_id",title:"Customer ID",type:"text",placeholder:"Enter customer ID",control_id:"formCustomerId",required:!0},{key:"firstname",title:"First name",type:"text",placeholder:"Enter first name",control_id:"formFirstName",required:!0},{key:"middlename",title:"Middle name",type:"text",placeholder:"Enter middle name",control_id:"formMiddleName"},{key:"lastname",title:"Last name",type:"text",placeholder:"Enter last name",control_id:"formLastName",required:!0},{key:"email",title:"Email",type:"email",placeholder:"Enter email",control_id:"formEmail",required:!0},{key:"phone_number",title:"Phone number",type:"text",placeholder:"Enter phone number",control_id:"formPhone",required:!0},{key:"package_id",title:"Search name",type:"asyncselect",placeholder:"Enter name",control_id:"formName",required:!0}],q=function(){return G(!1)},V=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/users",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t(C(e,a,n))},W=function(e){e.customer_id=e.info?e.info.customer_id:"",e.package_id=e.info?{value:e.info.package.id,label:e.info.package.name}:"",f(e),G(!0)},Y=function(e){t(function(e,t){return function(){var e=Object(j.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"USER_REQUEST"}),e.next=4,g.a.delete("/users/"+t);case 4:n=e.sent,a({type:"USER_DELETE",payload:n.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a({type:"USER_FAIL",payload:e.t0.response.data.data});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}(0,e))},Q=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,r,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/packages?search="+t);case 2:for(a=e.sent,n=a.data.data,r=[],c=0;c<n.data.length;c++)s=n.data[c],r=[].concat(Object(L.a)(r),[{value:s.id,label:s.name}]);return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(e){return new Promise((function(t){setTimeout((function(){t(Q(e))}),1e3)}))},J=function(e,t){var a=_;a=Object(l.a)(Object(l.a)({},a),{},Object(T.a)({},e,t)),N(a),V("/users",a)};return r.a.useEffect((function(){V()}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(h.a,{children:[Object(v.jsx)(k.a,{variant:"primary",onClick:function(){f({user_type_id:3}),G(!0)},children:"Add User"}),Object(v.jsx)(R.a,{show:B,onHide:q,children:Object(v.jsxs)(w.a,{noValidate:!0,validated:i,onSubmit:function(e){e.preventDefault(),e.stopPropagation();var a=e.currentTarget;o(!0),!1!==a.checkValidity()&&(m.id?t(function(e,t){return function(){var e=Object(j.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"USER_REQUEST"}),e.next=4,g.a.put("/users/"+t.id,t);case 4:return n=e.sent,a({type:"USER_UPDATE",payload:n.data.data}),e.abrupt("return",Promise.resolve());case 9:return e.prev=9,e.t0=e.catch(0),a({type:"USER_FAIL",payload:e.t0.response.data.data}),e.abrupt("return",Promise.reject());case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}(0,m)).then((function(){G(!0)})).catch((function(){alert("error")})):t(function(e,t){return function(){var e=Object(j.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"USER_REQUEST"}),e.next=3,g.a.post("/register",t).then((function(e){return a({type:"USER_ADD",payload:e.data.data}),Promise.resolve()})).catch((function(e){return e.response&&a({type:"USER_FAIL",payload:e.response.data}),Promise.reject()}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(0,m)).then((function(){G(!0)})).catch((function(){alert("error")})))},children:[Object(v.jsx)(R.a.Header,{closeButton:!0,children:Object(v.jsx)(R.a.Title,{children:A.a.isUndefined(m.id)?"Add User":"Edit User"})}),Object(v.jsx)(R.a.Body,{children:function(){var e=H;return 3==m.user_type_id&&(e=z),e.map((function(e,t){return"text"===e.type||"email"===e.type?Object(v.jsxs)(w.a.Group,{as:h.a,controlId:e.control_id,children:[Object(v.jsx)(w.a.Label,{column:!0,sm:3,children:e.title}),Object(v.jsx)(O.a,{sm:9,children:Object(v.jsx)(w.a.Control,{required:e.required,type:e.type,placeholder:e.placeholder,value:A.a.isUndefined(m[e.key])?"":m[e.key],defaultValue:m[e.key],onChange:function(t){return f((function(a){return Object(l.a)(Object(l.a)({},a),{},Object(T.a)({},e.key,t.target.value))}))}})})]},t):"select"===e.type?Object(v.jsxs)(w.a.Group,{hidden:e.hidden,as:h.a,controlId:e.control_id,children:[Object(v.jsx)(w.a.Label,{column:!0,sm:3,children:e.title}),Object(v.jsx)(O.a,{sm:9,children:Object(v.jsx)(w.a.Control,{size:"sm",required:e.required,as:e.type,placeholder:e.placeholder,value:A.a.isUndefined(m[e.key])?"":m[e.key],onChange:function(t){return f((function(a){return Object(l.a)(Object(l.a)({},a),{},Object(T.a)({},e.key,t.target.value))}))},children:e.options.map((function(e,t){return Object(v.jsx)("option",{value:e.key,children:e.label},t)}))})})]},t):"asyncselect"===e.type&&"package_id"==e.key?Object(v.jsx)(P.a,{defaultOptions:!0,defaultValue:A.a.isUndefined(m[e.key])?"":m[e.key],loadOptions:K,onChange:function(t){return f((function(a){return Object(l.a)(Object(l.a)({},a),{},Object(T.a)({},e.key,t))}))}}):void 0}))}()}),Object(v.jsxs)(R.a.Footer,{children:[Object(v.jsx)(k.a,{variant:"secondary",onClick:q,children:"Close"}),Object(v.jsx)(k.a,{variant:"primary",type:"submit",children:"Save Changes"})]})]})})]}),Object(v.jsx)(h.a,{children:Object(v.jsxs)(O.a,{md:12,children:[Object(v.jsx)(w.a.Group,{controlId:"exampleForm.SelectCustom",children:Object(v.jsxs)(w.a.Row,{children:[Object(v.jsx)(w.a.Label,{column:"sm",lg:1,children:"Type"}),Object(v.jsx)(O.a,{lg:3,children:Object(v.jsxs)(w.a.Control,{as:"select",size:"sm",custom:!0,defaultValue:A.a.isEmpty(_)||A.a.isEmpty(_.type)?"all":_.type,onChange:function(e){return function(e){var t=_;t=Object(l.a)(Object(l.a)({},t),{},{type:e}),N(t),V("/users",t)}(e.target.value)},children:[Object(v.jsx)("option",{value:"all",children:"All"}),Object(v.jsx)("option",{value:"3",children:"Customers"}),Object(v.jsx)("option",{value:"2",children:"Admins"}),Object(v.jsx)("option",{value:"1",children:"Super Admins"})]})})]})}),Object(v.jsx)(w.a.Group,{children:Object(v.jsxs)(w.a.Row,{children:[Object(v.jsx)(w.a.Label,{column:"sm",lg:1,children:"Customer ID"}),Object(v.jsx)(O.a,{lg:3,children:Object(v.jsx)(w.a.Control,{size:"sm",type:"text",placeholder:"e.g ABC123",onChange:function(e){return J("customer_id",e.target.value)}})})]})}),Object(v.jsx)(w.a.Group,{children:Object(v.jsxs)(w.a.Row,{children:[Object(v.jsx)(w.a.Label,{column:"sm",lg:1,children:"Name"}),Object(v.jsx)(O.a,{lg:3,children:Object(v.jsx)(w.a.Control,{size:"sm",type:"text",placeholder:"e.g John Doe",onChange:function(e){return J("search",e.target.value)}})})]})}),Object(v.jsx)(w.a.Group,{children:Object(v.jsxs)(w.a.Row,{children:[Object(v.jsx)(w.a.Label,{column:"sm",lg:1,children:"Email"}),Object(v.jsx)(O.a,{lg:3,children:Object(v.jsx)(w.a.Control,{size:"sm",type:"text",placeholder:"e.g example@example.com",onChange:function(e){return J("email",e.target.value)}})})]})})]})}),Object(v.jsxs)(h.a,{children:[Object(v.jsxs)(U.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"ID"}),Object(v.jsx)("th",{children:"Name"}),Object(v.jsx)("th",{children:"Type"}),Object(v.jsx)("th",{children:"Email"}),Object(v.jsx)("th",{children:"Phone"}),Object(v.jsx)("th",{children:"Package"}),Object(v.jsx)("th",{children:"Created"}),Object(v.jsx)("th",{children:"Updated"}),Object(v.jsx)("th",{children:"Actions"})]})}),Object(v.jsx)("tbody",{children:A.a.isEmpty(a.data.data)?a.loading?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"9",className:"text-center",children:"Loading..."})}):""!==a.errorMsg?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"9",className:"text-center",children:a.errorMsg})}):Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"9",className:"text-center",children:"Unable to get data"})}):a.data.data.map((function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsx)(M.b,{to:"user/"+e.id,children:e.info?e.info.customer_id:"-"})}),Object(v.jsx)("td",{children:Object(v.jsx)(M.b,{to:"user/"+e.id,children:e.name})}),Object(v.jsx)("td",{children:e.type_name}),Object(v.jsx)("td",{children:e.email}),Object(v.jsx)("td",{children:e.phone_number}),Object(v.jsx)("td",{children:e.info&&e.info.package?e.info.package.name:"None"}),Object(v.jsx)("td",{children:e.created_at}),Object(v.jsx)("td",{children:e.updated_at}),Object(v.jsx)("td",{children:Object(v.jsxs)(D.a,{size:"sm",children:[Object(v.jsx)(k.a,{variant:"danger",onClick:function(){Y(e.id)},children:"Delete"}),Object(v.jsx)(k.a,{onClick:function(t){return W(e)},children:"Edit"})]})})]},t)}))})]}),Object(v.jsx)(I.a,{children:function(){if(!A.a.isEmpty(a.data.links))return a.data.links.map((function(e,t){return Object(v.jsx)(I.a.Item,{active:e.active,onClick:function(){return V(e.url)},disabled:!e.url,children:Object(v.jsx)("span",{dangerouslySetInnerHTML:{__html:e.label}})},t)}))}()})]})]})},B=a(270),G=a(272),H=a(266),z=a(65),q=a.n(z),V=function(e){var t=Object(b.c)((function(e){return e.Auth}));return 1===t.user.type||2===t.user.type?function(e){Object(b.b)();var t=e.match.params.user,a=Object(n.useState)({}),c=Object(u.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)({}),x=Object(u.a)(o,2),m=x[0],f=x[1],y=Object(n.useState)({loading:!1,data:[],errorMsg:""}),w=Object(u.a)(y,2),E=w[0],_=w[1];r.a.useEffect((function(){N(),C(),i((function(e){return Object(l.a)(Object(l.a)({},e),{},{type:"earn"})})),i((function(e){return Object(l.a)(Object(l.a)({},e),{},{user_id:t})}))}),[]);var C=function(){var e=Object(j.a)(d.a.mark((function e(){var a,n,r,c=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:null,_((function(e){return Object(l.a)(Object(l.a)({},e),{},{loading:!0})})),e.next=4,g.a.get(a||"/users/"+t+"/rewards");case 4:n=e.sent,r=n.data.data,_((function(e){return Object(l.a)(Object(l.a)({},e),{},{loading:!1})})),_((function(e){return Object(l.a)(Object(l.a)({},e),{},{data:r.rewards})}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(j.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/users/"+t);case 2:n=e.sent,f(n.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,r,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/campaigns/"+s.campaign_id+"/actions?search="+t);case 2:for(a=e.sent,n=a.data.data,r=[],c=0;c<n.data.length;c++)i=n.data[c].action,r=[].concat(Object(L.a)(r),[{value:i.id,label:i.name}]);return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,r,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/campaigns/"+s.campaign_id+"/actions/"+s.action_id);case 2:for(a=e.sent,n=a.data.data,r=[],c=0;c<n.data.length;c++)i=n.data[c].reward,r=[].concat(Object(L.a)(r),[{value:i.id,label:i.name}]);return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,r,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/campaigns?search="+t);case 2:for(a=e.sent,n=a.data.data,r=[],c=0;c<n.data.length;c++)s=n.data[c],r=[].concat(Object(L.a)(r),[{value:s.id,label:s.name}]);return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("transactions",s);case 2:t=e.sent,a=t.data.data,f((function(e){return Object(l.a)(Object(l.a)({},e),{},{points:a.balance})})),C();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"6",children:Object(v.jsxs)(p.a,{children:[Object(v.jsxs)(p.a.Body,{children:[function(){if(!A.a.isEmpty(m.info)&&!A.a.isEmpty(m.info.customer_id))return Object(v.jsxs)(G.a,{children:[Object(v.jsx)(q.a,{value:m.info.customer_id}),Object(v.jsx)(G.a.Caption,{children:m.info.customer_id})]})}(),Object(v.jsx)(p.a.Title,{children:m.name}),Object(v.jsx)(p.a.Subtitle,{className:"mb-2 text-muted",children:A.a.isEmpty(m.info)||A.a.isEmpty(m.info.address)?"":m.info.address}),Object(v.jsx)(p.a.Text,{children:Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"3",className:"font-weight-bold",children:"Points"}),Object(v.jsx)(O.a,{md:"9",children:Object(v.jsx)(H.a,{variant:"info",children:m.points})})]})})]}),Object(v.jsxs)(p.a.Body,{children:[Object(v.jsx)(p.a.Title,{children:"Personal Information"}),Object(v.jsxs)(p.a.Text,{children:[Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"4",className:"font-weight-bold",children:"Firstname"}),Object(v.jsx)(O.a,{md:"8",children:m.firstname})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"4",className:"font-weight-bold",children:"Middlename"}),Object(v.jsx)(O.a,{md:"8",children:m.middlename})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"4",className:"font-weight-bold",children:"Lastname"}),Object(v.jsx)(O.a,{md:"8",children:m.lastname})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"4",className:"font-weight-bold",children:"Email"}),Object(v.jsx)(O.a,{md:"8",children:m.email})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"4",className:"font-weight-bold",children:"Phone"}),Object(v.jsx)(O.a,{md:"8",children:m.phone_number})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"4",className:"font-weight-bold",children:"Package"}),Object(v.jsx)(O.a,{md:"8",children:A.a.isEmpty(m.info)||A.a.isNull(m.info.package)?"":m.info.package.name})]})]})]}),Object(v.jsxs)(p.a.Body,{children:[Object(v.jsx)(p.a.Title,{children:"Vehicle Info"}),Object(v.jsxs)(p.a.Text,{children:[Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"3",className:"font-weight-bold",children:"Year"}),Object(v.jsx)(O.a,{md:"9",children:A.a.isEmpty(m.info)||A.a.isNull(m.info.vehicle_year)?"":m.info.vehicle_year})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"3",className:"font-weight-bold",children:"Make"}),Object(v.jsx)(O.a,{md:"9",children:A.a.isEmpty(m.info)||A.a.isNull(m.info.vehicle_make)?"":m.info.vehicle_make})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"3",className:"font-weight-bold",children:"Model"}),Object(v.jsx)(O.a,{md:"9",children:A.a.isEmpty(m.info)||A.a.isNull(m.info.vehicle_model)?"":m.info.vehicle_model})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"3",className:"font-weight-bold",children:"Trim"}),Object(v.jsx)(O.a,{md:"9",children:A.a.isEmpty(m.info)||A.a.isNull(m.info.vehicle_trim)?"":m.info.vehicle_trim})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"3",className:"font-weight-bold",children:"Color"}),Object(v.jsx)(O.a,{md:"9",children:A.a.isEmpty(m.info)||A.a.isNull(m.info.vehicle_color)?"":m.info.vehicle_color})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"3",className:"font-weight-bold",children:"Vin No."}),Object(v.jsx)(O.a,{md:"9",children:A.a.isEmpty(m.info)||A.a.isNull(m.info.vehicle_vin_no)?"":m.info.vehicle_vin_no})]})]})]})]})}),Object(v.jsxs)(O.a,{md:"6",children:[Object(v.jsx)(p.a,{children:Object(v.jsxs)(p.a.Body,{children:[Object(v.jsx)(p.a.Title,{children:"Add User Action"}),Object(v.jsxs)(p.a.Text,{children:[Object(v.jsx)(P.a,{cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return new Promise((function(t){setTimeout((function(){t(M(e))}),1e3)}))},onChange:function(e){return i((function(a){return{type:"earn",user_id:t,campaign_id:e.value,campaign_name:e.label}}))}}),s.campaign_id?Object(v.jsx)(P.a,{defaultOptions:!0,loadOptions:function(e){return new Promise((function(t){setTimeout((function(){t(S(e))}),1e3)}))},onChange:function(e){return i((function(t){return Object(l.a)(Object(l.a)({},t),{},{action_id:e.value,action_name:e.label})}))}},"campaign-"+s.campaign_id):"",s.action_id?Object(v.jsx)(P.a,{isMulti:!0,defaultOptions:!0,loadOptions:function(e){return new Promise((function(t){setTimeout((function(){t(T(e))}),1e3)}))},onChange:function(e){return i((function(t){return Object(l.a)(Object(l.a)({},t),{},{rewards:e})}))}},"action-"+s.action_id):"",s.campaign_id&&s.action_id&&!A.a.isEmpty(s.rewards)?Object(v.jsx)(k.a,{onClick:D,children:"Submit"}):""]})]})}),Object(v.jsx)(p.a,{children:Object(v.jsxs)(p.a.Body,{children:[Object(v.jsx)(p.a.Title,{children:"Rewards"}),Object(v.jsxs)(p.a.Text,{children:[Object(v.jsx)(B.a,{variant:"flush",children:function(){var e=E;return A.a.isEmpty(e.data.data)?e.loading?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"6",className:"text-center",children:"Loading..."})}):""!==e.errorMsg?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"6",className:"text-center",children:e.errorMsg})}):Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"6",className:"text-center",children:"Unable to get data"})}):e.data.data.map((function(e,t){return Object(v.jsx)(B.a.Item,{children:e.reward_name},t)}))}()}),Object(v.jsx)(I.a,{children:function(){if(!A.a.isEmpty(E.data.links))return E.data.links.map((function(e,t){return Object(v.jsx)(I.a.Item,{active:e.active,onClick:function(){return C(e.url)},disabled:!e.url,children:Object(v.jsx)("span",{dangerouslySetInnerHTML:{__html:e.label}})},t)}))}()})]})]})})]})]})})}(e):function(e){Object(b.b)();var t=e.match.params.user,a=Object(n.useState)({}),c=Object(u.a)(a,2),s=(c[0],c[1]),i=Object(n.useState)({}),o=Object(u.a)(i,2),x=o[0],m=o[1],f=Object(n.useState)({loading:!1,data:[],errorMsg:""}),y=Object(u.a)(f,2),w=y[0],E=y[1];r.a.useEffect((function(){N(),_(),s((function(e){return Object(l.a)(Object(l.a)({},e),{},{type:"earn"})})),s((function(e){return Object(l.a)(Object(l.a)({},e),{},{user_id:t})}))}),[]);var _=function(){var e=Object(j.a)(d.a.mark((function e(){var a,n,r,c=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:null,E((function(e){return Object(l.a)(Object(l.a)({},e),{},{loading:!0})})),e.next=4,g.a.get(a||"/users/"+t+"/rewards");case 4:n=e.sent,r=n.data.data,E((function(e){return Object(l.a)(Object(l.a)({},e),{},{loading:!1})})),E((function(e){return Object(l.a)(Object(l.a)({},e),{},{data:r.rewards})}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,r,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("claim",{reward_id:t,qty:1});case 2:a=e.sent,n=a.data.data,"completed"==(r=n.reward).status&&(c=w.data,s=c.data.filter((function(e){return e.id!==r.id})),c.data=s,E((function(e){return Object(l.a)(Object(l.a)({},e),{},{data:c})})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(j.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/users/"+t);case 2:n=e.sent,m(n.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"6",children:Object(v.jsxs)(p.a,{children:[Object(v.jsxs)(p.a.Body,{children:[function(){if(!A.a.isEmpty(x.info)&&!A.a.isEmpty(x.info.customer_id))return Object(v.jsxs)(G.a,{children:[Object(v.jsx)(q.a,{value:x.info.customer_id}),Object(v.jsx)(G.a.Caption,{children:x.info.customer_id})]})}(),Object(v.jsx)(p.a.Title,{children:x.name}),Object(v.jsx)(p.a.Subtitle,{className:"mb-2 text-muted",children:A.a.isEmpty(x.info)||A.a.isEmpty(x.info.address)?"":x.info.address}),Object(v.jsx)(p.a.Text,{children:Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"3",className:"font-weight-bold",children:"Points"}),Object(v.jsx)(O.a,{md:"9",children:Object(v.jsx)(H.a,{variant:"info",children:x.points})})]})})]}),Object(v.jsxs)(p.a.Body,{children:[Object(v.jsx)(p.a.Title,{children:"Personal Information"}),Object(v.jsxs)(p.a.Text,{children:[Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"4",className:"font-weight-bold",children:"Firstname"}),Object(v.jsx)(O.a,{md:"8",children:x.firstname})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"4",className:"font-weight-bold",children:"Middlename"}),Object(v.jsx)(O.a,{md:"8",children:x.middlename})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"4",className:"font-weight-bold",children:"Lastname"}),Object(v.jsx)(O.a,{md:"8",children:x.lastname})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"4",className:"font-weight-bold",children:"Email"}),Object(v.jsx)(O.a,{md:"8",children:x.email})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"4",className:"font-weight-bold",children:"Phone"}),Object(v.jsx)(O.a,{md:"8",children:x.phone_number})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"4",className:"font-weight-bold",children:"Package"}),Object(v.jsx)(O.a,{md:"8",children:A.a.isEmpty(x.info)||A.a.isNull(x.info.package)?"":x.info.package.name})]})]})]}),Object(v.jsxs)(p.a.Body,{children:[Object(v.jsx)(p.a.Title,{children:"Vehicle Info"}),Object(v.jsxs)(p.a.Text,{children:[Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"3",className:"font-weight-bold",children:"Year"}),Object(v.jsx)(O.a,{md:"9",children:A.a.isEmpty(x.info)||A.a.isNull(x.info.vehicle_year)?"":x.info.vehicle_year})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"3",className:"font-weight-bold",children:"Make"}),Object(v.jsx)(O.a,{md:"9",children:A.a.isEmpty(x.info)||A.a.isNull(x.info.vehicle_make)?"":x.info.vehicle_make})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"3",className:"font-weight-bold",children:"Model"}),Object(v.jsx)(O.a,{md:"9",children:A.a.isEmpty(x.info)||A.a.isNull(x.info.vehicle_model)?"":x.info.vehicle_model})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"3",className:"font-weight-bold",children:"Trim"}),Object(v.jsx)(O.a,{md:"9",children:A.a.isEmpty(x.info)||A.a.isNull(x.info.vehicle_trim)?"":x.info.vehicle_trim})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"3",className:"font-weight-bold",children:"Color"}),Object(v.jsx)(O.a,{md:"9",children:A.a.isEmpty(x.info)||A.a.isNull(x.info.vehicle_color)?"":x.info.vehicle_color})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"3",className:"font-weight-bold",children:"Vin No."}),Object(v.jsx)(O.a,{md:"9",children:A.a.isEmpty(x.info)||A.a.isNull(x.info.vehicle_vin_no)?"":x.info.vehicle_vin_no})]})]})]})]})}),Object(v.jsx)(O.a,{md:"6",children:Object(v.jsx)(p.a,{children:Object(v.jsxs)(p.a.Body,{children:[Object(v.jsx)(p.a.Title,{children:"Rewards"}),Object(v.jsxs)(p.a.Text,{children:[Object(v.jsx)(B.a,{variant:"flush",children:function(){var e=w;return A.a.isEmpty(e.data.data)?e.loading?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"6",className:"text-center",children:"Loading..."})}):""!==e.errorMsg?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"6",className:"text-center",children:e.errorMsg})}):Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"6",className:"text-center",children:"Unable to get data"})}):e.data.data.map((function(e,t){return Object(v.jsxs)(B.a.Item,{children:[e.reward_name," ",Object(v.jsx)(k.a,{size:"sm",onClick:function(){return C(e.id)},children:"Claim"})]},t)}))}()}),Object(v.jsx)(I.a,{children:function(){if(!A.a.isEmpty(w.data.links))return w.data.links.map((function(e,t){return Object(v.jsx)(I.a.Item,{active:e.active,onClick:function(){return _(e.url)},disabled:!e.url,children:Object(v.jsx)("span",{dangerouslySetInnerHTML:{__html:e.label}})},t)}))}()})]})]})})})]})})}(e)},W=function(e){var t=Object(b.c)((function(e){return e.Auth}));return 1===t.user.type||2===t.user.type?function(e){var t=Object(n.useState)({}),a=Object(u.a)(t,2),c=a[0],s=a[1];r.a.useEffect((function(){i()}),[]);var i=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/profile");case 2:a=e.sent,s(a.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(h.a,{children:Object(v.jsx)(O.a,{md:"12",children:Object(v.jsxs)(p.a,{children:[Object(v.jsxs)(p.a.Body,{children:[Object(v.jsx)(p.a.Title,{children:c.name}),Object(v.jsx)(p.a.Subtitle,{className:"mb-2 text-muted",children:c.type_name}),Object(v.jsx)(p.a.Text,{children:Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"3",className:"font-weight-bold",children:"Points"}),Object(v.jsx)(O.a,{md:"9",children:Object(v.jsx)(H.a,{variant:"info",children:c.points})})]})})]}),Object(v.jsxs)(p.a.Body,{children:[Object(v.jsx)(p.a.Title,{children:"Personal Information"}),Object(v.jsxs)(p.a.Text,{children:[Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"4",className:"font-weight-bold",children:"Firstname"}),Object(v.jsx)(O.a,{md:"8",children:c.firstname||"-"})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"4",className:"font-weight-bold",children:"Middlename"}),Object(v.jsx)(O.a,{md:"8",children:c.middlename||"-"})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"4",className:"font-weight-bold",children:"Lastname"}),Object(v.jsx)(O.a,{md:"8",children:c.lastname||"-"})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"4",className:"font-weight-bold",children:"Email"}),Object(v.jsx)(O.a,{md:"8",children:c.email})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"4",className:"font-weight-bold",children:"Phone"}),Object(v.jsx)(O.a,{md:"8",children:c.phone_number||"-"})]})]})]})]})})})})}():function(e){var t=Object(b.c)((function(e){return e.Auth})),a=Object(n.useState)({}),c=Object(u.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)({loading:!1,data:[],errorMsg:""}),x=Object(u.a)(o,2),m=x[0],f=x[1];r.a.useEffect((function(){w(),y()}),[]);var y=function(){var e=Object(j.a)(d.a.mark((function e(){var a,n,r,c=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:null,f((function(e){return Object(l.a)(Object(l.a)({},e),{},{loading:!0})})),e.next=4,g.a.get(a||"/users/"+t.user.id+"/rewards");case 4:n=e.sent,r=n.data.data,f((function(e){return Object(l.a)(Object(l.a)({},e),{},{loading:!1})})),f((function(e){return Object(l.a)(Object(l.a)({},e),{},{data:r.rewards})}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/profile");case 2:a=e.sent,i(a.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,r,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("claim",{reward_id:t,qty:1});case 2:a=e.sent,n=a.data.data,"completed"==(r=n.reward).status&&(c=m.data,s=c.data.filter((function(e){return e.id!==r.id})),c.data=s,f((function(e){return Object(l.a)(Object(l.a)({},e),{},{data:c})})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"6",children:Object(v.jsxs)(p.a,{children:[Object(v.jsxs)(p.a.Body,{children:[function(){if(!A.a.isEmpty(s.info)&&!A.a.isEmpty(s.info.customer_id))return Object(v.jsxs)(G.a,{children:[Object(v.jsx)(q.a,{value:s.info.customer_id}),Object(v.jsx)(G.a.Caption,{children:s.info.customer_id})]})}(),Object(v.jsx)(p.a.Title,{children:s.name}),Object(v.jsx)(p.a.Subtitle,{className:"mb-2 text-muted",children:s.type_name}),Object(v.jsx)(p.a.Text,{children:Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"3",className:"font-weight-bold",children:"Points"}),Object(v.jsx)(O.a,{md:"9",children:Object(v.jsx)(H.a,{variant:"info",children:s.points})})]})})]}),Object(v.jsxs)(p.a.Body,{children:[Object(v.jsx)(p.a.Title,{children:"Personal Information"}),Object(v.jsxs)(p.a.Text,{children:[Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"4",className:"font-weight-bold",children:"Firstname"}),Object(v.jsx)(O.a,{md:"8",children:s.firstname||"-"})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"4",className:"font-weight-bold",children:"Middlename"}),Object(v.jsx)(O.a,{md:"8",children:s.middlename||"-"})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"4",className:"font-weight-bold",children:"Lastname"}),Object(v.jsx)(O.a,{md:"8",children:s.lastname||"-"})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"4",className:"font-weight-bold",children:"Email"}),Object(v.jsx)(O.a,{md:"8",children:s.email})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"4",className:"font-weight-bold",children:"Phone"}),Object(v.jsx)(O.a,{md:"8",children:s.phone_number||"-"})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"4",className:"font-weight-bold",children:"Package"}),Object(v.jsx)(O.a,{md:"8",children:A.a.isEmpty(s.info)||A.a.isNull(s.info.package)?"":s.info.package.name})]})]})]}),Object(v.jsxs)(p.a.Body,{children:[Object(v.jsx)(p.a.Title,{children:"Vehicle Info"}),Object(v.jsxs)(p.a.Text,{children:[Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"3",className:"font-weight-bold",children:"Year"}),Object(v.jsx)(O.a,{md:"9",children:A.a.isEmpty(s.info)||A.a.isNull(s.info.vehicle_year)?"":s.info.vehicle_year})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"3",className:"font-weight-bold",children:"Make"}),Object(v.jsx)(O.a,{md:"9",children:A.a.isEmpty(s.info)||A.a.isNull(s.info.vehicle_make)?"":s.info.vehicle_make})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"3",className:"font-weight-bold",children:"Model"}),Object(v.jsx)(O.a,{md:"9",children:A.a.isEmpty(s.info)||A.a.isNull(s.info.vehicle_model)?"":s.info.vehicle_model})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"3",className:"font-weight-bold",children:"Trim"}),Object(v.jsx)(O.a,{md:"9",children:A.a.isEmpty(s.info)||A.a.isNull(s.info.vehicle_trim)?"":s.info.vehicle_trim})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"3",className:"font-weight-bold",children:"Color"}),Object(v.jsx)(O.a,{md:"9",children:A.a.isEmpty(s.info)||A.a.isNull(s.info.vehicle_color)?"":s.info.vehicle_color})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"3",className:"font-weight-bold",children:"Vin No."}),Object(v.jsx)(O.a,{md:"9",children:A.a.isEmpty(s.info)||A.a.isNull(s.info.vehicle_vin_no)?"":s.info.vehicle_vin_no})]})]})]})]})}),Object(v.jsx)(O.a,{md:"6",children:Object(v.jsx)(p.a,{children:Object(v.jsxs)(p.a.Body,{children:[Object(v.jsx)(p.a.Title,{children:"Rewards"}),Object(v.jsxs)(p.a.Text,{children:[Object(v.jsx)(B.a,{variant:"flush",children:function(){var e=m;return A.a.isEmpty(e.data.data)?e.loading?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"6",className:"text-center",children:"Loading..."})}):""!==e.errorMsg?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"6",className:"text-center",children:e.errorMsg})}):Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"6",className:"text-center",children:"Unable to get data"})}):e.data.data.map((function(e,t){return Object(v.jsxs)(B.a.Item,{children:[e.reward_name," ",Object(v.jsx)(k.a,{size:"sm",onClick:function(){return E(e.id)},children:"Claim"})]},t)}))}()}),Object(v.jsx)(I.a,{children:function(){if(!A.a.isEmpty(m.data.links))return m.data.links.map((function(e,t){return Object(v.jsx)(I.a.Item,{active:e.active,onClick:function(){return y(e.url)},disabled:!e.url,children:Object(v.jsx)("span",{dangerouslySetInnerHTML:{__html:e.label}})},t)}))}()})]})]})})})]})})}()},Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/packages";return function(){var e=Object(j.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"PACKAGE_REQUEST"}),e.next=4,g.a.get(t);case 4:n=e.sent,a({type:"PACKAGE_SUCCESS",payload:n.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a({type:"PACKAGE_FAIL",payload:e.t0.response.data.data});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},Q=function(e){var t=Object(b.b)(),a=Object(b.c)((function(e){return e.Package})),c=Object(n.useState)(!1),s=Object(u.a)(c,2),i=s[0],o=s[1],p=Object(n.useState)({}),x=Object(u.a)(p,2),m=x[0],f=x[1],y=Object(n.useState)({}),E=Object(u.a)(y,2),_=(E[0],E[1],e.match.params.product,Object(n.useState)(!1)),C=Object(u.a)(_,2),N=C[0],S=C[1],M=function(){return S(!1)};r.a.useEffect((function(){F()}),[]);var F=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/packages";console.log("production"),t(Y(e,a))},B=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/rewards");case 2:for(t=e.sent,a=t.data.data,n=[],r=0;r<a.data.length;r++)c=a.data[r],n=[].concat(Object(L.a)(n),[{value:c.id,label:c.name}]);return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(e){t(function(e,t){return function(){var e=Object(j.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"PACKAGE_REQUEST"}),e.next=4,g.a.delete("/packages/"+t);case 4:n=e.sent,a({type:"PACKAGE_DELETED",payload:n.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a({type:"PACKAGE_FAIL",payload:e.t0.response.data.data});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}(0,e))};return Object(v.jsxs)(v.Fragment,{children:[void console.log(m),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(k.a,{variant:"primary",onClick:function(e){f({}),S(!0)},children:"Add Package"}),Object(v.jsx)(R.a,{show:N,onHide:M,children:Object(v.jsxs)(w.a,{noValidate:!0,validated:i,onSubmit:function(e){e.preventDefault(),e.stopPropagation();var a=e.currentTarget;o(!0),!1!==a.checkValidity()&&(m.id?t(function(e,t){return function(){var e=Object(j.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"PACKAGE_REQUEST"}),e.next=4,g.a.put("/packages/"+t.id,t);case 4:n=e.sent,a({type:"PACKAGE_UPDATED",payload:n.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a({type:"PACKAGE_FAIL",payload:e.t0.response.data.data});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}(0,m)):t(function(e,t){return function(){var e=Object(j.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"PACKAGE_REQUEST"}),e.next=4,g.a.post("/packages",t);case 4:n=e.sent,a({type:"PACKAGE_ADDED",payload:n.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a({type:"PACKAGE_FAIL",payload:e.t0.response.data.data});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}(0,m)))},children:[Object(v.jsx)(R.a.Header,{closeButton:!0,children:Object(v.jsx)(R.a.Title,{children:"Add Package"})}),Object(v.jsxs)(R.a.Body,{children:[[{key:"id",title:"Name",type:"hidden",placeholder:"Package ID",control_id:"formPackageId",hidden:!0},{key:"name",title:"Name",type:"text",placeholder:"Enter package name",control_id:"formPackageName",required:!0},{key:"description",title:"Description",type:"text",placeholder:"Enter package description",control_id:"formPackageDescription",required:!0},{key:"multiplier",title:"Multiplier",type:"text",placeholder:"Enter package multiplier",control_id:"formPackageMultiplier",required:!0}].map((function(e,t){return Object(v.jsxs)(w.a.Group,{hidden:e.hidden,as:h.a,controlId:e.control_id,children:[Object(v.jsx)(w.a.Label,{column:!0,sm:3,children:e.title}),Object(v.jsx)(O.a,{sm:9,children:Object(v.jsx)(w.a.Control,{required:e.required,type:e.type,placeholder:e.placeholder,value:m[e.key],onChange:function(t){return f((function(a){return Object(l.a)(Object(l.a)({},a),{},Object(T.a)({},e.key,t.target.value))}))}})})]},t)})),Object(v.jsx)(P.a,{isMulti:!0,cacheOptions:!0,defaultOptions:!0,defaultValue:m.rewards,loadOptions:function(e){return new Promise((function(t){setTimeout((function(){t(B(e))}),1e3)}))},onChange:function(e){return f((function(t){return Object(l.a)(Object(l.a)({},t),{},{rewards:e})}))},placeholder:"None"},0)]}),Object(v.jsxs)(R.a.Footer,{children:[Object(v.jsx)(k.a,{variant:"secondary",onClick:M,children:"Close"}),Object(v.jsx)(k.a,{variant:"primary",type:"submit",children:"Save Changes"})]})]})})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsxs)(U.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Name"}),Object(v.jsx)("th",{children:"Description"}),Object(v.jsx)("th",{children:"Multiplier"}),Object(v.jsx)("th",{children:"Created"}),Object(v.jsx)("th",{children:"Updated"}),Object(v.jsx)("th",{children:"Actions"})]})}),Object(v.jsx)("tbody",{children:A.a.isEmpty(a.data.data)?a.loading?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"6",className:"text-center",children:"Loading..."})}):""!==a.errorMsg?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"6",className:"text-center",children:a.errorMsg})}):Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"6",className:"text-center",children:"Unable to get data"})}):a.data.data.map((function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.name}),Object(v.jsx)("td",{children:e.description}),Object(v.jsx)("td",{children:e.multiplier}),Object(v.jsx)("td",{children:e.created_at}),Object(v.jsx)("td",{children:e.updated_at}),Object(v.jsx)("td",{children:Object(v.jsxs)(D.a,{size:"sm",children:[Object(v.jsx)(k.a,{variant:"danger",onClick:function(){G(e.id)},children:"Delete"}),Object(v.jsx)(k.a,{onClick:function(t){return(a=e).rewards.map((function(e,t){return e.value=e.reward_id,e.label=e.reward.name,e})),f(a),void S(!0);var a},children:"Edit"})]})})]},t)}))})]}),Object(v.jsx)(I.a,{children:function(){if(!A.a.isEmpty(a.data.links))return a.data.links.map((function(e,t){return Object(v.jsx)(I.a.Item,{active:e.active,onClick:function(){return F(e.url)},disabled:!e.url,children:Object(v.jsx)("span",{dangerouslySetInnerHTML:{__html:e.label}})},t)}))}()})]})]})},K="/actions/",J=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K;return function(){var e=Object(j.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"ACTION_REQUEST"}),e.next=3,g.a.get(t).then((function(e){a({type:"ACTION_FETCH",payload:e.data.data})})).catch((function(e){e.response&&a({type:"ACTION_FAIL",payload:e.response.data.message})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Z=function(e){var t=Object(b.b)(),a=Object(b.c)((function(e){return e.Action})),c=Object(n.useState)(!1),s=Object(u.a)(c,2),i=s[0],o=s[1],p=Object(n.useState)({}),x=Object(u.a)(p,2),m=x[0],f=x[1],y=Object(n.useState)(!1),E=Object(u.a)(y,2),_=E[0],C=E[1],N=function(){return C(!1)},S=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/actions";t(J(e,a))},L=function(e){t(function(e,t){return function(){var e=Object(j.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"ACTION_REQUEST"}),e.next=3,g.a.delete(K+t).then((function(e){a({type:"ACTION_DELETE",payload:e.data.data})})).catch((function(e){e.response&&a({type:"ACTION_FAIL",payload:e.response.data.message})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(0,e))};return r.a.useEffect((function(){S()}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(h.a,{children:[Object(v.jsx)(k.a,{variant:"primary",onClick:function(){f({}),C(!0)},children:"Add Action"}),Object(v.jsx)(R.a,{show:_,onHide:N,children:Object(v.jsxs)(w.a,{noValidate:!0,validated:i,onSubmit:function(e){e.preventDefault(),e.stopPropagation();var a=e.currentTarget;o(!0),!1!==a.checkValidity()&&(m.id?t(function(e,t){return function(){var e=Object(j.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"ACTION_REQUEST"}),e.next=3,g.a.put(K+t.id,t).then((function(e){a({type:"ACTION_UPDATE",payload:e.data.data})})).catch((function(e){e.response&&a({type:"ACTION_FAIL",payload:e.response.data.message})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(0,m)):t(function(e,t){return function(){var e=Object(j.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"ACTION_REQUEST"}),e.next=3,g.a.post(K,t).then((function(e){return a({type:"ACTION_ADD",payload:e.data.data}),Promise.resolve()})).catch((function(e){return e.response&&a({type:"ACTION_FAIL",payload:e.response.data.message}),Promise.reject()}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(0,m)).then((function(){C(!1)})).catch((function(){alert("error")})))},children:[Object(v.jsx)(R.a.Header,{closeButton:!0,children:Object(v.jsx)(R.a.Title,{children:"Add Action"})}),Object(v.jsx)(R.a.Body,{children:[{key:"id",title:"Name",type:"hidden",placeholder:"Action ID",control_id:"formActionId",hidden:!0},{key:"name",title:"Name",type:"text",placeholder:"Enter action name",control_id:"formActionName",required:!0},{key:"description",title:"Description",type:"text",placeholder:"Enter action description",control_id:"formActionDescription",required:!0}].map((function(e,t){return Object(v.jsxs)(w.a.Group,{hidden:e.hidden,as:h.a,controlId:e.control_id,children:[Object(v.jsx)(w.a.Label,{column:!0,sm:3,children:e.title}),Object(v.jsx)(O.a,{sm:9,children:Object(v.jsx)(w.a.Control,{required:e.required,type:e.type,placeholder:e.placeholder,value:A.a.isUndefined(m[e.key])?"":m[e.key],onChange:function(t){return f((function(a){return Object(l.a)(Object(l.a)({},a),{},Object(T.a)({},e.key,t.target.value))}))}})})]},t)}))}),Object(v.jsxs)(R.a.Footer,{children:[Object(v.jsx)(k.a,{variant:"secondary",onClick:N,children:"Close"}),Object(v.jsx)(k.a,{variant:"primary",type:"submit",children:"Save Changes"})]})]})})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsxs)(U.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Name"}),Object(v.jsx)("th",{children:"Description"}),Object(v.jsx)("th",{children:"Created"}),Object(v.jsx)("th",{children:"Updated"}),Object(v.jsx)("th",{children:"Actions"})]})}),Object(v.jsx)("tbody",{children:A.a.isEmpty(a.data.data)?a.loading?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"6",className:"text-center",children:"Loading..."})}):""!==a.errorMsg?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"6",className:"text-center",children:a.errorMsg})}):Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"6",className:"text-center",children:"Unable to get data"})}):a.data.data.map((function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.name}),Object(v.jsx)("td",{children:e.description}),Object(v.jsx)("td",{children:e.created_at}),Object(v.jsx)("td",{children:e.updated_at}),Object(v.jsx)("td",{children:Object(v.jsxs)(D.a,{size:"sm",children:[Object(v.jsx)(k.a,{variant:"danger",onClick:function(){L(e.id)},children:"Delete"}),Object(v.jsx)(k.a,{onClick:function(t){return f(e),void C(!0)},children:"Edit"})]})})]},t)}))})]}),Object(v.jsx)(I.a,{children:function(){if(!A.a.isEmpty(a.data.links))return a.data.links.map((function(e,t){return Object(v.jsx)(I.a.Item,{active:e.active,onClick:function(){return S(e.url)},disabled:!e.url,children:Object(v.jsx)("span",{dangerouslySetInnerHTML:{__html:e.label}})},t)}))}()})]})]})},X=Z,$="/campaigns",ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$;return function(){var e=Object(j.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"CAMPAIGN_REQUEST"}),e.next=4,g.a.get(t);case 4:n=e.sent,a({type:"CAMPAIGN_FETCH",payload:n.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a({type:"CAMPAIGN_FAIL",payload:e.t0.response.data});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},te=function(e,t){return function(){var e=Object(j.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"CAMPAIGN_REQUEST"}),e.next=4,g.a.delete("/campaigns/"+t);case 4:n=e.sent,a({type:"CAMPAIGN_DELETE",payload:n.data.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response.data),a({type:"CAMPAIGN_FAIL",payload:e.t0.response.data.data});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},ae=a(66),ne=a.n(ae),re=a(136),ce=a.n(re),se=(a(188),function(e){var t=Object(b.b)(),a=Object(b.c)((function(e){return e.Campaign})),c=Object(n.useState)({loading:!1,data:[],errorMsg:""}),s=Object(u.a)(c,2),i=s[0],o=s[1],p=Object(n.useState)(!1),x=Object(u.a)(p,2),m=x[0],f=x[1],y=Object(n.useState)({}),E=Object(u.a)(y,2),_=E[0],C=E[1],N=Object(n.useState)({}),S=Object(u.a)(N,2),M=S[0],F=S[1],B=Object(n.useState)(!1),G=Object(u.a)(B,2),H=G[0],z=G[1],q=Object(n.useState)(!1),V=Object(u.a)(q,2),W=V[0],Y=V[1],Q=function(){return z(!1)},K=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y(!0),o(Object(l.a)(Object(l.a)({},i),{},{loading:!0})),e.next=4,g.a.get("/campaigns/"+t);case 4:a=e.sent,n=a.data.data,o(Object(l.a)(Object(l.a)({},i),{},{data:n,loading:!1}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();r.a.useEffect((function(){J()}),[]);var J=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/campaigns";t(ee(e,a))},Z=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,r,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/actions?search="+t);case 2:for(a=e.sent,n=a.data.data,r=[],c=0;c<n.data.length;c++)s=n.data[c],r=[].concat(Object(L.a)(r),[{value:s.id,label:s.name}]);return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/rewards");case 2:for(t=e.sent,a=t.data.data,n=[],r=0;r<a.data.length;r++)c=a.data[r],n=[].concat(Object(L.a)(n),[{value:c.id,label:c.name}]);return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(l.a)(Object(l.a)({},M),{},{campaign_id:i.data.id}),e.next=3,g.a.post("/campaign_rewards",t);case 3:a=e.sent,n=a.data.data,(r=i).data.campaigns.data=[n].concat(Object(L.a)(r.data.campaigns.data)),o(Object(l.a)(Object(l.a)({},i),r));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(j.a)(d.a.mark((function e(a,n){var r,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n,e.next="campaign"===e.t0?3:11;break;case 3:return e.next=5,g.a.delete("campaign_rewards/"+a);case 5:return r=e.sent,c=r.data.data,(s=i.data).campaigns.data=s.campaigns.data.filter((function(e){return e.id!==c.id})),o(Object(l.a)(Object(l.a)({},i),{},{data:s})),e.abrupt("break",13);case 11:return t(te(0,a)),e.abrupt("break",13);case 13:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),se=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get(t);case 2:a=e.sent,n=a.data.data,o(Object(l.a)(Object(l.a)({},i),{},{data:n}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(e){switch(e){case"campaigns":if(!A.a.isEmpty(i.data.campaigns)&&!A.a.isEmpty(i.data.campaigns.links))return i.data.campaigns.links.map((function(e,t){return Object(v.jsx)(I.a.Item,{active:e.active,onClick:function(){return se(e.url)},disabled:!e.url,children:Object(v.jsx)("span",{dangerouslySetInnerHTML:{__html:e.label}})},t)}));break;default:if(!A.a.isEmpty(a.data.links))return a.data.links.map((function(e,t){return Object(v.jsx)(I.a.Item,{active:e.active,onClick:function(){return J(e.url)},disabled:!e.url,children:Object(v.jsx)("span",{dangerouslySetInnerHTML:{__html:e.label}})},t)}))}};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(h.a,{children:Object(v.jsx)(k.a,{variant:"primary",onClick:function(){C({start_date:new Date,end_date:new Date}),z(!0)},children:"Add Campaign"})}),Object(v.jsxs)(h.a,{children:[Object(v.jsxs)(U.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Name"}),Object(v.jsx)("th",{children:"Description"}),Object(v.jsx)("th",{children:"Start"}),Object(v.jsx)("th",{children:"End"}),Object(v.jsx)("th",{children:"Created"}),Object(v.jsx)("th",{children:"Updated"}),Object(v.jsx)("th",{children:"Actions"})]})}),Object(v.jsx)("tbody",{children:A.a.isEmpty(a.data.data)?a.loading?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"6",className:"text-center",children:"Loading..."})}):""!==a.errorMsg?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"6",className:"text-center",children:a.errorMsg})}):Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"6",className:"text-center",children:"No data available"})}):a.data.data.map((function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.name}),Object(v.jsx)("td",{children:e.description}),Object(v.jsx)("td",{children:Object(v.jsx)(ne.a,{format:"YYYY/MM/DD",children:e.start_date})}),Object(v.jsx)("td",{children:Object(v.jsx)(ne.a,{format:"YYYY/MM/DD",children:e.end_date})}),Object(v.jsx)("td",{children:Object(v.jsx)(ne.a,{format:"YYYY/MM/DD hh:mm:ss",children:e.created_at})}),Object(v.jsx)("td",{children:Object(v.jsx)(ne.a,{format:"YYYY/MM/DD hh:mm:ss",children:e.updated_at})}),Object(v.jsx)("td",{children:Object(v.jsxs)(D.a,{size:"sm",children:[Object(v.jsx)(k.a,{variant:"success",onClick:function(){K(e.id)},children:"Rewards"}),Object(v.jsx)(k.a,{variant:"danger",onClick:function(){re(e.id)},children:"Delete"}),Object(v.jsx)(k.a,{onClick:function(t){return C({id:(a=e).id,name:a.name,description:a.description,start_date:new Date(a.start_date),end_date:new Date(a.end_date)}),void z(!0);var a},children:"Edit"})]})})]},t)}))})]}),Object(v.jsx)(I.a,{children:ie()})]}),Object(v.jsx)(R.a,{show:H,onHide:Q,children:Object(v.jsxs)(w.a,{noValidate:!0,validated:m,onSubmit:function(e){e.preventDefault(),e.stopPropagation();var a=e.currentTarget;f(!0),!1!==a.checkValidity()&&(_.id?t(function(e,t){return function(){var e=Object(j.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"CAMPAIGN_REQUEST"}),e.next=4,g.a.put("/campaigns/"+t.id,t);case 4:return n=e.sent,a({type:"CAMPAIGN_UPDATE",payload:n.data.data}),e.abrupt("return",Promise.resolve());case 9:return e.prev=9,e.t0=e.catch(0),a({type:"CAMPAIGN_FAIL",payload:e.t0.response.data.data}),e.abrupt("return",Promise.reject());case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}(0,_)).then((function(){z(!1)})).catch((function(){alert("error")})):t(function(e,t){return function(){var e=Object(j.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"CAMPAIGN_REQUEST"}),e.next=4,g.a.post($,t);case 4:return n=e.sent,a({type:"CAMPAIGN_ADD",payload:n.data.data}),e.abrupt("return",Promise.resolve());case 9:return e.prev=9,e.t0=e.catch(0),a({type:"CAMPAIGN_FAIL",payload:e.t0.response.data.data}),e.abrupt("return",Promise.reject());case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}(0,_)).then((function(){z(!1)})).catch((function(){alert("error")})))},children:[Object(v.jsx)(R.a.Header,{closeButton:!0,children:Object(v.jsx)(R.a.Title,{children:A.a.isUndefined(_.id)?"Add Campaign":"Edit Campaign"})}),Object(v.jsx)(R.a.Body,{children:[{key:"id",title:"ID",type:"hidden",placeholder:"Campaign ID",control_id:"formCampaignId",hidden:!0},{key:"name",title:"Name",type:"text",placeholder:"Enter campaign name",control_id:"formCampaignName",required:!0},{key:"description",title:"Description",type:"text",placeholder:"Enter campaign description",control_id:"formCampaignDescription",required:!0},{key:"start_date",title:"Start Date",type:"datepicker",placeholder:"Enter campaign start date",control_id:"formStartDescription",required:!0},{key:"end_date",title:"End Date",type:"datepicker",placeholder:"Enter campaign end date",control_id:"formEndDescription",required:!0}].map((function(e,t){return"text"===e.type?Object(v.jsxs)(w.a.Group,{hidden:e.hidden,as:h.a,controlId:e.control_id,children:[Object(v.jsx)(w.a.Label,{column:!0,sm:3,children:e.title}),Object(v.jsx)(O.a,{sm:9,children:Object(v.jsx)(w.a.Control,{required:e.required,type:e.type,placeholder:e.placeholder,value:A.a.isUndefined(_[e.key])?"":_[e.key],onChange:function(t){return C((function(a){return Object(l.a)(Object(l.a)({},a),{},Object(T.a)({},e.key,t.target.value))}))}})})]},t):"select"===e.type?Object(v.jsxs)(w.a.Group,{hidden:e.hidden,as:h.a,controlId:e.control_id,children:[Object(v.jsx)(w.a.Label,{column:!0,sm:3,children:e.title}),Object(v.jsx)(O.a,{sm:9,children:Object(v.jsx)(w.a.Control,{size:"sm",required:e.required,as:e.type,placeholder:e.placeholder,value:A.a.isUndefined(_[e.key])?"":_[e.key],onChange:function(t){return C((function(a){return Object(l.a)(Object(l.a)({},a),{},Object(T.a)({},e.key,t.target.value))}))},children:e.options.map((function(e,t){return Object(v.jsx)("option",{value:e.key,children:e.label},t)}))})})]},t):"datepicker"===e.type?Object(v.jsxs)(w.a.Group,{hidden:e.hidden,as:h.a,controlId:e.control_id,children:[Object(v.jsx)(w.a.Label,{column:!0,sm:3,children:e.title}),Object(v.jsx)(O.a,{sm:9,children:Object(v.jsx)(ce.a,{className:"form-control",minDate:new Date,dateFormat:"MM/dd/yyyy",selected:_[e.key],onChange:function(t){return C((function(a){return Object(l.a)(Object(l.a)({},a),{},Object(T.a)({},e.key,t))}))}})})]},t):void 0}))}),Object(v.jsxs)(R.a.Footer,{children:[Object(v.jsx)(k.a,{variant:"secondary",onClick:Q,children:"Close"}),Object(v.jsx)(k.a,{variant:"primary",type:"submit",children:"Save Changes"})]})]})}),Object(v.jsxs)(R.a,{show:W,onHide:function(){return Y(!1)},children:[Object(v.jsx)(R.a.Header,{closeButton:!0,children:Object(v.jsx)(R.a.Title,{children:"Rewards"})}),Object(v.jsxs)(R.a.Body,{children:[Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"12",children:"Action:"}),Object(v.jsx)(O.a,{md:"12",children:Object(v.jsx)(P.a,{cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return new Promise((function(t){setTimeout((function(){t(Z(e))}),1e3)}))},onChange:function(e){return F((function(t){return Object(l.a)(Object(l.a)({},t),{},{action_id:e.value})}))}})}),Object(v.jsx)(O.a,{md:"12",children:"Reward:"}),Object(v.jsx)(O.a,{md:"12",children:Object(v.jsx)(P.a,{cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return new Promise((function(t){setTimeout((function(){t(X(e))}),1e3)}))},onChange:function(e){return F((function(t){return Object(l.a)(Object(l.a)({},t),{},{reward_id:e.value})}))}})}),Object(v.jsx)(O.a,{md:"12",children:Object(v.jsx)(k.a,{onClick:ae,children:"Add"})})]}),Object(v.jsx)(h.a,{children:Object(v.jsxs)(O.a,{md:"12",children:[Object(v.jsxs)(U.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Reward"}),Object(v.jsx)("th",{children:"Action"})]})}),Object(v.jsx)("tbody",{children:A.a.isEmpty(i.data.campaigns)||A.a.isEmpty(i.data.campaigns.data)?i.loading?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"6",className:"text-center",children:"Loading..."})}):""!==i.errorMsg?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"6",className:"text-center",children:a.errorMsg})}):Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"6",className:"text-center",children:"No data available"})}):i.data.campaigns.data.map((function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.reward.name}),Object(v.jsx)("td",{children:e.action.name}),Object(v.jsx)("td",{children:Object(v.jsx)(D.a,{size:"sm",children:Object(v.jsx)(k.a,{variant:"danger",onClick:function(){re(e.id,"campaign")},children:"Delete"})})})]},t)}))})]}),Object(v.jsx)(I.a,{children:ie("campaigns")})]})})]})]})]})}),ie=function(e){var t=Object(b.c)((function(e){return e.Auth}));return 1===t.user.type||2===t.user.type?se(e):function(e){var t=Object(b.b)(),a=Object(b.c)((function(e){return e.Campaign}));r.a.useEffect((function(){n()}),[]);var n=function(){t(ee(e,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/campaigns"))};return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(h.a,{className:"pt-3",children:A.a.isEmpty(a.data.data)?a.loading?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"6",className:"text-center",children:"Loading..."})}):""!==a.errorMsg?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"6",className:"text-center",children:a.errorMsg})}):Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"6",className:"text-center",children:"No data available"})}):a.data.data.map((function(e,t){return Object(v.jsx)(O.a,{md:4,children:Object(v.jsx)(p.a,{children:Object(v.jsxs)(p.a.Body,{children:[Object(v.jsx)(p.a.Title,{children:e.name}),Object(v.jsxs)(p.a.Text,{children:[Object(v.jsx)(h.a,{children:Object(v.jsx)(O.a,{children:e.description})}),Object(v.jsx)(h.a,{children:Object(v.jsxs)(O.a,{children:["Expiration: ",e.end_date]})})]})]})},t)})}))})})}(e)},oe=function(e){Object(b.b)();var t=e.match.params.campaign,a=Object(n.useState)(""),c=Object(u.a)(a,2),s=(c[0],c[1],Object(n.useState)({})),i=Object(u.a)(s,2),o=i[0],l=i[1];r.a.useEffect((function(){p()}),[]);var p=function(){var e=Object(j.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/campaigns/"+t);case 2:n=e.sent,console.log(n.data.data),l(n.data.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{md:"12",children:o.name}),Object(v.jsx)(O.a,{md:"12",children:o.description})]})})},de="/rewards",le=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:de;return function(){var e=Object(j.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"REWARD_REQUEST"}),e.next=4,g.a.get(t);case 4:n=e.sent,a({type:"REWARD_FETCH",payload:n.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a({type:"REWARD_FAIL",payload:e.t0.response.data});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},je=function(e){var t=Object(b.b)(),a=Object(b.c)((function(e){return e.Reward})),c=Object(n.useState)(!1),s=Object(u.a)(c,2),i=s[0],o=s[1],p=Object(n.useState)({}),x=Object(u.a)(p,2),m=x[0],f=x[1],y=Object(n.useState)(!1),E=Object(u.a)(y,2),_=E[0],C=E[1],N=function(){return C(!1)};r.a.useEffect((function(){S()}),[]);var S=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/rewards";t(le(e,a))},L=function(e){t(function(e,t){return function(){var e=Object(j.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"REWARD_REQUEST"}),e.next=4,g.a.delete("/rewards/"+t);case 4:n=e.sent,a({type:"REWARD_DELETE",payload:n.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a({type:"REWARD_FAIL",payload:e.t0.response.data.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}(0,e))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(h.a,{children:[Object(v.jsx)(k.a,{variant:"primary",onClick:function(){f({type:"item"}),C(!0)},children:"Add Reward"}),Object(v.jsx)(R.a,{show:_,onHide:N,children:Object(v.jsxs)(w.a,{noValidate:!0,validated:i,onSubmit:function(e){e.preventDefault(),e.stopPropagation();var a=e.currentTarget;o(!0),!1!==a.checkValidity()&&(m.id?t(function(e,t){return function(){var e=Object(j.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"REWARD_REQUEST"}),e.next=4,g.a.put("/rewards/"+t.id,t);case 4:return n=e.sent,a({type:"REWARD_UPDATE",payload:n.data.data}),e.abrupt("return",Promise.resolve());case 9:return e.prev=9,e.t0=e.catch(0),a({type:"REWARD_FAIL",payload:e.t0.response.data}),e.abrupt("return",Promise.reject());case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}(0,m)).then((function(){C(!1)})).catch((function(){alert("error")})):t(function(e,t){return function(){var e=Object(j.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"REWARD_REQUEST"}),e.next=4,g.a.post(de,t);case 4:return n=e.sent,a({type:"REWARD_ADD",payload:n.data.data}),e.abrupt("return",Promise.resolve());case 9:return e.prev=9,e.t0=e.catch(0),a({type:"REWARD_FAIL",payload:e.t0.response.data}),e.abrupt("return",Promise.reject());case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}(0,m)).then((function(){C(!1)})).catch((function(){alert("error")})))},children:[Object(v.jsx)(R.a.Header,{closeButton:!0,children:Object(v.jsx)(R.a.Title,{children:"Add Reward"})}),Object(v.jsx)(R.a.Body,{children:[{key:"id",title:"Name",type:"hidden",placeholder:"Action ID",control_id:"formActionId",hidden:!0},{key:"type",title:"Type",type:"select",placeholder:"Enter action type",options:[{label:"Item",key:"item"},{label:"Discount",key:"discount"},{label:"Points",key:"points"}],control_id:"formActionType",required:!0},{key:"value",title:"Value",type:"number",min:0,placeholder:"Enter action name",control_id:"formValue",required:!0},{key:"name",title:"Name",type:"text",placeholder:"Enter action name",control_id:"formActionName",required:!0},{key:"description",title:"Description",type:"text",placeholder:"Enter action description",control_id:"formActionDescription",required:!0}].map((function(e,t){return"text"===e.type?Object(v.jsxs)(w.a.Group,{hidden:e.hidden,as:h.a,controlId:e.control_id,children:[Object(v.jsx)(w.a.Label,{column:!0,sm:3,children:e.title}),Object(v.jsx)(O.a,{sm:9,children:Object(v.jsx)(w.a.Control,{required:e.required,type:e.type,placeholder:e.placeholder,value:A.a.isUndefined(m[e.key])?"":m[e.key],onChange:function(t){return f((function(a){return Object(l.a)(Object(l.a)({},a),{},Object(T.a)({},e.key,t.target.value))}))}})})]},t):"number"===e.type&&"item"!=m.type?Object(v.jsxs)(w.a.Group,{hidden:e.hidden,as:h.a,controlId:e.control_id,children:[Object(v.jsx)(w.a.Label,{column:!0,sm:3,children:e.title}),Object(v.jsx)(O.a,{sm:9,children:Object(v.jsx)(w.a.Control,{required:e.required,type:e.type,placeholder:e.placeholder,value:A.a.isUndefined(m[e.key])?"":m[e.key],min:e.min,onChange:function(t){return f((function(a){return Object(l.a)(Object(l.a)({},a),{},Object(T.a)({},e.key,t.target.value))}))}})})]},t):"select"===e.type?Object(v.jsxs)(w.a.Group,{hidden:e.hidden,as:h.a,controlId:e.control_id,children:[Object(v.jsx)(w.a.Label,{column:!0,sm:3,children:e.title}),Object(v.jsx)(O.a,{sm:9,children:Object(v.jsx)(w.a.Control,{size:"sm",required:e.required,as:e.type,placeholder:e.placeholder,value:A.a.isUndefined(m[e.key])?"":m[e.key],onChange:function(t){return f((function(a){return Object(l.a)(Object(l.a)({},a),{},Object(T.a)({},e.key,t.target.value))}))},children:e.options.map((function(e,t){return Object(v.jsx)("option",{value:e.key,children:e.label},t)}))})})]},t):void 0}))}),Object(v.jsxs)(R.a.Footer,{children:[Object(v.jsx)(k.a,{variant:"secondary",onClick:N,children:"Close"}),Object(v.jsx)(k.a,{variant:"primary",type:"submit",children:"Save Changes"})]})]})})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsxs)(U.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Name"}),Object(v.jsx)("th",{children:"Description"}),Object(v.jsx)("th",{children:"Type"}),Object(v.jsx)("th",{children:"Created"}),Object(v.jsx)("th",{children:"Updated"}),Object(v.jsx)("th",{children:"Actions"})]})}),Object(v.jsx)("tbody",{children:A.a.isEmpty(a.data.data)?a.loading?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"6",className:"text-center",children:"Loading..."})}):""!==a.errorMsg?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"6",className:"text-center",children:a.errorMsg})}):Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"6",className:"text-center",children:"Unable to get data"})}):a.data.data.map((function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.name}),Object(v.jsx)("td",{children:e.description}),Object(v.jsx)("td",{children:e.type}),Object(v.jsx)("td",{children:e.created_at}),Object(v.jsx)("td",{children:e.updated_at}),Object(v.jsx)("td",{children:Object(v.jsxs)(D.a,{size:"sm",children:[Object(v.jsx)(k.a,{variant:"danger",onClick:function(){L(e.id)},children:"Delete"}),Object(v.jsx)(k.a,{onClick:function(t){return f(e),void C(!0)},children:"Edit"})]})})]},t)}))})]}),Object(v.jsx)(I.a,{children:function(){if(!A.a.isEmpty(a.data.links))return a.data.links.map((function(e,t){return Object(v.jsx)(I.a.Item,{active:e.active,onClick:function(){return S(e.url)},disabled:!e.url,children:Object(v.jsx)("span",{dangerouslySetInnerHTML:{__html:e.label}})},t)}))}()})]})]})},ue=function(e){var t=Object(b.b)(),a=Object(b.c)((function(e){return e.Reward})),n=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("redeem",{reward_id:t});case 2:a=e.sent,a.data.data;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.useEffect((function(){!function(){t(le(e,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/rewards"))}()}),[]),Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(h.a,{className:"pt-3",children:A.a.isEmpty(a.data.data)?a.loading?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"6",className:"text-center",children:"Loading..."})}):""!==a.errorMsg?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"6",className:"text-center",children:a.errorMsg})}):Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"6",className:"text-center",children:"Unable to get data"})}):a.data.data.map((function(e,t){return Object(v.jsx)(O.a,{md:4,className:"mb-3",children:Object(v.jsxs)(p.a,{style:{height:"100%"},children:[Object(v.jsxs)(p.a.Body,{children:[Object(v.jsx)(p.a.Title,{children:e.name}),Object(v.jsx)(p.a.Text,{children:e.description})]}),"points"!=e.type?Object(v.jsx)(k.a,{variant:"success",onClick:function(){return n(e.id)},children:"Redeem"}):""]},t)})}))})})},be=function(e){var t=Object(b.c)((function(e){return e.Auth}));return 1===t.user.type||2===t.user.type?je(e):ue(e)},he="/transactions",Oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(){var e=Object(j.a)(d.a.mark((function e(n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:"REQUEST"}),e.next=4,g.a.get(t,{params:a});case 4:r=e.sent,n({type:"FETCH_SUCCESS",payload:r.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n({type:"FAIL",payload:e.t0.response.data.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},pe=function(e,t){return function(){var e=Object(j.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"REQUEST"}),e.next=4,g.a.post(he,t);case 4:n=e.sent,a({type:"ADD_SUCCESS",payload:n.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a({type:"FAIL",payload:e.t0.response.data.data});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},xe=function(e,t){return function(){var e=Object(j.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"REQUEST"}),e.next=3,g.a.put("/transactions/"+t.id,t).then((function(e){a({type:"UPDATE_SUCCESS",payload:e.data.data})})).catch((function(e){e.response&&a({type:"FAIL",payload:e.response.data.message})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},me=a(104),fe=(a(246),a(22)),ge=a.n(fe),ve=function(e){var t=Object(b.b)(),a=Object(b.c)((function(e){return e.Transaction})),c=Object(n.useState)(!1),s=Object(u.a)(c,2),i=s[0],o=s[1],p=Object(n.useState)({}),x=Object(u.a)(p,2),m=x[0],f=x[1],y=Object(n.useState)({}),E=Object(u.a)(y,2),_=(E[0],E[1]),C=Object(n.useState)({type:"all"}),N=Object(u.a)(C,2),S=N[0],M=N[1],D=Object(n.useState)(!1),F=Object(u.a)(D,2),B=F[0],G=F[1],H=Object(n.useState)(!1),z=Object(u.a)(H,2),q=z[0],V=z[1],W=Object(n.useState)({}),Y=Object(u.a)(W,2),Q=Y[0],K=Y[1],J=function(){V(!1),K({})},Z=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.put("transactions/"+Q.id,Q).then((function(e){t({type:"UPDATE_SUCCESS",payload:e.data.data}),J()})).catch((function(e){e.response&&t({type:"FAIL",payload:e.response.data.message})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){return G(!1)};r.a.useEffect((function(){$()}),[]);var $=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/transactions",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;t(Oe(e,a,n))},ee=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/rewards");case 2:for(t=e.sent,a=t.data.data,n=[],r=0;r<a.data.length;r++)c=a.data[r],n=[].concat(Object(L.a)(n),[{value:c.id,label:c.name}]);return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(e,t){var a=S;a=Object(l.a)(Object(l.a)({},a),{},Object(T.a)({},e,t)),M(a),$("/transactions",a)};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(h.a,{children:[Object(v.jsx)(k.a,{variant:"primary",onClick:function(e){f({}),G(!0)},children:"Add Package"}),Object(v.jsx)(R.a,{show:B,onHide:X,children:Object(v.jsxs)(w.a,{noValidate:!0,validated:i,onSubmit:function(e){e.preventDefault(),e.stopPropagation();var a=e.currentTarget;o(!0),!1!==a.checkValidity()&&(m.id?t(xe(0,m)):t(pe(0,m)))},children:[Object(v.jsx)(R.a.Header,{closeButton:!0,children:Object(v.jsx)(R.a.Title,{children:"Add Package"})}),Object(v.jsxs)(R.a.Body,{children:[[].map((function(e,t){return Object(v.jsxs)(w.a.Group,{hidden:e.hidden,as:h.a,controlId:e.control_id,children:[Object(v.jsx)(w.a.Label,{column:!0,sm:3,children:e.title}),Object(v.jsx)(O.a,{sm:9,children:Object(v.jsx)(w.a.Control,{required:e.required,type:e.type,placeholder:e.placeholder,value:m[e.key],onChange:function(t){return f((function(a){return Object(l.a)(Object(l.a)({},a),{},Object(T.a)({},e.key,t.target.value))}))}})})]},t)})),Object(v.jsx)(P.a,{cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return new Promise((function(t){setTimeout((function(){t(ee(e))}),1e3)}))},onChange:function(e){return _((function(t){return Object(l.a)(Object(l.a)({},t),{},{reward_id:e.value})}))},placeholder:"None"})]}),Object(v.jsxs)(R.a.Footer,{children:[Object(v.jsx)(k.a,{variant:"secondary",onClick:X,children:"Close"}),Object(v.jsx)(k.a,{variant:"primary",type:"submit",children:"Save Changes"})]})]})})]}),Object(v.jsx)(h.a,{children:Object(v.jsxs)(O.a,{md:12,children:[Object(v.jsx)(w.a.Group,{controlId:"exampleForm.SelectCustom",children:Object(v.jsxs)(w.a.Row,{children:[Object(v.jsx)(w.a.Label,{column:"sm",lg:1,children:"Type"}),Object(v.jsx)(O.a,{lg:3,children:Object(v.jsxs)(w.a.Control,{as:"select",size:"sm",custom:!0,defaultValue:A.a.isEmpty(S)||A.a.isEmpty(S.type)?"all":S.type,onChange:function(e){return function(e){var t=S;t=Object(l.a)(Object(l.a)({},t),{},{type:e}),M(t),$("/transactions",t)}(e.target.value)},children:[Object(v.jsx)("option",{value:"all",children:"All"}),Object(v.jsx)("option",{value:"rewards",children:"Rewards"}),Object(v.jsx)("option",{value:"redeems",children:"Redeems"})]})})]})}),Object(v.jsxs)(w.a.Group,{children:[Object(v.jsxs)(w.a.Row,{children:[Object(v.jsx)(w.a.Label,{column:"sm",lg:1,children:"Transaction ID"}),Object(v.jsx)(O.a,{lg:3,children:Object(v.jsx)(w.a.Control,{size:"sm",type:"text",placeholder:"e.g. abcd1234",onChange:function(e){return te("transaction_id",e.target.value)}})})]}),Object(v.jsxs)(w.a.Row,{children:[Object(v.jsx)(w.a.Label,{column:"sm",lg:1,children:"Reference No."}),Object(v.jsx)(O.a,{lg:3,children:Object(v.jsx)(w.a.Control,{size:"sm",type:"text",placeholder:"e.g. abcd1234",onChange:function(e){return te("reference_no",e.target.value)}})})]}),Object(v.jsxs)(w.a.Row,{children:[Object(v.jsx)(w.a.Label,{column:"sm",lg:1,children:"Customer"}),Object(v.jsx)(O.a,{lg:3,children:Object(v.jsx)(w.a.Control,{size:"sm",type:"text",placeholder:"e.g. John Doe",onChange:function(e){return te("customer",e.target.value)}})})]}),Object(v.jsxs)(w.a.Row,{children:[Object(v.jsx)(w.a.Label,{column:"sm",lg:1,children:"Salesperson"}),Object(v.jsx)(O.a,{lg:3,children:Object(v.jsx)(w.a.Control,{size:"sm",type:"text",placeholder:"e.g. Jane Doe",onChange:function(e){return te("salesperson",e.target.value)}})})]}),Object(v.jsxs)(w.a.Row,{children:[Object(v.jsx)(w.a.Label,{column:"sm",lg:1,children:"Date"}),Object(v.jsx)(O.a,{lg:3,children:Object(v.jsx)(me.a,{initialSettings:{startDate:ge()(),endDate:ge()()},onCallback:function(e,t,a){var n=S;e=e.format("YYYY-MM-DD"),t=t.format("YYYY-MM-DD"),n=Object(l.a)(Object(l.a)({},n),{},{start_date:e,end_date:t}),M(n),$("/transactions",n)},children:Object(v.jsx)("input",{type:"text",className:"form-control"})})})]})]})]})}),Object(v.jsxs)(h.a,{children:[Object(v.jsxs)(R.a,{show:q,onHide:J,children:[Object(v.jsx)(R.a.Header,{closeButton:!0,children:Object(v.jsx)(R.a.Title,{children:"Are you sure?"})}),Object(v.jsxs)(R.a.Body,{children:[Object(v.jsxs)("p",{children:["You want to mark this as ",Object(v.jsx)("b",{children:A.a.isEmpty(Q)?"":Q.status}),"?"]}),A.a.isEmpty(Q)||"confirmed"!=Q.status?"":Object(v.jsxs)(w.a.Group,{controlId:"formBasicEmail",children:[Object(v.jsx)(w.a.Label,{children:"Reference No."}),Object(v.jsx)(w.a.Control,{type:"text",placeholder:"Enter reference no.",onChange:function(e){return K((function(t){return Object(l.a)(Object(l.a)({},t),{},{reference_no:e.target.value})}))}})]})]}),Object(v.jsxs)(R.a.Footer,{children:[Object(v.jsx)(k.a,{variant:"secondary",onClick:J,children:"Close"}),Object(v.jsx)(k.a,{variant:"primary",onClick:function(e){return Z()},children:"Save Changes"})]})]}),Object(v.jsxs)(U.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Transaction ID"}),Object(v.jsx)("th",{children:"Type"}),Object(v.jsx)("th",{children:"Reference No."}),Object(v.jsx)("th",{children:"Running Balance"}),Object(v.jsx)("th",{children:"Cost"}),Object(v.jsx)("th",{children:"Customer"}),Object(v.jsx)("th",{children:"Salesperson"}),Object(v.jsx)("th",{children:"Created"}),Object(v.jsx)("th",{children:"Updated"}),Object(v.jsx)("th",{style:{width:"10%"},children:"Status"})]})}),Object(v.jsx)("tbody",{children:A.a.isEmpty(a.data.data)?a.loading?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"10",className:"text-center",children:"Loading..."})}):""!==a.errorMsg?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"10",className:"text-center",children:a.errorMsg})}):Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"10",className:"text-center",children:"Unable to get data"})}):a.data.data.map((function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.transaction_id}),Object(v.jsx)("td",{children:e.type}),Object(v.jsx)("td",{children:e.reference_no}),Object(v.jsx)("td",{children:e.balance}),Object(v.jsx)("td",{children:e.cost}),Object(v.jsx)("td",{children:e.customer.name}),Object(v.jsx)("td",{children:e.salesperson?e.salesperson.name:""}),Object(v.jsx)("td",{children:e.created_at}),Object(v.jsx)("td",{children:e.updated_at}),Object(v.jsx)("td",{children:Object(v.jsx)(w.a.Group,{controlId:"exampleForm.SelectCustom",children:Object(v.jsx)(w.a.Row,{children:Object(v.jsxs)(w.a.Control,{as:"select",size:"sm",custom:!0,value:e.status,onChange:function(t){return a=e.id,n=t.target.value,e.status,V(!0),void K({id:a,status:n});var a,n},children:[Object(v.jsx)("option",{value:"pending",children:"Pending"}),Object(v.jsx)("option",{value:"cancelled",children:"Cancelled"}),Object(v.jsx)("option",{value:"confirmed",children:"Confirmed"}),Object(v.jsx)("option",{value:"completed",children:"Completed"})]})})})})]},t)}))})]}),Object(v.jsx)(I.a,{children:function(){if(!A.a.isEmpty(a.data.links))return a.data.links.map((function(e,t){return Object(v.jsx)(I.a.Item,{active:e.active,onClick:function(){return $(e.url,{})},disabled:!e.url,children:Object(v.jsx)("span",{dangerouslySetInnerHTML:{__html:e.label}})},t)}))}()})]})]})},ye=function(e){var t=Object(b.b)(),a=Object(b.c)((function(e){return e.Transaction})),c=Object(n.useState)(!1),s=Object(u.a)(c,2),i=s[0],o=s[1],p=Object(n.useState)({}),x=Object(u.a)(p,2),m=x[0],f=x[1],y=Object(n.useState)({}),E=Object(u.a)(y,2),_=(E[0],E[1]),C=Object(n.useState)({type:"all"}),N=Object(u.a)(C,2),S=N[0],M=N[1],D=Object(n.useState)(!1),F=Object(u.a)(D,2),B=F[0],G=F[1],H=Object(n.useState)(!1),z=Object(u.a)(H,2),q=z[0],V=z[1],W=Object(n.useState)({}),Y=Object(u.a)(W,2),Q=Y[0],K=Y[1],J=function(){V(!1),K({})},Z=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.put("transactions/"+Q.id,Q).then((function(e){t({type:"UPDATE_SUCCESS",payload:e.data.data}),J()})).catch((function(e){e.response&&t({type:"FAIL",payload:e.response.data.message})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){return G(!1)};r.a.useEffect((function(){$()}),[]);var $=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/transactions",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;t(Oe(e,a,n))},ee=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/rewards");case 2:for(t=e.sent,a=t.data.data,n=[],r=0;r<a.data.length;r++)c=a.data[r],n=[].concat(Object(L.a)(n),[{value:c.id,label:c.name}]);return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(e,t){var a=S;a=Object(l.a)(Object(l.a)({},a),{},Object(T.a)({},e,t)),M(a),$("/transactions",a)};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(h.a,{children:[Object(v.jsx)(k.a,{variant:"primary",onClick:function(e){f({}),G(!0)},children:"Add Package"}),Object(v.jsx)(R.a,{show:B,onHide:X,children:Object(v.jsxs)(w.a,{noValidate:!0,validated:i,onSubmit:function(e){e.preventDefault(),e.stopPropagation();var a=e.currentTarget;o(!0),!1!==a.checkValidity()&&(m.id?t(xe(0,m)):t(pe(0,m)))},children:[Object(v.jsx)(R.a.Header,{closeButton:!0,children:Object(v.jsx)(R.a.Title,{children:"Add Package"})}),Object(v.jsxs)(R.a.Body,{children:[[].map((function(e,t){return Object(v.jsxs)(w.a.Group,{hidden:e.hidden,as:h.a,controlId:e.control_id,children:[Object(v.jsx)(w.a.Label,{column:!0,sm:3,children:e.title}),Object(v.jsx)(O.a,{sm:9,children:Object(v.jsx)(w.a.Control,{required:e.required,type:e.type,placeholder:e.placeholder,value:m[e.key],onChange:function(t){return f((function(a){return Object(l.a)(Object(l.a)({},a),{},Object(T.a)({},e.key,t.target.value))}))}})})]},t)})),Object(v.jsx)(P.a,{cacheOptions:!0,defaultOptions:!0,loadOptions:function(e){return new Promise((function(t){setTimeout((function(){t(ee(e))}),1e3)}))},onChange:function(e){return _((function(t){return Object(l.a)(Object(l.a)({},t),{},{reward_id:e.value})}))},placeholder:"None"})]}),Object(v.jsxs)(R.a.Footer,{children:[Object(v.jsx)(k.a,{variant:"secondary",onClick:X,children:"Close"}),Object(v.jsx)(k.a,{variant:"primary",type:"submit",children:"Save Changes"})]})]})})]}),Object(v.jsx)(h.a,{children:Object(v.jsxs)(O.a,{md:12,children:[Object(v.jsx)(w.a.Group,{controlId:"exampleForm.SelectCustom",children:Object(v.jsxs)(w.a.Row,{children:[Object(v.jsx)(w.a.Label,{column:"sm",lg:1,children:"Type"}),Object(v.jsx)(O.a,{lg:3,children:Object(v.jsxs)(w.a.Control,{as:"select",size:"sm",custom:!0,defaultValue:A.a.isEmpty(S)||A.a.isEmpty(S.type)?"all":S.type,onChange:function(e){return function(e){var t=S;t=Object(l.a)(Object(l.a)({},t),{},{type:e}),M(t),$("/transactions",t)}(e.target.value)},children:[Object(v.jsx)("option",{value:"all",children:"All"}),Object(v.jsx)("option",{value:"rewards",children:"Rewards"}),Object(v.jsx)("option",{value:"redeems",children:"Redeems"})]})})]})}),Object(v.jsxs)(w.a.Group,{children:[Object(v.jsxs)(w.a.Row,{children:[Object(v.jsx)(w.a.Label,{column:"sm",lg:1,children:"Transaction ID"}),Object(v.jsx)(O.a,{lg:3,children:Object(v.jsx)(w.a.Control,{size:"sm",type:"text",placeholder:"e.g. abcd1234",onChange:function(e){return te("transaction_id",e.target.value)}})})]}),Object(v.jsxs)(w.a.Row,{children:[Object(v.jsx)(w.a.Label,{column:"sm",lg:1,children:"Reference No."}),Object(v.jsx)(O.a,{lg:3,children:Object(v.jsx)(w.a.Control,{size:"sm",type:"text",placeholder:"e.g. abcd1234",onChange:function(e){return te("reference_no",e.target.value)}})})]}),Object(v.jsxs)(w.a.Row,{children:[Object(v.jsx)(w.a.Label,{column:"sm",lg:1,children:"Salesperson"}),Object(v.jsx)(O.a,{lg:3,children:Object(v.jsx)(w.a.Control,{size:"sm",type:"text",placeholder:"e.g. Jane Doe",onChange:function(e){return te("salesperson",e.target.value)}})})]}),Object(v.jsxs)(w.a.Row,{children:[Object(v.jsx)(w.a.Label,{column:"sm",lg:1,children:"Date"}),Object(v.jsx)(O.a,{lg:3,children:Object(v.jsx)(me.a,{initialSettings:{startDate:ge()(),endDate:ge()()},onCallback:function(e,t,a){var n=S;e=e.format("YYYY-MM-DD"),t=t.format("YYYY-MM-DD"),n=Object(l.a)(Object(l.a)({},n),{},{start_date:e,end_date:t}),M(n),$("/transactions",n)},children:Object(v.jsx)("input",{type:"text",className:"form-control"})})})]})]})]})}),Object(v.jsxs)(h.a,{children:[Object(v.jsxs)(R.a,{show:q,onHide:J,children:[Object(v.jsx)(R.a.Header,{closeButton:!0,children:Object(v.jsx)(R.a.Title,{children:"Are you sure?"})}),Object(v.jsxs)(R.a.Body,{children:[Object(v.jsxs)("p",{children:["You want to mark this as ",Object(v.jsx)("b",{children:A.a.isEmpty(Q)?"":Q.status}),"?"]}),A.a.isEmpty(Q)||"confirmed"!=Q.status?"":Object(v.jsxs)(w.a.Group,{controlId:"formBasicEmail",children:[Object(v.jsx)(w.a.Label,{children:"Reference No."}),Object(v.jsx)(w.a.Control,{type:"text",placeholder:"Enter reference no.",onChange:function(e){return K((function(t){return Object(l.a)(Object(l.a)({},t),{},{reference_no:e.target.value})}))}})]})]}),Object(v.jsxs)(R.a.Footer,{children:[Object(v.jsx)(k.a,{variant:"secondary",onClick:J,children:"Close"}),Object(v.jsx)(k.a,{variant:"primary",onClick:function(e){return Z()},children:"Save Changes"})]})]}),Object(v.jsxs)(U.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Transaction ID"}),Object(v.jsx)("th",{children:"Type"}),Object(v.jsx)("th",{children:"Reference No."}),Object(v.jsx)("th",{children:"Running Balance"}),Object(v.jsx)("th",{children:"Cost"}),Object(v.jsx)("th",{children:"Customer"}),Object(v.jsx)("th",{children:"Salesperson"}),Object(v.jsx)("th",{children:"Created"}),Object(v.jsx)("th",{children:"Updated"}),Object(v.jsx)("th",{style:{width:"10%"},children:"Status"})]})}),Object(v.jsx)("tbody",{children:A.a.isEmpty(a.data.data)?a.loading?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"10",className:"text-center",children:"Loading..."})}):""!==a.errorMsg?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"10",className:"text-center",children:a.errorMsg})}):Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"10",className:"text-center",children:"Unable to get data"})}):a.data.data.map((function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.transaction_id}),Object(v.jsx)("td",{children:e.type}),Object(v.jsx)("td",{children:e.reference_no}),Object(v.jsx)("td",{children:e.balance}),Object(v.jsx)("td",{children:e.cost}),Object(v.jsx)("td",{children:e.customer.name}),Object(v.jsx)("td",{children:e.salesperson?e.salesperson.name:""}),Object(v.jsx)("td",{children:e.created_at}),Object(v.jsx)("td",{children:e.updated_at}),Object(v.jsx)("td",{children:Object(v.jsx)(w.a.Group,{controlId:"exampleForm.SelectCustom",children:Object(v.jsx)(w.a.Row,{children:Object(v.jsxs)(w.a.Control,{as:"select",size:"sm",custom:!0,value:e.status,onChange:function(t){return a=e.id,n=t.target.value,e.status,V(!0),void K({id:a,status:n});var a,n},children:[Object(v.jsx)("option",{value:"pending",children:"Pending"}),Object(v.jsx)("option",{value:"cancelled",children:"Cancelled"}),Object(v.jsx)("option",{value:"confirmed",children:"Confirmed"}),Object(v.jsx)("option",{value:"completed",children:"Completed"})]})})})})]},t)}))})]}),Object(v.jsx)(I.a,{children:function(){if(!A.a.isEmpty(a.data.links))return a.data.links.map((function(e,t){return Object(v.jsx)(I.a.Item,{active:e.active,onClick:function(){return $(e.url,{})},disabled:!e.url,children:Object(v.jsx)("span",{dangerouslySetInnerHTML:{__html:e.label}})},t)}))}()})]})]})},we=function(e){var t=Object(b.c)((function(e){return e.Auth}));return 1===t.user.type||2===t.user.type?ve(e):ye(e)},ke=(a(130),a(68),a(82)),Ee=a(267),_e={url:{API_URL:"https://fr-api.thedreamteamdigitalmarketing.com/v1",API_URL_USERS:"https://fr-api.thedreamteamdigitalmarketing.com",BROADCAST_URL:"localhost",BROADCAST_KEY:"FRPUSHERKEY"}},Ce=(a(247),a(139)),Ne=a(271),Se=a(55),Ae=function(e){var t=Object(n.useState)({loading:!1,data:[]}),a=Object(u.a)(t,2),c=a[0],s=a[1],i=Object(b.c)((function(e){return e.Auth}));r.a.useEffect((function(){h(),o()}),[]);var o=function(){window.Echo.private("App.Models.User."+i.user.id).notification((function(e){var t={data:{data:e.data,title:e.title},created_at:ge()()};s((function(e){return Object(l.a)(Object(l.a)({},e),{},{data:[].concat(Object(L.a)(e.data),[t])})}))}))},h=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("notifications");case 2:t=e.sent,a=t.data.data,s((function(e){return Object(l.a)(Object(l.a)({},e),{},{data:a,loading:!1})}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)(Ne.a,{collapseOnSelect:!0,className:"sticky-top",expand:"*",bg:"dark",variant:"dark",children:[Object(v.jsxs)(Ne.a.Brand,{className:"col-sm-3 col-md-2 mr-0 px-3",href:"#home",children:[Object(v.jsx)("img",{alt:"",src:"/logo.svg",width:"30",height:"30",className:"d-inline-block align-top"}),"Frontier Rewards"]}),Object(v.jsx)("button",{className:"navbar-toggler position-absolute d-md-none collapsed",type:"button","data-toggle":"collapse","data-target":"#sidebarMenu","aria-controls":"sidebarMenu","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(v.jsx)("span",{className:"navbar-toggler-icon"})}),Object(v.jsx)(Se.a,{data:c.data.map((function(e,t){return{message:e.data.title,timestamp:parseInt(ge.a.parseZone(e.created_at).format("x"))}})),storageKey:"notific_key",notific_key:"timestamp",notific_value:"update",heading:"Notification Alerts",sortedByKey:!1,showDate:!0,size:30,color:"yellow"}),Object(v.jsx)("ul",{className:"navbar-nav px-3",children:Object(v.jsx)("li",{className:"nav-item text-nowrap",children:Object(v.jsx)(M.b,{className:"nav-link",onClick:function(t){return e.onLogout()},children:"Logout"})})})]})},Te=function(e){return Object(v.jsx)(Ne.a.Collapse,{id:"sidebarMenu",className:"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse",children:Object(v.jsx)("div",{className:"sidebar-sticky pt-3",children:Object(v.jsxs)("ul",{className:"nav flex-column",children:[Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsxs)(M.b,{className:"nav-link",to:"/",children:[Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-home",children:[Object(v.jsx)("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),Object(v.jsx)("polyline",{points:"9 22 9 12 15 12 15 22"})]}),"Dashboard ",Object(v.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsxs)(M.b,{className:"nav-link",to:"/actions",children:[Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-file",children:[Object(v.jsx)("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),Object(v.jsx)("polyline",{points:"13 2 13 9 20 9"})]}),"Actions"]})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsxs)(M.b,{className:"nav-link",to:"/packages",children:[Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-file",children:[Object(v.jsx)("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),Object(v.jsx)("polyline",{points:"13 2 13 9 20 9"})]}),"Packages"]})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsxs)(M.b,{className:"nav-link",to:"/rewards",children:[Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-file",children:[Object(v.jsx)("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),Object(v.jsx)("polyline",{points:"13 2 13 9 20 9"})]}),"Rewards"]})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsxs)(M.b,{className:"nav-link",to:"/campaigns",children:[Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-file",children:[Object(v.jsx)("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),Object(v.jsx)("polyline",{points:"13 2 13 9 20 9"})]}),"Campaigns"]})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsxs)(M.b,{className:"nav-link",to:"/users",children:[Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-users",children:[Object(v.jsx)("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),Object(v.jsx)("circle",{cx:"9",cy:"7",r:"4"}),Object(v.jsx)("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),Object(v.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),"Users"]})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsxs)(M.b,{className:"nav-link",to:"/transactions",children:[Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-bar-chart-2",children:[Object(v.jsx)("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),Object(v.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),Object(v.jsx)("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]}),"Transactions"]})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsxs)(M.b,{className:"nav-link",to:"/transactions",children:[Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-bar-chart-2",children:[Object(v.jsx)("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),Object(v.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),Object(v.jsx)("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]}),"Settings"]})})]})})})},Le=(a(131),function(e){var t=Object(n.useState)({loading:!1,data:[]}),a=Object(u.a)(t,2),c=a[0],s=a[1],i=Object(b.c)((function(e){return e.Auth}));r.a.useEffect((function(){h(),o()}),[]);var o=function(){window.Echo.private("App.Models.User."+i.user.id).notification((function(e){var t={data:{data:e.data,title:e.title},created_at:ge()()};s((function(e){return Object(l.a)(Object(l.a)({},e),{},{data:[].concat(Object(L.a)(e.data),[t])})}))}))},h=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("notifications");case 2:t=e.sent,a=t.data.data,s((function(e){return Object(l.a)(Object(l.a)({},e),{},{data:a,loading:!1})}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)(Ne.a,{collapseOnSelect:!0,className:"sticky-top",expand:"*",bg:"dark",variant:"dark",children:[Object(v.jsxs)(Ne.a.Brand,{className:"col-sm-3 col-md-2 mr-0 px-3",href:"#home",children:[Object(v.jsx)("img",{alt:"",src:"/logo.svg",width:"30",height:"30",className:"d-inline-block align-top"}),"Frontier Rewards"]}),Object(v.jsx)("button",{className:"navbar-toggler position-absolute d-md-none collapsed",type:"button","data-toggle":"collapse","data-target":"#sidebarMenu","aria-controls":"sidebarMenu","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(v.jsx)("span",{className:"navbar-toggler-icon"})}),Object(v.jsx)(Se.a,{data:c.data.map((function(e,t){return{message:e.data.title,timestamp:parseInt(ge.a.parseZone(e.created_at).format("x"))}})),storageKey:"notific_key",notific_key:"timestamp",notific_value:"message",heading:"Notification Alerts",sortedByKey:!1,showDate:!1,size:64,color:"yellow",getDayDiff:function(e){return""}}),Object(v.jsx)("ul",{className:"navbar-nav px-3",children:Object(v.jsx)("li",{className:"nav-item text-nowrap",children:Object(v.jsx)(M.b,{className:"nav-link",onClick:function(t){return e.onLogout()},children:"Logout"})})})]})}),Me=function(e){return Object(v.jsx)(Ne.a.Collapse,{id:"sidebarMenu",className:"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse",children:Object(v.jsx)("div",{className:"sidebar-sticky pt-3",children:Object(v.jsxs)("ul",{className:"nav flex-column",children:[Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsxs)(M.b,{className:"nav-link",to:"/",children:[Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-home",children:[Object(v.jsx)("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),Object(v.jsx)("polyline",{points:"9 22 9 12 15 12 15 22"})]}),"Dashboard ",Object(v.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsxs)(M.b,{className:"nav-link",to:"/actions",children:[Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-file",children:[Object(v.jsx)("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),Object(v.jsx)("polyline",{points:"13 2 13 9 20 9"})]}),"Actions"]})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsxs)(M.b,{className:"nav-link",to:"/packages",children:[Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-file",children:[Object(v.jsx)("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),Object(v.jsx)("polyline",{points:"13 2 13 9 20 9"})]}),"Packages"]})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsxs)(M.b,{className:"nav-link",to:"/rewards",children:[Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-file",children:[Object(v.jsx)("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),Object(v.jsx)("polyline",{points:"13 2 13 9 20 9"})]}),"Rewards"]})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsxs)(M.b,{className:"nav-link",to:"/campaigns",children:[Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-file",children:[Object(v.jsx)("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),Object(v.jsx)("polyline",{points:"13 2 13 9 20 9"})]}),"Campaigns"]})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsxs)("a",{className:"nav-link",to:"/users",children:[Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-users",children:[Object(v.jsx)("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),Object(v.jsx)("circle",{cx:"9",cy:"7",r:"4"}),Object(v.jsx)("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),Object(v.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),"Users"]})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsxs)("a",{className:"nav-link",to:"/transactions",children:[Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-bar-chart-2",children:[Object(v.jsx)("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),Object(v.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),Object(v.jsx)("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]}),"Transactions"]})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsxs)("a",{className:"nav-link",to:"/profile",children:[Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-bar-chart-2",children:[Object(v.jsx)("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),Object(v.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),Object(v.jsx)("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]}),"Profile"]})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsxs)("a",{className:"nav-link",to:"/transactions",children:[Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-bar-chart-2",children:[Object(v.jsx)("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),Object(v.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),Object(v.jsx)("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]}),"Settings"]})})]})})})},Ie=function(e){var t=Object(n.useState)({loading:!1,data:[]}),a=Object(u.a)(t,2),c=a[0],s=a[1],i=Object(b.c)((function(e){return e.Auth}));r.a.useEffect((function(){h(),o()}),[]);var o=function(){window.Echo.private("App.Models.User."+i.user.id).notification((function(e){var t={data:{data:e.data,title:e.title},created_at:ge()()};s((function(e){return Object(l.a)(Object(l.a)({},e),{},{data:[].concat(Object(L.a)(e.data),[t])})}))}))},h=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("notifications");case 2:t=e.sent,a=t.data.data,s((function(e){return Object(l.a)(Object(l.a)({},e),{},{data:a,loading:!1})}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)(Ne.a,{collapseOnSelect:!0,className:"sticky-top",expand:"*",bg:"dark",variant:"dark",children:[Object(v.jsxs)(Ne.a.Brand,{className:"col-sm-3 col-md-2 mr-0 px-3",href:"#home",children:[Object(v.jsx)("img",{alt:"",src:"/logo.svg",width:"30",height:"30",className:"d-inline-block align-top"}),"Frontier Rewards"]}),Object(v.jsx)("button",{className:"navbar-toggler position-absolute d-md-none collapsed",type:"button","data-toggle":"collapse","data-target":"#sidebarMenu","aria-controls":"sidebarMenu","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(v.jsx)("span",{className:"navbar-toggler-icon"})}),Object(v.jsx)(Se.a,{data:c.data.map((function(e,t){return{message:e.data.title,timestamp:parseInt(ge.a.parseZone(e.created_at).format("x"))}})),storageKey:"notific_key",notific_key:"timestamp",notific_value:"message",heading:"Notification Alerts",sortedByKey:!1,showDate:!1,size:64,color:"yellow",getDayDiff:function(e){return""}}),Object(v.jsx)("ul",{className:"navbar-nav px-3",children:Object(v.jsx)("li",{className:"nav-item text-nowrap",children:Object(v.jsx)(M.b,{className:"nav-link",onClick:function(t){return e.onLogout()},children:"Logout"})})})]})},De=function(e){return Object(v.jsx)(Ne.a.Collapse,{id:"sidebarMenu",className:"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse",children:Object(v.jsx)("div",{className:"sidebar-sticky pt-3",children:Object(v.jsxs)("ul",{className:"nav flex-column",children:[Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsxs)(M.b,{className:"nav-link",to:"/",children:[Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-home",children:[Object(v.jsx)("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),Object(v.jsx)("polyline",{points:"9 22 9 12 15 12 15 22"})]}),"Dashboard ",Object(v.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsxs)(M.b,{className:"nav-link",to:"/rewards",children:[Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-file",children:[Object(v.jsx)("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),Object(v.jsx)("polyline",{points:"13 2 13 9 20 9"})]}),"Rewards"]})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsxs)(M.b,{className:"nav-link",to:"/campaigns",children:[Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-file",children:[Object(v.jsx)("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),Object(v.jsx)("polyline",{points:"13 2 13 9 20 9"})]}),"Campaigns"]})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsxs)("a",{className:"nav-link",to:"/transactions",children:[Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-bar-chart-2",children:[Object(v.jsx)("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),Object(v.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),Object(v.jsx)("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]}),"Transactions"]})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsxs)(M.b,{className:"nav-link",to:"/profile",children:[Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-file",children:[Object(v.jsx)("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),Object(v.jsx)("polyline",{points:"13 2 13 9 20 9"})]}),"Profile"]})})]})})})},Re=(a(250),function(e){var t=e.component,a=Object(ke.a)(e,["component"]),n=Object(b.b)(),r=Object(b.c)((function(e){return e.Auth}));if(!A.a.isEmpty(r.user)){g.a.defaults.headers.Authorization="Bearer "+r.user.token;window.Echo=new Ce.a({broadcaster:"pusher",key:"FRPUSHERKEY",wsHost:_e.url.BROADCAST_URL,wsPort:6001,disableStats:!0,forceTLS:!1,authorizer:function(e,t){return{authorize:function(t,a){g.a.post("/broadcasting/auth",{socket_id:t,channel_name:e.name}).then((function(e){g.a.defaults.headers["X-Socket-ID"]=t,a(!1,e.data)})).catch((function(e){a(!0,e)}))}}}}),window.Echo.private("notification").listen("UserRegistered",(function(e){console.log("channel",e)}))}return Object(v.jsx)(i.b,Object(l.a)(Object(l.a)({},a),{},{render:function(e){if(A.a.isEmpty(r.user))return Object(v.jsx)(i.a,{to:{pathname:"/login",state:{from:e.location}}});var c=function(t){n(function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"USER_REQUEST"}),e.next=4,g.a.post("/logout");case 4:a=e.sent,window.Echo.disconnect(),t({type:"LOGOUT_SUCCESS",payload:a.data.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"USER_FAIL",payload:e.t0.response.data.data});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),e.history.push("/login")};return-1==A.a.indexOf(a.allowed,r.user.type)?Object(v.jsx)(v.Fragment,{children:"Not Allowed"}):1==r.user.type?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Ae,{onLogout:c}),Object(v.jsx)(Ee.a,{fluid:!0,children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)(Te,{}),Object(v.jsx)("main",{role:"main",className:"col-md-9 ml-sm-auto col-lg-10 px-md-4",children:Object(v.jsx)(t,Object(l.a)({},e))})]})})]}):2==r.user.type?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Le,{onLogout:c}),Object(v.jsx)(Ee.a,{fluid:!0,children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)(Me,{}),Object(v.jsx)("main",{role:"main",className:"col-md-9 ml-sm-auto col-lg-10 px-md-4",children:Object(v.jsx)(t,Object(l.a)({},e))})]})})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Ie,{onLogout:c}),Object(v.jsx)(Ee.a,{fluid:!0,children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)(De,{userid:r.user.id}),Object(v.jsx)("main",{role:"main",className:"col-md-9 ml-sm-auto col-lg-10 px-md-4",children:Object(v.jsx)(t,Object(l.a)({},e))})]})})]})}}))}),Ue=function(e){var t=e.component,a=Object(ke.a)(e,["component"]),n=Object(b.c)((function(e){return e.Auth}));return Object(v.jsx)(i.b,Object(l.a)(Object(l.a)({},a),{},{render:function(e){return A.a.isEmpty(n.user)?Object(v.jsx)(t,Object(l.a)({},e)):Object(v.jsx)(i.a,{to:{pathname:"/",state:{from:e.location}}})}}))};var Pe=function(){return Object(v.jsxs)(i.d,{children:[Object(v.jsx)(Ue,{path:"/login",exact:!0,component:N}),Object(v.jsx)(Re,{path:"/users",exact:!0,component:F,allowed:[1,2]}),Object(v.jsx)(Re,{path:"/user/:user",exact:!0,component:V,allowed:[1,2]}),Object(v.jsx)(Re,{path:"/profile",exact:!0,component:W,allowed:[2,3]}),Object(v.jsx)(Re,{path:"/packages",exact:!0,component:Q,allowed:[1,2]}),Object(v.jsx)(Re,{path:"/actions",exact:!0,component:X,allowed:[1,2]}),Object(v.jsx)(Re,{path:"/rewards",exact:!0,component:be,allowed:[1,2,3]}),Object(v.jsx)(Re,{path:"/transactions",exact:!0,component:we,allowed:[1,2,3]}),Object(v.jsx)(Re,{path:"/campaigns",exact:!0,component:ie,allowed:[1,2,3]}),Object(v.jsx)(Re,{path:"/campaign/:campaign",exact:!0,component:oe}),Object(v.jsx)(Re,{path:"/",exact:!0,component:y,allowed:[1,2,3]}),Object(v.jsx)(i.b,{path:"*",component:function(){return"404 NOT FOUND"}})]})},Fe=(a(251),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,275)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))}),Be=a(42),Ge=a(140),He=a(141),ze={loading:!1,data:[],count:0,errorMsg:""},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_LIST_LOADING":return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case"PRODUCT_LIST_SUCCESS":return Object(l.a)(Object(l.a)({},e),{},{loading:!1,data:t.payload,errorMsg:""});case"PRODUCT_LIST_FAIL":return Object(l.a)(Object(l.a)({},e),{},{loading:!1,errorMsg:"Unable to get products"});default:return e}},Ve={loading:!1,data:{},errorMsg:""},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTION_REQUEST":return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case"ACTION_FETCH":return Object(l.a)(Object(l.a)({},e),{},{loading:!1,data:t.payload,errorMsg:""});case"ACTION_ADD":var a=e.data,n=[].concat(Object(L.a)(e.data.data),[t.payload]);return a.data=n,Object(l.a)(Object(l.a)({},e),{},{loading:!1,data:a,errorMsg:""});case"ACTION_UPDATE":a=e.data;var r=e.data.data.findIndex((function(e){return e.id===t.payload.id}));n=Object(l.a)(Object(l.a)({},e.data.data[r]),t.payload);return a.data[r]=n,Object(l.a)(Object(l.a)({},e),{},{loading:!1,data:a,errorMsg:""});case"ACTION_DELETE":n=e.data;var c=e.data.data.filter((function(e){return e.id!==t.payload.id}));return n.data=c,Object(l.a)(Object(l.a)({},e),{},{loading:!1,data:n,errorMsg:""});case"ACTION_FAIL":return Object(l.a)(Object(l.a)({},e),{},{loading:!1,errorMsg:t.payload.error});default:return e}},Ye={loading:!1,user:"undefined"!=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{},errorMsg:""},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_REQUEST":return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case"LOGIN_SUCCESS":return localStorage.setItem("user",JSON.stringify(t.payload)),Object(l.a)(Object(l.a)({},e),{},{loading:!1,user:t.payload,errorMsg:""});case"LOGIN_FAIL":return Object(l.a)(Object(l.a)({},e),{},{loading:!1,errorMsg:t.payload.error});case"LOGOUT_REQUEST":return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case"LOGOUT_SUCCESS":return localStorage.removeItem("user"),Object(l.a)(Object(l.a)({},e),{},{loading:!1,user:{},errorMsg:""});case"LOGOUT_FAIL":return Object(l.a)(Object(l.a)({},e),{},{loading:!1,errorMsg:t.payload.error});default:return e}},Ke={loading:!1,data:{},errorMsg:""},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CAMPAIGN_REQUEST":return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case"CAMPAIGN_FETCH":return Object(l.a)(Object(l.a)({},e),{},{loading:!1,data:t.payload,errorMsg:""});case"CAMPAIGN_ADD":var a=[].concat(Object(L.a)(e.data.data),[t.payload]);return(n=e.data).data=a,Object(l.a)(Object(l.a)({},e),{},{loading:!1,data:n,errorMsg:""});case"CAMPAIGN_UPDATE":var n=e.data,r=e.data.data.findIndex((function(e){return e.id===t.payload.id}));a=Object(l.a)(Object(l.a)({},e.data.data[r]),t.payload);return n.data[r]=a,Object(l.a)(Object(l.a)({},e),{},{loading:!1,data:n,errorMsg:""});case"CAMPAIGN_DELETE":n=e.data,a=e.data.data.filter((function(e){return e.id!==t.payload.id}));return n.data=a,Object(l.a)(Object(l.a)({},e),{},{loading:!1,data:n,errorMsg:""});case"CAMPAIGN_FAIL":return Object(l.a)(Object(l.a)({},e),{},{loading:!1,errorMsg:t.payload.error});default:return e}},Ze={loading:!1,data:{},errorMsg:""},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PACKAGE_REQUEST":return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case"PACKAGE_SUCCESS":return Object(l.a)(Object(l.a)({},e),{},{loading:!1,data:t.payload,errorMsg:""});case"PACKAGE_ADDED":var a=e.data,n=[].concat(Object(L.a)(e.data.data),[t.payload]);return a.data=n,Object(l.a)(Object(l.a)({},e),{},{loading:!1,data:a,errorMsg:""});case"PACKAGE_UPDATED":a=e.data;var r=e.data.data.findIndex((function(e){return e.id===t.payload.id}));n=Object(l.a)(Object(l.a)({},e.data.data[r]),t.payload);return a.data[r]=n,Object(l.a)(Object(l.a)({},e),{},{loading:!1,data:a,errorMsg:""});case"PACKAGE_DELETED":a=e.data,n=e.data.data.filter((function(e){return e.id!==t.payload.id}));return a.data=n,Object(l.a)(Object(l.a)({},e),{},{loading:!1,data:a,errorMsg:""});case"PACKAGE_FAIL":return Object(l.a)(Object(l.a)({},e),{},{loading:!1,errorMsg:t.payload.error});default:return e}},$e={loading:!1,data:{},errorMsg:""},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REWARD_REQUEST":return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case"REWARD_FETCH":return Object(l.a)(Object(l.a)({},e),{},{loading:!1,data:t.payload,errorMsg:""});case"REWARD_ADD":var a=e.data,n=[].concat(Object(L.a)(e.data.data),[t.payload]);return a.data=n,Object(l.a)(Object(l.a)({},e),{},{loading:!1,data:a,errorMsg:""});case"REWARD_UPDATE":a=e.data;var r=e.data.data.findIndex((function(e){return e.id===t.payload.id}));n=Object(l.a)(Object(l.a)({},e.data.data[r]),t.payload);return a.data[r]=n,Object(l.a)(Object(l.a)({},e),{},{loading:!1,data:a,errorMsg:""});case"REWARD_DELETE":a=e.data,n=e.data.data.filter((function(e){return e.id!==t.payload.id}));return a.data=n,Object(l.a)(Object(l.a)({},e),{},{loading:!1,data:a,errorMsg:""});case"REWARD_FAIL":return Object(l.a)(Object(l.a)({},e),{},{loading:!1,errorMsg:t.payload.error});default:return e}},tt={loading:!1,data:{},errorMsg:""},at=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,a=arguments.length>1?arguments[1]:void 0,n=t.data;switch(a.type){case"REQUEST":return Object(l.a)(Object(l.a)({},t),{},{loading:!0});case"FETCH_SUCCESS":return Object(l.a)(Object(l.a)({},t),{},{loading:!1,data:a.payload,errorMsg:""});case"ADD_SUCCESS":return e=Object(L.a)(t.data.data),n.data=e,Object(l.a)(Object(l.a)({},t),{},{loading:!1,data:n,errorMsg:""});case"UPDATE_SUCCESS":var r=t.data.data.findIndex((function(e){return e.id===a.payload.id}));return e=Object(l.a)(Object(l.a)({},t.data.data[r]),a.payload),n.data[r]=e,console.log("update success 2"),Object(l.a)(Object(l.a)({},t),{},{loading:!1,data:n,errorMsg:""});case"DELETE_SUCCESS":return e=t.data.data.filter((function(e){return e.id!==a.payload.id})),n.data=e,Object(l.a)(Object(l.a)({},t),{},{loading:!1,data:n,errorMsg:""});case"FAIL":return Object(l.a)(Object(l.a)({},t),{},{loading:!1,errorMsg:a.payload});default:return t}},nt={loading:!1,data:{},errorMsg:""},rt=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,a=arguments.length>1?arguments[1]:void 0,n=t.data;switch(a.type){case"USER_REQUEST":return Object(l.a)(Object(l.a)({},t),{},{loading:!0});case"USER_FETCH":return Object(l.a)(Object(l.a)({},t),{},{loading:!1,data:a.payload,errorMsg:""});case"USER_ADD":return e=[a.payload].concat(Object(L.a)(t.data.data)),n.data=e,Object(l.a)(Object(l.a)({},t),{},{loading:!1,data:n,errorMsg:""});case"USER_UPDATE":var r=t.data.data.findIndex((function(e){return e.id===a.payload.id}));return e=Object(l.a)(Object(l.a)({},t.data.data[r]),a.payload),n.data[r]=e,Object(l.a)(Object(l.a)({},t),{},{loading:!1,data:n,errorMsg:""});case"USER_DELETE":return e=t.data.data.filter((function(e){return e.id!==a.payload.id})),n.data=e,Object(l.a)(Object(l.a)({},t),{},{loading:!1,data:n,errorMsg:""});case"USER_FAIL":return Object(l.a)(Object(l.a)({},t),{},{loading:!1,errorMsg:a.payload.error});default:return t}},ct=Object(Be.combineReducers)({Action:We,Auth:Qe,Campaign:Je,Package:Xe,ProductList:qe,Reward:et,Transaction:at,User:rt}),st=Object(Be.createStore)(ct,Object(Ge.composeWithDevTools)(Object(Be.applyMiddleware)((function(e){return function(e){return function(t){return e(t)}}}),He.a)));g.a.defaults.baseURL=_e.url.API_URL,g.a.defaults.headers={"Access-Control-Allow-Origin":"*",Accept:"application/json","Content-Type":"application/json"},s.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(M.a,{children:Object(v.jsx)(b.a,{store:st,children:Object(v.jsx)(Pe,{})})})}),document.getElementById("root")),Fe()}},[[252,1,2]]]);
//# sourceMappingURL=main.17addd3e.chunk.js.map