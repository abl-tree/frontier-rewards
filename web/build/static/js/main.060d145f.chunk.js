(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{142:function(e,t,a){},159:function(e,t,a){},185:function(e,t,a){},292:function(e,t,a){},293:function(e,t,a){},294:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(24),s=a.n(r),i=(a(159),a(26)),l=a(4),o=a.n(l),d=a(2),j=a(11),u=a(10),b=a(15),O=a(303),h=a(145),p=a(313),m=a(315),x=a(144),f=a.n(x),g=a(8),v=a.n(g),y={url:{API_URL:"https://fr-api.thedreamteamdigitalmarketing.com/v1",API_URL_USERS:"https://fr-api.thedreamteamdigitalmarketing.com",BASE_URL:"https://fr-api.thedreamteamdigitalmarketing.com",BROADCAST_URL:"localhost",BROADCAST_KEY:"658ad8bb2f982c7fa645",TIMEZONE:"Asia/Manila"}},k=a(0),_=function(e){var t=Object(b.c)((function(e){return e.Auth})),a=Object(n.useState)(0),r=Object(u.a)(a,2),s=r[0],i=r[1],l=Object(n.useState)(0),x=Object(u.a)(l,2),g=x[0],_=x[1],N=Object(n.useState)(0),E=Object(u.a)(N,2),w=E[0],T=E[1],I=Object(n.useState)(0),C=Object(u.a)(I,2),S=C[0],A=C[1],M=Object(n.useState)({options:{title:{text:"Transactions"},noData:{text:"No data"},labels:["Cancelled","Pending","Confirmed","Completed"],colors:["#d8334a","#ffd11f","#f9a72b","#ffeea3"]},series:[]}),R=Object(u.a)(M,2),P=R[0],D=R[1];c.a.useEffect((function(){L(),U(),F(),B(),G()}),[]);var L=function(){var e=Object(j.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/summary/transactions");case 2:a=e.sent,(0!=(n=a.data.data).cancelled||0!=n.pending||0!=n.confirmed||n.completed)&&D((function(e){return Object(d.a)(Object(d.a)({},e),{},{series:[n.cancelled,n.pending,n.confirmed,n.completed]})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(j.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/summary/active_campaigns");case 2:a=e.sent,n=a.data.data,i(n.total);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(j.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/summary/active_actions");case 2:a=e.sent,n=a.data.data,_(n.total);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(j.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/summary/total_customers");case 2:a=e.sent,n=a.data.data,T(n.total);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(j.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/summary/total_packages");case 2:a=e.sent,n=a.data.data,A(n.total);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(O.a,{className:"dashboard-page",children:[Object(k.jsx)(h.a,{md:12,className:"mb-3",children:Object(k.jsxs)(p.a,{indicators:!1,children:[Object(k.jsx)(p.a.Item,{children:Object(k.jsx)("img",{className:"d-block w-100",src:y.url.BASE_URL+"/images/slider-1.png",alt:"First slide"})}),Object(k.jsx)(p.a.Item,{children:Object(k.jsx)("img",{className:"d-block w-100",src:y.url.BASE_URL+"/images/slider-2.png",alt:"Second slide"})})]})}),Object(k.jsxs)(h.a,{className:"d-flex mt-n5",children:[Object(k.jsx)(h.a,{md:6,className:"mb-3",children:Object(k.jsx)(m.a,{children:Object(k.jsx)(m.a.Body,{children:Object(k.jsx)(m.a.Text,{children:Object(k.jsx)(f.a,{options:P.options,series:P.series,type:"pie"})})})})}),Object(k.jsx)(h.a,{md:6,className:"mb-3",children:Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:6,className:"mb-3",children:Object(k.jsx)(m.a,{children:Object(k.jsx)(m.a.Body,{children:Object(k.jsxs)(m.a.Text,{children:[Object(k.jsx)("h6",{children:"Active Campaigns"}),Object(k.jsx)("h3",{children:s})]})})})}),Object(k.jsx)(h.a,{md:6,className:"mb-3",children:Object(k.jsx)(m.a,{children:Object(k.jsx)(m.a.Body,{children:Object(k.jsxs)(m.a.Text,{children:[Object(k.jsx)("h6",{children:"Active Actions"}),Object(k.jsx)("h3",{children:g})]})})})}),3!=t.user.type&&Object(k.jsx)(h.a,{md:6,className:"mb-3",children:Object(k.jsx)(m.a,{children:Object(k.jsx)(m.a.Body,{children:Object(k.jsxs)(m.a.Text,{children:[Object(k.jsx)("h6",{children:"Users"}),Object(k.jsx)("h3",{children:w})]})})})}),Object(k.jsx)(h.a,{md:6,className:"mb-3",children:Object(k.jsx)(m.a,{children:Object(k.jsx)(m.a.Body,{children:Object(k.jsxs)(m.a.Text,{children:[Object(k.jsx)("h6",{children:"Packages"}),Object(k.jsx)("h3",{children:S})]})})})})]})})]})]})})},N=a(311),E=a(95),w=a(75),T=function(e,t){return function(){var a=Object(j.a)(o.a.mark((function a(n){var c;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"LOGIN_REQUEST"}),a.next=4,v.a.post("/login",t);case 4:c=a.sent,n({type:"LOGIN_SUCCESS",payload:c.data.data}),e.history.push("/"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n({type:"LOGIN_FAIL",payload:a.t0.response.data.data});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},I="/users",C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(){var e=Object(j.a)(o.a.mark((function e(n){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:"USER_REQUEST"}),e.next=4,v.a.get(t,{params:a});case 4:c=e.sent,n({type:"USER_FETCH",payload:c.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n({type:"USER_FAIL",payload:e.t0.response.data.data});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},S=(a(185),a.p+"static/media/logo.60af3259.png"),A=function(e){var t=Object(b.b)(),a=Object(b.c)((function(e){return e.Auth})),c=Object(n.useState)(""),r=Object(u.a)(c,2),s=r[0],i=r[1],l=Object(n.useState)(""),d=Object(u.a)(l,2),O=d[0],h=d[1],p=Object(n.useState)(!1),m=Object(u.a)(p,2),x=m[0],f=m[1],g=function(){var a=Object(j.a)(o.a.mark((function a(n){var c;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),n.stopPropagation(),c=n.currentTarget,f(!0),!1!==c.checkValidity()){a.next=6;break}return a.abrupt("return");case 6:t(T(e,{email:s,password:O}));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(k.jsx)("div",{className:"login-container text-center",children:Object(k.jsxs)(N.a,{className:"form-signin",noValidate:!0,validated:x,onSubmit:g,children:[Object(k.jsx)(E.a,{className:"mb-4",src:S,height:"180"}),Object(k.jsxs)("div",{className:"form-fields",children:[Object(k.jsx)(N.a.Control,{type:"email",placeholder:"EMAIL",onChange:function(e){return i(e.target.value)},isInvalid:a.errorMsg,required:!0}),Object(k.jsx)(N.a.Control,{type:"password",placeholder:"PASSWORD",onChange:function(e){return h(e.target.value)},isInvalid:a.errorMsg,required:!0}),Object(k.jsx)(N.a.Control.Feedback,{type:"invalid",children:a.errorMsg&&Object(k.jsx)("div",{children:a.errorMsg})}),Object(k.jsx)(w.a,{variant:"dark",type:"submit",children:"LOG IN"})]})]})})},M=a(5),R=a.n(M),P=(a(146),a(22)),D=a(19),L=a(18),U=a(317),F=a(304),B=a(147),G=a(310),z=a(305),H=a(306),q=a(34),Y=a(14),V=a(20),Q=a.n(V),K=function(e){var t=Object(b.b)(),a=Object(b.c)((function(e){return e.User})),r=Object(n.useState)(!1),s=Object(u.a)(r,2),i=s[0],l=s[1],p=Object(n.useState)({}),m=Object(u.a)(p,2),x=m[0],f=m[1],g=Object(n.useState)({}),_=Object(u.a)(g,2),E=_[0],T=_[1],I=Object(n.useState)(!1),S=Object(u.a)(I,2),A=S[0],V=S[1],K=(v.a.create({baseURL:"https://stage.apigw.cdkapps.eu",headers:{"Access-Control-Allow-Origin":"http://localhost:3000"}}),Object(n.useState)(!1)),W=Object(u.a)(K,2),Z=W[0],J=W[1],X=[{key:"user_type_id",title:"Type",type:"select",placeholder:"Enter action type",options:[{label:"Customer",key:"3"},{label:"Admin",key:"2"}],default:2,control_id:"formActionType",errorMsg:"Please select type.",required:!1},{key:"firstname",title:"First name",type:"text",placeholder:"Enter first name",control_id:"formFirstName",errorMsg:"Please provide first name.",required:!1},{key:"middlename",title:"Middle name",type:"text",placeholder:"Enter middle name",control_id:"formMiddleName"},{key:"lastname",title:"Last name",type:"text",placeholder:"Enter last name",control_id:"formLastName",errorMsg:"Please provide last name.",required:!1},{key:"email",title:"Email",type:"email",placeholder:"Enter email",control_id:"formEmail",errorMsg:"Please provide email address.",required:!1},{key:"phone_number",title:"Phone number",type:"text",placeholder:"Enter phone number",control_id:"formPhone",errorMsg:"Please provide phone number.",required:!1}],$=[{key:"user_type_id",title:"Type",type:"select",placeholder:"Enter action type",options:[{label:"Customer",key:"3"},{label:"Admin",key:"2"}],default:2,control_id:"formActionType",errorMsg:["Please select type."],required:!1,isInvalid:!1},{key:"customer_id",title:"Customer ID",type:"text",placeholder:"Enter customer ID",control_id:"formCustomerId",errorMsg:["Please provide customer ID."],required:!1,isInvalid:!1},{key:"firstname",title:"First name",type:"text",placeholder:"Enter first name",control_id:"formFirstName",errorMsg:["Please provide first name."],required:!1,isInvalid:!1},{key:"middlename",title:"Middle name",type:"text",placeholder:"Enter middle name",control_id:"formMiddleName"},{key:"lastname",title:"Last name",type:"text",placeholder:"Enter last name",control_id:"formLastName",errorMsg:["Please provide last name."],required:!1,isInvalid:!1},{key:"email",title:"Email",type:"email",placeholder:"Enter email",control_id:"formEmail",errorMsg:["Please provide email address."],required:!1,isInvalid:!1},{key:"phone_number",title:"Phone number",type:"text",placeholder:"Enter phone number",control_id:"formPhone",errorMsg:["Please provide phone number."],required:!1,isInvalid:!1},{key:"points",title:"Points",type:"number",placeholder:"Enter points",control_id:"formPoints",errorMsg:[],required:!1,isInvalid:!1},{key:"package_id",title:"Package",type:"asyncselect",placeholder:"Enter name",control_id:"formName",errorMsg:["Please add package."],required:!1,isInvalid:!1},{key:"vehicles",fields:[[{key:"vehicle_id",title:"ID",type:"text",placeholder:"Enter vehicle ID",control_id:"formVehicleID"},{key:"year",title:"Year",type:"text",placeholder:"Enter vehicle year",control_id:"formVehicleYear"},{key:"make",title:"Make",type:"text",placeholder:"Enter vehicle make",control_id:"formVehicleMake"},{key:"model",title:"Model",type:"text",placeholder:"Enter vehicle model",control_id:"formVehicleModel"},{key:"trim",title:"Trim",type:"text",placeholder:"Enter vehicle trim",control_id:"formVehicleTrim"},{key:"color",title:"Color",type:"text",placeholder:"Enter vehicle color",control_id:"formVehicleColor"},{key:"vin_no",title:"Vin No.",type:"text",placeholder:"Enter vehicle number",control_id:"formVehicleVinNo"}]]}],ee=Object(n.useState)($),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ce=[{key:"vehicle_id",title:"ID",type:"text",placeholder:"Enter vehicle ID",control_id:"formVehicleID"},{key:"year",title:"Year",type:"text",placeholder:"Enter vehicle year",control_id:"formVehicleYear"},{key:"make",title:"Make",type:"text",placeholder:"Enter vehicle make",control_id:"formVehicleMake"},{key:"model",title:"Model",type:"text",placeholder:"Enter vehicle model",control_id:"formVehicleModel"},{key:"trim",title:"Trim",type:"text",placeholder:"Enter vehicle trim",control_id:"formVehicleTrim"},{key:"color",title:"Color",type:"text",placeholder:"Enter vehicle color",control_id:"formVehicleColor"},{key:"vin_no",title:"Vin No.",type:"text",placeholder:"Enter vehicle number",control_id:"formVehicleVinNo"}],re=function(){return V(!1)},se=function(e,t){var a=function(a){if(Object.hasOwnProperty.call(t,a)){var s=t[a],i=a.split(".");"vehicles"===i[0]?3===i.length?(a=i[0],r=ae.findIndex((function(e){return e.key===a})),c=e[r].fields[i[1]].findIndex((function(e){return e.key===i[2]})),e[r].fields[i[1]][c].errorMsg=s,e[r].fields[i[1]][c].isInvalid=!0):(a=i[0],r=ae.findIndex((function(e){return e.key===a})),e[r].errorMsg=s,e[r].isInvalid=!0):(a="package_id.value"===a?"package_id":a,r=ae.findIndex((function(e){return e.key===a})),e[r].errorMsg=s,e[r].isInvalid=!0)}n=a};for(var n in t){var c,r;a(n)}ne(e),l(!0)},ie=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/users",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t(C(e,a,n))},le=function(e){var t=Q.a.tz.guess(!0);return(e=Q.a.tz(e,y.url.TIMEZONE)).tz(t)},oe=function(e){var t=Object(d.a)({},e),a=[].concat($),n=a.findIndex((function(e){return"vehicles"===e.key}));t.customer_id=t.info?t.info.customer_id:"",t.package_id=t.info?{value:t.info.package.id,label:t.info.package.name}:"",t.vehicles=t.vehicles.map((function(e,t){return t>0&&(a[n].fields=[].concat(Object(D.a)(a[n].fields),[ce])),Object(d.a)(Object(d.a)({},e.vehicle_info),{},{id:e.id})})),ne(a),f(t),V(!0)},de=function(e){t(function(e,t){return function(){var e=Object(j.a)(o.a.mark((function e(a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"USER_REQUEST"}),e.next=4,v.a.delete("/users/"+t);case 4:n=e.sent,a({type:"USER_DELETE",payload:n.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a({type:"USER_FAIL",payload:e.t0.response.data.data});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}(0,e))},je=function(){var e=Object(j.a)(o.a.mark((function e(t){var a,n,c,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/packages?search="+t);case 2:for(a=e.sent,n=a.data.data,c=[],r=0;r<n.data.length;r++)s=n.data[r],c=[].concat(Object(D.a)(c),[{value:s.id,label:s.name}]);return e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(e){return new Promise((function(t){setTimeout((function(){t(je(e))}),1e3)}))},be=function(e,t){return e.map((function(e,a){var n=a;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("p",{children:["Vehicle #",n+1," ",0!==n&&Object(k.jsx)(B.a,{onClick:function(){return Oe(n)}})]}),Object(k.jsx)("hr",{}),e.map((function(e,a){return Object(k.jsxs)(N.a.Group,{as:O.a,controlId:e.control_id,children:[Object(k.jsx)(N.a.Label,{column:!0,sm:3,children:e.title}),Object(k.jsxs)(h.a,{sm:9,children:[Object(k.jsx)(N.a.Control,{size:"sm",required:e.required,isInvalid:e.isInvalid,type:e.type,placeholder:e.placeholder,value:R.a.isUndefined(x[t])||R.a.isUndefined(x[t][n])||R.a.isUndefined(x[t][n][e.key])?"":x[t][n][e.key],defaultValue:R.a.isUndefined(x[t])||R.a.isUndefined(x[t][n])||R.a.isUndefined(x[t][n][e.key])?"":x[t][n][e.key],onChange:function(a){var c=x[t],r=c[n];r=Object(d.a)(Object(d.a)({},r),{},Object(P.a)({},e.key,a.target.value)),c[n]=r,f((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(P.a)({},t,c))}))}}),Object(k.jsx)(N.a.Control.Feedback,{type:"invalid",children:e.errorMsg})]})]},a)}))]})}))},Oe=function(e){var t=Object(D.a)(ae),a=t.findIndex((function(e){return"vehicles"===e.key})),n=t[a].fields.filter((function(t,a){return a!=e}));t[a].fields=n,ne(t);var c=Object(d.a)({},x);c.vehicles=c.vehicles.filter((function(t,a){return a!=e})),f(c)},he=function(e,t){var a=E;a=Object(d.a)(Object(d.a)({},a),{},Object(P.a)({},e,t)),T(a),ie("/users",a)};return c.a.useEffect((function(){ie()}),[]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:12,children:Object(k.jsx)(w.a,{variant:"primary",onClick:function(){f({user_type_id:3,vehicles:[{}]}),l(!1),ne($),V(!0)},children:"Add User"})}),Object(k.jsx)(G.a,{show:A,onHide:re,backdrop:"static",children:Object(k.jsxs)(N.a,{noValidate:!0,validated:i,onSubmit:function(e){e.preventDefault(),e.stopPropagation();var a=e.currentTarget,n=function(){var e=ae;l(!1);var t=(e=e.map((function(e,t){return Object(d.a)(Object(d.a)({},e),{},{isInvalid:!1})}))).findIndex((function(e){return"vehicles"===e.key}));return Object(M.isUndefined)(e[t])||(e[t].fields=e[t].fields.map((function(e,t){return e.map((function(e,t){return Object(d.a)(Object(d.a)({},e),{},{isInvalid:!1})}))}))),ne(e),e}();J(!0),!1!==a.checkValidity()&&(x.id?t(function(e,t){return function(){var e=Object(j.a)(o.a.mark((function e(a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"USER_REQUEST"}),e.next=4,v.a.put("/users/"+t.id,t);case 4:return n=e.sent,a({type:"USER_UPDATE",payload:n.data.data}),e.abrupt("return",Promise.resolve());case 9:return e.prev=9,e.t0=e.catch(0),a({type:"USER_FAIL",payload:e.t0.response.data.data}),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}(0,x)).then((function(){V(!1),J(!1),Y.b.success("User has been updated successfully",{position:Y.b.POSITION.BOTTOM_RIGHT})})).catch((function(e){if(J(!1),void 0!=typeof e.response.data.data){var t=e.response.data.data;se(n,t)}Y.b.error(e.response.data.message,{position:Y.b.POSITION.BOTTOM_RIGHT})})):t(function(e,t){return function(){var e=Object(j.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"USER_REQUEST"}),e.next=3,v.a.post("/register",t).then((function(e){return a({type:"USER_ADD",payload:e.data.data}),Promise.resolve()})).catch((function(e){return e.response&&a({type:"USER_FAIL",payload:e.response.data}),Promise.reject(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(0,x)).then((function(){V(!1),J(!1),Y.b.success("User has been added successfully",{position:Y.b.POSITION.BOTTOM_RIGHT})})).catch((function(e){if(J(!1),void 0!=typeof e.response.data.data){var t=e.response.data.data;se(n,t)}Y.b.error(e.response.data.message,{position:Y.b.POSITION.BOTTOM_RIGHT})})))},children:[Object(k.jsx)(G.a.Header,{closeButton:!0,children:Object(k.jsx)(G.a.Title,{children:R.a.isUndefined(x.id)?"Add User":"Edit User"})}),Object(k.jsxs)(G.a.Body,{children:[ae.map((function(e,t){return"vehicles"==e.key?be(e.fields,e.key):"text"===e.type||"email"===e.type||"number"===e.type?Object(k.jsxs)(N.a.Group,{as:O.a,controlId:e.control_id,children:[Object(k.jsx)(N.a.Label,{column:!0,sm:3,children:e.title}),Object(k.jsxs)(h.a,{sm:9,children:[Object(k.jsx)(N.a.Control,{size:"sm",required:e.required,isInvalid:e.isInvalid,type:e.type,placeholder:e.placeholder,value:R.a.isUndefined(x[e.key])?"":x[e.key],defaultValue:x[e.key],onChange:function(t){return f((function(a){return Object(d.a)(Object(d.a)({},a),{},Object(P.a)({},e.key,t.target.value))}))}}),Object(k.jsx)(N.a.Control.Feedback,{type:"invalid",children:e.errorMsg})]})]},t):"select"===e.type?Object(k.jsxs)(N.a.Group,{hidden:e.hidden,as:O.a,controlId:e.control_id,children:[Object(k.jsx)(N.a.Label,{column:!0,sm:3,children:e.title}),Object(k.jsxs)(h.a,{sm:9,children:[Object(k.jsx)(N.a.Control,{size:"sm",required:e.required,isInvalid:e.isInvalid,as:e.type,placeholder:e.placeholder,value:R.a.isUndefined(x[e.key])?"":x[e.key],onChange:function(t){l(!1),"user_type_id"==e.key&&(2==t.target.value?ne(X):ne($)),f((function(a){return Object(d.a)(Object(d.a)({},a),{},Object(P.a)({},e.key,t.target.value))}))},children:e.options.map((function(e,t){return Object(k.jsx)("option",{value:e.key,children:e.label},t)}))}),Object(k.jsx)(N.a.Control.Feedback,{type:"invalid",children:e.errorMsg})]})]},t):"asyncselect"===e.type&&"package_id"==e.key?Object(k.jsxs)(N.a.Group,{as:O.a,children:[Object(k.jsx)(N.a.Label,{column:!0,sm:3,children:e.title}),Object(k.jsxs)(h.a,{sm:9,children:[Object(k.jsx)(q.a,{size:"sm",className:e.isInvalid?"is-invalid":"",styles:{control:function(t,a){return Object(d.a)(Object(d.a)({},t),{},{borderColor:e.isInvalid?(a.isSelected,"red"):"#ced4da"})}},defaultOptions:!0,defaultValue:R.a.isUndefined(x[e.key])?"":x[e.key],loadOptions:ue,onChange:function(t){return f((function(a){return Object(d.a)(Object(d.a)({},a),{},Object(P.a)({},e.key,t))}))}}),e.isInvalid&&Object(k.jsx)(N.a.Control.Feedback,{type:"invalid",children:e.errorMsg})]})]},t):void 0})),3==x.user_type_id&&Object(k.jsx)(w.a,{variant:"primary",onClick:function(e){!function(){var e=Object(D.a)(ae),t=e.findIndex((function(e){return"vehicles"===e.key}));e[t].fields=[].concat(Object(D.a)(e[t].fields),[ce]),ne(e);var a=Object(d.a)({},x);a.vehicles=[].concat(Object(D.a)(a.vehicles),[{}]),f(a)}()},children:"Add Vehicle"})]}),Object(k.jsxs)(G.a.Footer,{children:[Object(k.jsx)(w.a,{variant:"secondary",onClick:re,children:"Close"}),Object(k.jsxs)(w.a,{variant:"primary",type:"submit",children:[Z&&Object(k.jsx)(z.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Save Changes"]})]})]})})]}),Object(k.jsx)(O.a,{children:Object(k.jsxs)(h.a,{md:12,children:[Object(k.jsx)(N.a.Group,{controlId:"exampleForm.SelectCustom",children:Object(k.jsxs)(N.a.Row,{children:[Object(k.jsx)(N.a.Label,{column:"sm",lg:1,children:"Type"}),Object(k.jsx)(h.a,{lg:3,children:Object(k.jsxs)(N.a.Control,{as:"select",size:"sm",custom:!0,defaultValue:R.a.isEmpty(E)||R.a.isEmpty(E.type)?"all":E.type,onChange:function(e){return function(e){var t=E;t=Object(d.a)(Object(d.a)({},t),{},{type:e}),T(t),ie("/users",t)}(e.target.value)},children:[Object(k.jsx)("option",{value:"all",children:"All"}),Object(k.jsx)("option",{value:"3",children:"Customers"}),Object(k.jsx)("option",{value:"2",children:"Admins"}),Object(k.jsx)("option",{value:"1",children:"Super Admins"})]})})]})}),Object(k.jsx)(N.a.Group,{children:Object(k.jsxs)(N.a.Row,{children:[Object(k.jsx)(N.a.Label,{column:"sm",lg:1,children:"Customer ID"}),Object(k.jsx)(h.a,{lg:3,children:Object(k.jsx)(N.a.Control,{size:"sm",type:"text",placeholder:"e.g ABC123",onChange:function(e){return he("customer_id",e.target.value)}})})]})}),Object(k.jsx)(N.a.Group,{children:Object(k.jsxs)(N.a.Row,{children:[Object(k.jsx)(N.a.Label,{column:"sm",lg:1,children:"Name"}),Object(k.jsx)(h.a,{lg:3,children:Object(k.jsx)(N.a.Control,{size:"sm",type:"text",placeholder:"e.g John Doe",onChange:function(e){return he("search",e.target.value)}})})]})}),Object(k.jsx)(N.a.Group,{children:Object(k.jsxs)(N.a.Row,{children:[Object(k.jsx)(N.a.Label,{column:"sm",lg:1,children:"Email"}),Object(k.jsx)(h.a,{lg:3,children:Object(k.jsx)(N.a.Control,{size:"sm",type:"text",placeholder:"e.g example@example.com",onChange:function(e){return he("email",e.target.value)}})})]})})]})}),Object(k.jsx)(O.a,{children:Object(k.jsxs)(h.a,{md:12,children:[Object(k.jsxs)(H.a,{responsive:!0,hover:!0,size:"sm",children:[Object(k.jsx)("thead",{className:"table-dark",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"ID"}),Object(k.jsx)("th",{children:"Name"}),Object(k.jsx)("th",{children:"Type"}),Object(k.jsx)("th",{children:"Email"}),Object(k.jsx)("th",{children:"Phone"}),Object(k.jsx)("th",{children:"Package"}),Object(k.jsx)("th",{children:"Created"}),Object(k.jsx)("th",{children:"Updated"}),Object(k.jsx)("th",{children:"Actions"})]})}),Object(k.jsx)("tbody",{children:R.a.isEmpty(a.data.data)?a.loading?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"9",className:"text-center",children:"Loading..."})}):""!==a.errorMsg?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"9",className:"text-center",children:a.errorMsg})}):Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"9",className:"text-center",children:"No data available"})}):a.data.data.map((function(e,t){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:Object(k.jsx)(L.b,{to:"user/"+e.id,children:e.info?e.info.customer_id:"-"})}),Object(k.jsx)("td",{children:Object(k.jsx)(L.b,{to:"user/"+e.id,children:e.name})}),Object(k.jsx)("td",{children:e.type_name}),Object(k.jsx)("td",{children:e.email}),Object(k.jsx)("td",{children:e.phone_number}),Object(k.jsx)("td",{children:e.info&&e.info.package?e.info.package.name:"None"}),Object(k.jsx)("td",{children:le(e.created_at).format("YYYY-MM-DD hh:mm:ss A")}),Object(k.jsx)("td",{children:le(e.updated_at).format("YYYY-MM-DD hh:mm:ss A")}),Object(k.jsx)("td",{children:Object(k.jsxs)(F.a,{size:"sm",children:[Object(k.jsx)(w.a,{variant:"danger",onClick:function(){de(e.id)},children:"Delete"}),Object(k.jsx)(w.a,{onClick:function(t){return oe(e)},children:"Edit"})]})})]},t)}))})]}),Object(k.jsx)(U.a,{size:"sm",className:"float-right",children:function(){if(!R.a.isEmpty(a.data.links))return a.data.links.map((function(e,t){return Object(k.jsx)(U.a.Item,{active:e.active,onClick:function(){return ie(e.url)},disabled:!e.url,children:Object(k.jsx)("span",{dangerouslySetInnerHTML:{__html:e.label}})},t)}))}()})]})}),Object(k.jsx)(Y.a,{})]})},W=a(312),Z=a(316),J=a(307),X=a(64),$=a.n(X),ee=function(e){var t=Object(b.c)((function(e){return e.Auth}));return 1===t.user.type||2===t.user.type?function(e){Object(b.b)();var t=Object(n.useRef)(null),a=e.match.params.user,r=Object(n.useState)({}),s=Object(u.a)(r,2),i=s[0],l=s[1],p=Object(n.useState)({}),x=Object(u.a)(p,2),f=x[0],g=x[1],y=Object(n.useState)({loading:!1,data:[],errorMsg:""}),_=Object(u.a)(y,2),N=_[0],E=_[1];c.a.useEffect((function(){A(),S(),l((function(e){return{type:"earn",user_id:a}}))}),[]);var T,I,C,S=function(){var e=Object(j.a)(o.a.mark((function e(){var t,n,c,r=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:null,E((function(e){return Object(d.a)(Object(d.a)({},e),{},{loading:!0})})),e.next=4,v.a.get(t||"/users/"+a+"/rewards");case 4:n=e.sent,c=n.data.data,E((function(e){return Object(d.a)(Object(d.a)({},e),{},{loading:!1})})),E((function(e){return Object(d.a)(Object(d.a)({},e),{},{data:c.rewards})}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(j.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/users/"+a);case 2:n=e.sent,g(n.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(j.a)(o.a.mark((function e(t){var a,n,c,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"undefined"!=typeof T&&T.cancel("Operation canceled due to new request."),T=v.a.CancelToken.source(),e.next=4,v.a.get("/campaigns/"+i.campaign_id+"/actions",{cancelToken:T.token,params:{search:t,activity:!0}});case 4:for(a=e.sent,n=a.data.data,c=[],r=0;r<n.data.length;r++)s=n.data[r].action,c=[].concat(Object(D.a)(c),[{value:s.id,label:s.name}]);return e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(j.a)(o.a.mark((function e(t){var a,n,c,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"undefined"!=typeof I&&I.cancel("Operation canceled due to new request."),I=v.a.CancelToken.source(),e.next=4,v.a.get("/campaigns/"+i.campaign_id+"/actions/"+i.action_id,{cancelToken:I.token,params:{search:t}});case 4:for(a=e.sent,n=a.data.data,c=[],r=0;r<n.data.length;r++)s=n.data[r].reward,c=[].concat(Object(D.a)(c),[{value:s.id,label:s.name}]);return e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(j.a)(o.a.mark((function e(t){var a,n,c,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"undefined"!=typeof C&&C.cancel("Operation canceled due to new request."),C=v.a.CancelToken.source(),e.next=4,v.a.get("/campaigns",{cancelToken:C.token,params:{search:t,activity:!0}});case 4:for(a=e.sent,n=a.data.data,c=[],r=0;r<n.data.length;r++)s=n.data[r],c=[].concat(Object(D.a)(c),[{value:s.id,label:s.name}]);return e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(j.a)(o.a.mark((function e(){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.post("transactions",i);case 3:n=e.sent,c=n.data.data,l((function(e){return{type:"earn",user_id:a}})),g((function(e){return Object(d.a)(Object(d.a)({},e),{},{points:c.balance})})),t.current.select.select.clearValue(),Y.b.success("Reward has been added successfully",{position:Y.b.POSITION.BOTTOM_RIGHT}),S(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),Y.b.error(e.t0.response.data.message,{position:Y.b.POSITION.BOTTOM_RIGHT});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"6",children:Object(k.jsxs)(m.a,{className:"user-info",children:[Object(k.jsxs)(m.a.Body,{children:[function(){if(!R.a.isEmpty(f.info)&&!R.a.isEmpty(f.info.customer_id))return Object(k.jsxs)(Z.a,{children:[Object(k.jsx)($.a,{value:f.info.customer_id}),Object(k.jsx)(Z.a.Caption,{children:f.info.customer_id})]})}(),Object(k.jsx)(m.a.Title,{children:f.name}),Object(k.jsx)(m.a.Subtitle,{className:"mb-2 text-muted",children:R.a.isEmpty(f.info)||R.a.isEmpty(f.info.address)?"":f.info.address}),Object(k.jsx)(m.a.Text,{children:Object(k.jsx)(O.a,{children:Object(k.jsxs)(h.a,{md:9,className:"user-points-container d-flex pr-0 pl-0 pb-1",children:[Object(k.jsx)(h.a,{md:"5",className:"font-weight-bold m-0",children:"Points"}),Object(k.jsx)(h.a,{md:"7",className:"m-0",children:f.points})]})})})]}),Object(k.jsxs)(m.a.Body,{children:[Object(k.jsx)(m.a.Title,{children:"Personal Information"}),Object(k.jsxs)(m.a.Text,{children:[Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"4",className:"font-weight-bold",children:"Firstname"}),Object(k.jsx)(h.a,{md:"8",children:f.firstname})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"4",className:"font-weight-bold",children:"Middlename"}),Object(k.jsx)(h.a,{md:"8",children:f.middlename})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"4",className:"font-weight-bold",children:"Lastname"}),Object(k.jsx)(h.a,{md:"8",children:f.lastname})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"4",className:"font-weight-bold",children:"Email"}),Object(k.jsx)(h.a,{md:"8",children:f.email})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"4",className:"font-weight-bold",children:"Phone"}),Object(k.jsx)(h.a,{md:"8",children:f.phone_number})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"4",className:"font-weight-bold",children:"Package"}),Object(k.jsx)(h.a,{md:"8",children:R.a.isEmpty(f.info)||R.a.isNull(f.info.package)?"":f.info.package.name})]})]})]}),Object(k.jsxs)(m.a.Body,{children:[Object(k.jsx)(m.a.Title,{children:"Vehicle Info"}),function(){if(f.vehicles)return f.vehicles.map((function(e,t){return Object(k.jsxs)(m.a.Text,{style:{borderTop:"1px solid #dee2e6",paddingTop:"10px"},children:[Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"3",className:"font-weight-bold",children:"ID"}),Object(k.jsx)(h.a,{md:"9",children:R.a.isEmpty(e.vehicle_info)||R.a.isNull(e.vehicle_id)?"":e.vehicle_id})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"3",className:"font-weight-bold",children:"Year"}),Object(k.jsx)(h.a,{md:"9",children:R.a.isEmpty(e.vehicle_info)||R.a.isNull(e.vehicle_info.year)?"":e.vehicle_info.year})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"3",className:"font-weight-bold",children:"Make"}),Object(k.jsx)(h.a,{md:"9",children:R.a.isEmpty(e.vehicle_info)||R.a.isNull(e.vehicle_info.make)?"":e.vehicle_info.make})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"3",className:"font-weight-bold",children:"Model"}),Object(k.jsx)(h.a,{md:"9",children:R.a.isEmpty(e.vehicle_info)||R.a.isNull(e.vehicle_info.model)?"":e.vehicle_info.model})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"3",className:"font-weight-bold",children:"Trim"}),Object(k.jsx)(h.a,{md:"9",children:R.a.isEmpty(e.vehicle_info)||R.a.isNull(e.vehicle_info.trim)?"":e.vehicle_info.trim})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"3",className:"font-weight-bold",children:"Color"}),Object(k.jsx)(h.a,{md:"9",children:R.a.isEmpty(e.vehicle_info)||R.a.isNull(e.vehicle_info.color)?"":e.vehicle_info.color})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"3",className:"font-weight-bold",children:"Vin No."}),Object(k.jsx)(h.a,{md:"9",children:R.a.isEmpty(e.vehicle_info)||R.a.isNull(e.vehicle_info.vin_no)?"":e.vehicle_info.vin_no})]})]})}))}()]})]})}),Object(k.jsxs)(h.a,{md:"6",children:[Object(k.jsx)(m.a,{className:"user-info",children:Object(k.jsxs)(m.a.Body,{children:[Object(k.jsx)(m.a.Title,{children:"Add User Action"}),Object(k.jsxs)(m.a.Text,{children:[Object(k.jsx)(q.a,{ref:t,defaultOptions:!0,loadOptions:function(e){return new Promise((function(t){setTimeout((function(){t(L(e))}),1e3)}))},onChange:function(e){l(null!=e?function(t){return{type:"earn",user_id:a,campaign_id:e.value,campaign_name:e.label}}:function(e){return{type:"earn",user_id:a}})}}),i.campaign_id?Object(k.jsx)(q.a,{defaultOptions:!0,loadOptions:function(e){return new Promise((function(t){setTimeout((function(){t(M(e))}),1e3)}))},onChange:function(e){return l((function(t){return Object(d.a)(Object(d.a)({},t),{},{action_id:e.value,action_name:e.label})}))}},"campaign-"+i.campaign_id):"",i.action_id?Object(k.jsx)(q.a,{isMulti:!0,defaultOptions:!0,loadOptions:function(e){return new Promise((function(t){setTimeout((function(){t(P(e))}),1e3)}))},onChange:function(e){return l((function(t){return Object(d.a)(Object(d.a)({},t),{},{rewards:e})}))}},"action-"+i.action_id):"",i.campaign_id&&i.action_id&&!R.a.isEmpty(i.rewards)?Object(k.jsx)(w.a,{onClick:F,children:"Submit"}):""]})]})}),Object(k.jsx)(m.a,{className:"user-rewards",children:Object(k.jsxs)(m.a.Body,{children:[Object(k.jsx)(m.a.Title,{children:"Rewards"}),Object(k.jsxs)(m.a.Text,{children:[Object(k.jsx)(W.a,{variant:"flush",children:function(){var e=N;return R.a.isEmpty(e.data.data)?e.loading?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"6",className:"text-center",children:"Loading..."})}):""!==e.errorMsg?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"6",className:"text-center",children:e.errorMsg})}):Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"6",className:"text-center",children:"No data available"})}):e.data.data.map((function(e,t){return Object(k.jsx)(W.a.Item,{children:e.reward_name},t)}))}()}),Object(k.jsx)(U.a,{size:"sm",className:"float-right",children:function(){if(!R.a.isEmpty(N.data.links))return N.data.links.map((function(e,t){return Object(k.jsx)(U.a.Item,{active:e.active,onClick:function(){return S(e.url)},disabled:!e.url,children:Object(k.jsx)("span",{dangerouslySetInnerHTML:{__html:e.label}})},t)}))}()})]})]})})]})]}),Object(k.jsx)(Y.a,{})]})}(e):function(e){Object(b.b)();var t=e.match.params.user,a=Object(n.useState)({}),r=Object(u.a)(a,2),s=(r[0],r[1]),i=Object(n.useState)({}),l=Object(u.a)(i,2),p=l[0],x=l[1],f=Object(n.useState)({loading:!1,data:[],errorMsg:""}),g=Object(u.a)(f,2),y=g[0],_=g[1];c.a.useEffect((function(){T(),N(),s((function(e){return Object(d.a)(Object(d.a)({},e),{},{type:"earn"})})),s((function(e){return Object(d.a)(Object(d.a)({},e),{},{user_id:t})}))}),[]);var N=function(){var e=Object(j.a)(o.a.mark((function e(){var a,n,c,r=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>0&&void 0!==r[0]?r[0]:null,_((function(e){return Object(d.a)(Object(d.a)({},e),{},{loading:!0})})),e.next=4,v.a.get(a||"/users/"+t+"/rewards");case 4:n=e.sent,c=n.data.data,_((function(e){return Object(d.a)(Object(d.a)({},e),{},{loading:!1})})),_((function(e){return Object(d.a)(Object(d.a)({},e),{},{data:c.rewards})}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(j.a)(o.a.mark((function e(t){var a,n,c,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("claim",{reward_id:t,qty:1});case 2:a=e.sent,n=a.data.data,"completed"==(c=n.reward).status&&(r=y.data,s=r.data.filter((function(e){return e.id!==c.id})),r.data=s,_((function(e){return Object(d.a)(Object(d.a)({},e),{},{data:r})})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(j.a)(o.a.mark((function e(a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/users/"+t);case 2:n=e.sent,x(n.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"6",children:Object(k.jsxs)(m.a,{children:[Object(k.jsxs)(m.a.Body,{children:[function(){if(!R.a.isEmpty(p.info)&&!R.a.isEmpty(p.info.customer_id))return Object(k.jsxs)(Z.a,{children:[Object(k.jsx)($.a,{value:p.info.customer_id}),Object(k.jsx)(Z.a.Caption,{children:p.info.customer_id})]})}(),Object(k.jsx)(m.a.Title,{children:p.name}),Object(k.jsx)(m.a.Subtitle,{className:"mb-2 text-muted",children:R.a.isEmpty(p.info)||R.a.isEmpty(p.info.address)?"":p.info.address}),Object(k.jsx)(m.a.Text,{children:Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"3",className:"font-weight-bold",children:"Points"}),Object(k.jsx)(h.a,{md:"9",children:Object(k.jsx)(J.a,{variant:"info",children:p.points})})]})})]}),Object(k.jsxs)(m.a.Body,{children:[Object(k.jsx)(m.a.Title,{children:"Personal Information"}),Object(k.jsxs)(m.a.Text,{children:[Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"4",className:"font-weight-bold",children:"Firstname"}),Object(k.jsx)(h.a,{md:"8",children:p.firstname})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"4",className:"font-weight-bold",children:"Middlename"}),Object(k.jsx)(h.a,{md:"8",children:p.middlename})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"4",className:"font-weight-bold",children:"Lastname"}),Object(k.jsx)(h.a,{md:"8",children:p.lastname})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"4",className:"font-weight-bold",children:"Email"}),Object(k.jsx)(h.a,{md:"8",children:p.email})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"4",className:"font-weight-bold",children:"Phone"}),Object(k.jsx)(h.a,{md:"8",children:p.phone_number})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"4",className:"font-weight-bold",children:"Package"}),Object(k.jsx)(h.a,{md:"8",children:R.a.isEmpty(p.info)||R.a.isNull(p.info.package)?"":p.info.package.name})]})]})]}),Object(k.jsxs)(m.a.Body,{children:[Object(k.jsx)(m.a.Title,{children:"Vehicle Info"}),Object(k.jsxs)(m.a.Text,{children:[Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"3",className:"font-weight-bold",children:"Year"}),Object(k.jsx)(h.a,{md:"9",children:R.a.isEmpty(p.info)||R.a.isNull(p.info.vehicle_year)?"":p.info.vehicle_year})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"3",className:"font-weight-bold",children:"Make"}),Object(k.jsx)(h.a,{md:"9",children:R.a.isEmpty(p.info)||R.a.isNull(p.info.vehicle_make)?"":p.info.vehicle_make})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"3",className:"font-weight-bold",children:"Model"}),Object(k.jsx)(h.a,{md:"9",children:R.a.isEmpty(p.info)||R.a.isNull(p.info.vehicle_model)?"":p.info.vehicle_model})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"3",className:"font-weight-bold",children:"Trim"}),Object(k.jsx)(h.a,{md:"9",children:R.a.isEmpty(p.info)||R.a.isNull(p.info.vehicle_trim)?"":p.info.vehicle_trim})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"3",className:"font-weight-bold",children:"Color"}),Object(k.jsx)(h.a,{md:"9",children:R.a.isEmpty(p.info)||R.a.isNull(p.info.vehicle_color)?"":p.info.vehicle_color})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"3",className:"font-weight-bold",children:"Vin No."}),Object(k.jsx)(h.a,{md:"9",children:R.a.isEmpty(p.info)||R.a.isNull(p.info.vehicle_vin_no)?"":p.info.vehicle_vin_no})]})]})]})]})}),Object(k.jsx)(h.a,{md:"6",children:Object(k.jsx)(m.a,{children:Object(k.jsxs)(m.a.Body,{children:[Object(k.jsx)(m.a.Title,{children:"Rewards"}),Object(k.jsxs)(m.a.Text,{children:[Object(k.jsx)(W.a,{variant:"flush",children:function(){var e=y;return R.a.isEmpty(e.data.data)?e.loading?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"6",className:"text-center",children:"Loading..."})}):""!==e.errorMsg?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"6",className:"text-center",children:e.errorMsg})}):Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"6",className:"text-center",children:"No data available"})}):e.data.data.map((function(e,t){return Object(k.jsxs)(W.a.Item,{children:[e.reward_name," ",Object(k.jsx)(w.a,{size:"sm",onClick:function(){return E(e.id)},children:"Claim"})]},t)}))}()}),Object(k.jsx)(U.a,{size:"sm",className:"float-right",children:function(){if(!R.a.isEmpty(y.data.links))return y.data.links.map((function(e,t){return Object(k.jsx)(U.a.Item,{active:e.active,onClick:function(){return N(e.url)},disabled:!e.url,children:Object(k.jsx)("span",{dangerouslySetInnerHTML:{__html:e.label}})},t)}))}()})]})]})})})]})})}(e)},te=function(e){var t=Object(b.c)((function(e){return e.Auth}));return 1===t.user.type||2===t.user.type?function(e){var t=Object(n.useState)({}),a=Object(u.a)(t,2),r=a[0],s=a[1];c.a.useEffect((function(){i()}),[]);var i=function(){var e=Object(j.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/profile");case 2:a=e.sent,s(a.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(O.a,{className:"justify-content-md-center",children:Object(k.jsx)(h.a,{md:"8",children:Object(k.jsxs)(m.a,{className:"user-info",children:[Object(k.jsxs)(m.a.Body,{children:[Object(k.jsx)(m.a.Title,{children:r.name}),Object(k.jsx)(m.a.Subtitle,{className:"mb-2 text-muted",children:r.type_name}),Object(k.jsx)(m.a.Text,{children:Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"3",className:"font-weight-bold",children:"Points"}),Object(k.jsx)(h.a,{md:"9",children:Object(k.jsx)(J.a,{variant:"info",children:r.points})})]})})]}),Object(k.jsxs)(m.a.Body,{children:[Object(k.jsx)(m.a.Title,{children:"Personal Information"}),Object(k.jsxs)(m.a.Text,{children:[Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"4",className:"font-weight-bold",children:"Firstname"}),Object(k.jsx)(h.a,{md:"8",children:r.firstname||"-"})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"4",className:"font-weight-bold",children:"Middlename"}),Object(k.jsx)(h.a,{md:"8",children:r.middlename||"-"})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"4",className:"font-weight-bold",children:"Lastname"}),Object(k.jsx)(h.a,{md:"8",children:r.lastname||"-"})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"4",className:"font-weight-bold",children:"Email"}),Object(k.jsx)(h.a,{md:"8",children:r.email})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"4",className:"font-weight-bold",children:"Phone"}),Object(k.jsx)(h.a,{md:"8",children:r.phone_number||"-"})]})]})]})]})})})})}():function(e){var t=Object(b.c)((function(e){return e.Auth})),a=Object(n.useState)({}),r=Object(u.a)(a,2),s=r[0],i=r[1],l=Object(n.useState)({loading:!1,data:[],errorMsg:""}),p=Object(u.a)(l,2),x=p[0],f=p[1];c.a.useEffect((function(){y(),g()}),[]);var g=function(){var e=Object(j.a)(o.a.mark((function e(){var a,n,c,r=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>0&&void 0!==r[0]?r[0]:null,f((function(e){return Object(d.a)(Object(d.a)({},e),{},{loading:!0})})),e.next=4,v.a.get(a||"/users/"+t.user.id+"/rewards");case 4:n=e.sent,c=n.data.data,f((function(e){return Object(d.a)(Object(d.a)({},e),{},{loading:!1})})),f((function(e){return Object(d.a)(Object(d.a)({},e),{},{data:c.rewards})}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(j.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/profile");case 2:a=e.sent,i(a.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(j.a)(o.a.mark((function e(t){var a,n,c,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("claim",{reward_id:t,qty:1});case 2:a=e.sent,n=a.data.data,"completed"==(c=n.reward).status&&(r=x.data,s=r.data.filter((function(e){return e.id!==c.id})),r.data=s,f((function(e){return Object(d.a)(Object(d.a)({},e),{},{data:r})})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"6",children:Object(k.jsxs)(m.a,{className:"user-info",children:[Object(k.jsxs)(m.a.Body,{children:[function(){if(!R.a.isEmpty(s.info)&&!R.a.isEmpty(s.info.customer_id))return Object(k.jsxs)(Z.a,{children:[Object(k.jsx)($.a,{value:s.info.customer_id}),Object(k.jsx)(Z.a.Caption,{children:s.info.customer_id})]})}(),Object(k.jsx)(m.a.Title,{children:s.name}),Object(k.jsx)(m.a.Subtitle,{className:"mb-2 text-muted",children:s.type_name}),Object(k.jsx)(m.a.Text,{children:Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"3",className:"font-weight-bold",children:"Points"}),Object(k.jsx)(h.a,{md:"9",children:Object(k.jsx)(J.a,{variant:"info",children:s.points})})]})})]}),Object(k.jsxs)(m.a.Body,{children:[Object(k.jsx)(m.a.Title,{children:"Personal Information"}),Object(k.jsxs)(m.a.Text,{children:[Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"4",className:"font-weight-bold",children:"Firstname"}),Object(k.jsx)(h.a,{md:"8",children:s.firstname||"-"})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"4",className:"font-weight-bold",children:"Middlename"}),Object(k.jsx)(h.a,{md:"8",children:s.middlename||"-"})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"4",className:"font-weight-bold",children:"Lastname"}),Object(k.jsx)(h.a,{md:"8",children:s.lastname||"-"})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"4",className:"font-weight-bold",children:"Email"}),Object(k.jsx)(h.a,{md:"8",children:s.email})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"4",className:"font-weight-bold",children:"Phone"}),Object(k.jsx)(h.a,{md:"8",children:s.phone_number||"-"})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"4",className:"font-weight-bold",children:"Package"}),Object(k.jsx)(h.a,{md:"8",children:R.a.isEmpty(s.info)||R.a.isNull(s.info.package)?"":s.info.package.name})]})]})]}),Object(k.jsxs)(m.a.Body,{children:[Object(k.jsx)(m.a.Title,{children:"Vehicle Info"}),function(){if(s.vehicles)return s.vehicles.map((function(e,t){return Object(k.jsxs)(m.a.Text,{style:{borderTop:"1px solid #dee2e6",paddingTop:"10px"},children:[Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"3",className:"font-weight-bold",children:"ID"}),Object(k.jsx)(h.a,{md:"9",children:R.a.isEmpty(e.vehicle_id)?"":e.vehicle_id})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"3",className:"font-weight-bold",children:"Year"}),Object(k.jsx)(h.a,{md:"9",children:R.a.isEmpty(e.vehicle_info)||R.a.isNull(e.vehicle_info.year)?"":e.vehicle_info.year})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"3",className:"font-weight-bold",children:"Make"}),Object(k.jsx)(h.a,{md:"9",children:R.a.isEmpty(e.vehicle_info)||R.a.isNull(e.vehicle_info.make)?"":e.vehicle_info.make})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"3",className:"font-weight-bold",children:"Model"}),Object(k.jsx)(h.a,{md:"9",children:R.a.isEmpty(e.vehicle_info)||R.a.isNull(e.vehicle_info.model)?"":e.vehicle_info.model})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"3",className:"font-weight-bold",children:"Trim"}),Object(k.jsx)(h.a,{md:"9",children:R.a.isEmpty(e.vehicle_info)||R.a.isNull(e.vehicle_info.trim)?"":e.vehicle_info.trim})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"3",className:"font-weight-bold",children:"Color"}),Object(k.jsx)(h.a,{md:"9",children:R.a.isEmpty(e.vehicle_info)||R.a.isNull(e.vehicle_info.color)?"":e.vehicle_info.color})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"3",className:"font-weight-bold",children:"Vin No."}),Object(k.jsx)(h.a,{md:"9",children:R.a.isEmpty(e.vehicle_info)||R.a.isNull(e.vehicle_info.vin_no)?"":e.vehicle_info.vin_no})]})]})}))}()]})]})}),Object(k.jsx)(h.a,{md:"6",children:Object(k.jsx)(m.a,{className:"user-rewards",children:Object(k.jsxs)(m.a.Body,{children:[Object(k.jsx)(m.a.Title,{children:"Rewards"}),Object(k.jsxs)(m.a.Text,{children:[Object(k.jsx)(W.a,{variant:"flush",children:function(){var e=x;return R.a.isEmpty(e.data.data)?e.loading?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"6",className:"text-center",children:"Loading..."})}):""!==e.errorMsg?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"6",className:"text-center",children:e.errorMsg})}):Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"6",className:"text-center",children:"Unable to get data"})}):e.data.data.map((function(e,t){return Object(k.jsxs)(W.a.Item,{children:[e.reward_name,Object(k.jsx)(w.a,{size:"sm",className:"float-right",variant:"dark",onClick:function(){return _(e.id)},children:"Claim"})]},t)}))}()}),Object(k.jsx)(U.a,{className:"float-right",children:function(){if(!R.a.isEmpty(x.data.links))return x.data.links.map((function(e,t){return Object(k.jsx)(U.a.Item,{active:e.active,onClick:function(){return g(e.url)},disabled:!e.url,children:Object(k.jsx)("span",{dangerouslySetInnerHTML:{__html:e.label}})},t)}))}()})]})]})})})]})})}()},ae="/notifications",ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ae;return function(){var e=Object(j.a)(o.a.mark((function e(a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"NOTIFICATION_REQUEST"}),e.prev=1,e.next=4,v.a.get(t);case 4:n=e.sent,a({type:"NOTIFICATION_FETCH",payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a({type:"NOTIFICATION_FAIL",payload:e.t0.response.data});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},ce=function(){return function(){var e=Object(j.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"NOTIFICATION_REQUEST"}),e.prev=1,t({type:"NOTIFICATION_READ"}),console.log("notification read"),e.abrupt("return",Promise.resolve());case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},re=function(e){var t=Object(b.b)(),a=Object(n.useState)({loading:!1,data:[]}),r=Object(u.a)(a,2),s=r[0],i=r[1];c.a.useEffect((function(){l()}),[]);var l=function(){var e=Object(j.a)(o.a.mark((function e(){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i((function(e){return Object(d.a)(Object(d.a)({},e),{},{loading:!0})})),e.next=3,v.a.get("notifications");case 3:a=e.sent,n=a.data.data,i((function(e){return Object(d.a)(Object(d.a)({},e),{},{data:n,loading:!1})})),t(ce());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(e){var t=Q.a.tz.guess(!0);return(e=Q.a.tz(e,y.url.TIMEZONE)).tz(t)},x=function(e){var t=Q()(),a=Q()(e),n=t.diff(a,"year");return 0===n?0===(n=t.diff(a,"month"))?0===(n=t.diff(a,"days"))?0===(n=t.diff(a,"hour"))?0===(n=t.diff(a,"minute"))?(n=t.diff(a,"second"),"".concat(n," second(s) ago")):"".concat(n," minute(s) ago"):"".concat(n," hour(s) ago"):"".concat(n," days(s) ago"):"".concat(n," month(s) ago"):"".concat(n," year(s) ago")};return Object(k.jsx)(O.a,{children:Object(k.jsx)(h.a,{md:"12",children:Object(k.jsxs)(m.a,{children:[Object(k.jsx)(m.a.Header,{children:"Notifications"}),Object(k.jsx)(W.a,{variant:"flush",children:s.loading?Object(k.jsx)(W.a.Item,{children:"Loading..."}):s.data&&s.data.data?s.data.data.map((function(e,t){var a=Q.a.parseZone(p(e.created_at)).format("x");a=x(parseInt(a));var n=e.data;return Object(k.jsx)(W.a.Item,{children:Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"9",className:"mb-0",children:n.title}),Object(k.jsx)(h.a,{md:"3",className:"mb-0 text-right",children:a})]})},t)})):Object(k.jsx)(W.a.Item,{children:"No notifications."})})]})})})},se=function(e){var t=Object(n.useState)({}),a=Object(u.a)(t,2),r=a[0],s=a[1],i=Object(n.useState)(!1),l=Object(u.a)(i,2),b=l[0],p=(l[1],Object(n.useState)({})),x=Object(u.a)(p,2),f=x[0],g=x[1],y=Object(n.useState)(!1),_=Object(u.a)(y,2),E=_[0],T=_[1];c.a.useEffect((function(){I(1)}),[]);var I=function(){var e=Object(j.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/profile");case 2:a=e.sent,s(a.data.data),console.log(a.data.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(j.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),T(!0),e.prev=2,e.next=5,v.a.post("/settings",r);case 5:e.sent,g({}),Y.b.success("Settings has been updated successfully.",{position:Y.b.POSITION.BOTTOM_RIGHT}),T(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(2),g(e.t0.response.data.data),Y.b.error(e.t0.response.data.message,{position:Y.b.POSITION.BOTTOM_RIGHT}),T(!1);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(m.a,{children:Object(k.jsxs)(N.a,{noValidate:!0,validated:b,onSubmit:C,children:[Object(k.jsxs)(m.a.Body,{children:[Object(k.jsx)(m.a.Title,{children:"Personal Information"}),Object(k.jsxs)(m.a.Text,{children:[Object(k.jsx)(O.a,{children:Object(k.jsx)(h.a,{children:"Name"})}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{children:Object(k.jsx)(N.a.Control,{placeholder:"First name",value:r.firstname,onChange:function(e){return s((function(t){return Object(d.a)(Object(d.a)({},t),{},{firstname:e.target.value})}))}})}),Object(k.jsx)(h.a,{children:Object(k.jsx)(N.a.Control,{placeholder:"Middle name",value:r.middlename,onChange:function(e){return s((function(t){return Object(d.a)(Object(d.a)({},t),{},{middlename:e.target.value})}))}})}),Object(k.jsx)(h.a,{children:Object(k.jsx)(N.a.Control,{placeholder:"Last name",value:r.lastname,onChange:function(e){return s((function(t){return Object(d.a)(Object(d.a)({},t),{},{lastname:e.target.value})}))}})})]}),Object(k.jsxs)(N.a.Group,{controlId:"formGridAddress1",children:[Object(k.jsx)(N.a.Label,{children:"Phone number"}),Object(k.jsx)(N.a.Control,{placeholder:"1234 Main St",value:r.phone_number,onChange:function(e){return s((function(t){return Object(d.a)(Object(d.a)({},t),{},{phone_number:e.target.value})}))}})]})]})]}),Object(k.jsxs)(m.a.Body,{children:[Object(k.jsx)(m.a.Title,{children:"Security"}),Object(k.jsxs)(m.a.Text,{children:[Object(k.jsxs)(N.a.Group,{controlId:"formGridEmail",children:[Object(k.jsx)(N.a.Label,{children:"Email"}),Object(k.jsx)(N.a.Control,{placeholder:"Email",value:r.email,onChange:function(e){return s((function(t){return Object(d.a)(Object(d.a)({},t),{},{email:e.target.value})}))},isInvalid:f.email}),Object(k.jsx)(N.a.Control.Feedback,{type:"invalid",children:f.email})]}),Object(k.jsxs)(N.a.Group,{controlId:"formGridPassword",children:[Object(k.jsx)(N.a.Label,{children:"Password"}),Object(k.jsx)(N.a.Control,{placeholder:"Password",type:"password",onChange:function(e){return s((function(t){return Object(d.a)(Object(d.a)({},t),{},{password:e.target.value})}))},isInvalid:f.password}),Object(k.jsx)(N.a.Control.Feedback,{type:"invalid",children:f.password})]}),Object(k.jsxs)(N.a.Group,{controlId:"formGridNewPassword",children:[Object(k.jsx)(N.a.Label,{children:"New Password"}),Object(k.jsx)(N.a.Control,{placeholder:"New Password",type:"password",onChange:function(e){return s((function(t){return Object(d.a)(Object(d.a)({},t),{},{new_password:e.target.value})}))},isInvalid:f.new_password}),Object(k.jsx)(N.a.Control.Feedback,{type:"invalid",children:f.new_password})]}),Object(k.jsxs)(N.a.Group,{controlId:"formGridConfirmPassword",children:[Object(k.jsx)(N.a.Label,{children:"Confirm Password"}),Object(k.jsx)(N.a.Control,{placeholder:"Confirm Password",type:"password",onChange:function(e){return s((function(t){return Object(d.a)(Object(d.a)({},t),{},{new_password_confirmation:e.target.value})}))}})]}),Object(k.jsxs)(w.a,{variant:"primary",type:"submit",children:[E&&Object(k.jsx)(z.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Update"]})]})]})]})}),Object(k.jsx)(Y.a,{})]})},ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/packages";return function(){var e=Object(j.a)(o.a.mark((function e(a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"PACKAGE_REQUEST"}),e.next=4,v.a.get(t);case 4:n=e.sent,a({type:"PACKAGE_SUCCESS",payload:n.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a({type:"PACKAGE_FAIL",payload:e.t0.response.data});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},le=function(e){var t=Object(b.b)(),a=Object(b.c)((function(e){return e.Package})),r=Object(n.useState)(!1),s=Object(u.a)(r,2),i=s[0],l=s[1],p=Object(n.useState)({}),m=Object(u.a)(p,2),x=m[0],f=m[1],g=Object(n.useState)({}),_=Object(u.a)(g,2),E=(_[0],_[1],Object(n.useState)({})),T=Object(u.a)(E,2),I=(T[0],T[1],Object(n.useState)(!1)),C=Object(u.a)(I,2),S=C[0],A=C[1],M=Object(n.useState)([{key:"id",title:"Name",type:"hidden",placeholder:"Package ID",control_id:"formPackageId",hidden:!0},{key:"name",title:"Name",type:"text",isInvalid:!1,placeholder:"Enter package name",control_id:"formPackageName",errorMsg:["The name field is required."],required:!1},{key:"description",title:"Description",type:"text",isInvalid:!1,placeholder:"Enter package description",control_id:"formPackageDescription",errorMsg:["The description field is required."],required:!1},{key:"multiplier",title:"Multiplier",type:"text",isInvalid:!1,placeholder:"Enter package multiplier",control_id:"formPackageMultiplier",errorMsg:["The multiplier field is required."],required:!1}]),L=Object(u.a)(M,2),B=L[0],V=L[1],K=(e.match.params.product,Object(n.useState)(!1)),W=Object(u.a)(K,2),Z=W[0],J=W[1],X=function(){return J(!1)};c.a.useEffect((function(){ee()}),[]);var $,ee=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/packages";t(ie(e,a))},te=function(){var e=B;return l(!1),e=e.map((function(e,t){return Object(d.a)(Object(d.a)({},e),{},{isInvalid:!1})})),V(e),e},ae=function(e,t){var a=function(a){if(Object.hasOwnProperty.call(t,a)){var n=t[a];c=B.findIndex((function(e){return e.key===a})),e[c].errorMsg=n,e[c].isInvalid=!0}};for(var n in t){var c;a(n)}V(e),l(!0)},ne=function(){var e=Object(j.a)(o.a.mark((function e(t){var a,n,c,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"undefined"!=typeof $&&$.cancel("Operation canceled due to new request."),$=v.a.CancelToken.source(),e.next=4,v.a.get("/rewards",{cancelToken:$.token,params:{search:t}});case 4:for(a=e.sent,n=a.data.data,c=[],r=0;r<n.data.length;r++)s=n.data[r],c=[].concat(Object(D.a)(c),[{value:s.id,label:s.name}]);return e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(e){t(function(e,t){return function(){var e=Object(j.a)(o.a.mark((function e(a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"PACKAGE_REQUEST"}),e.next=4,v.a.delete("/packages/"+t);case 4:n=e.sent,a({type:"PACKAGE_DELETED",payload:n.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a({type:"PACKAGE_FAIL",payload:e.t0.response.data});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}(0,e))},re=function(e){var t=Q.a.tz.guess(!0);return(e=Q.a.tz(e,y.url.TIMEZONE)).tz(t).format("YYYY-MM-DD hh:mm:ss A")};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:12,children:Object(k.jsx)(w.a,{variant:"primary",onClick:function(e){f({}),J(!0)},children:"Add Packages"})}),Object(k.jsx)(G.a,{show:Z,onHide:X,children:Object(k.jsxs)(N.a,{noValidate:!0,validated:i,onSubmit:function(e){e.preventDefault(),e.stopPropagation();var a=e.currentTarget,n=te();A(!0),!1!==a.checkValidity()&&(x.id?t(function(e,t){return function(){var e=Object(j.a)(o.a.mark((function e(a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"PACKAGE_REQUEST"}),e.next=4,v.a.put("/packages/"+t.id,t);case 4:return n=e.sent,a({type:"PACKAGE_UPDATED",payload:n.data.data}),e.abrupt("return",Promise.resolve());case 9:return e.prev=9,e.t0=e.catch(0),a({type:"PACKAGE_FAIL",payload:e.t0.response.data}),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}(0,x)).then((function(){J(!1),A(!1),Y.b.success("Package updated successfully",{position:Y.b.POSITION.BOTTOM_RIGHT})})).catch((function(e){if(A(!1),void 0!=typeof e.response.data.data){var t=e.response.data.data;ae(n,t)}Y.b.error(e.response.data.message,{position:Y.b.POSITION.BOTTOM_RIGHT})})):t(function(e,t){return function(){var e=Object(j.a)(o.a.mark((function e(a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"PACKAGE_REQUEST"}),e.next=4,v.a.post("/packages",t);case 4:return n=e.sent,a({type:"PACKAGE_ADDED",payload:n.data.data}),e.abrupt("return",Promise.resolve());case 9:return e.prev=9,e.t0=e.catch(0),a({type:"PACKAGE_FAIL",payload:e.t0.response.data}),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}(0,x)).then((function(){J(!1),A(!1),Y.b.success("Package added successfully",{position:Y.b.POSITION.BOTTOM_RIGHT})})).catch((function(e){if(A(!1),void 0!=typeof e.response.data.data){var t=e.response.data.data;ae(n,t)}Y.b.error(e.response.data.message,{position:Y.b.POSITION.BOTTOM_RIGHT})})))},children:[Object(k.jsx)(G.a.Header,{closeButton:!0,children:Object(k.jsx)(G.a.Title,{children:x.id?"Update Package":"Add Packages"})}),Object(k.jsxs)(G.a.Body,{children:[B.map((function(e,t){return Object(k.jsxs)(N.a.Group,{hidden:e.hidden,as:O.a,controlId:e.control_id,children:[Object(k.jsx)(N.a.Label,{column:!0,sm:3,children:e.title}),Object(k.jsxs)(h.a,{sm:9,children:["number"===e.type?Object(k.jsx)(N.a.Control,{required:e.required,isInvalid:e.isInvalid,type:e.type,placeholder:e.placeholder,value:x[e.key],min:e.min,onChange:function(t){return f((function(a){return Object(d.a)(Object(d.a)({},a),{},Object(P.a)({},e.key,parseFloat(t.target.value)))}))}}):Object(k.jsx)(N.a.Control,{required:e.required,isInvalid:e.isInvalid,type:e.type,placeholder:e.placeholder,value:x[e.key],onChange:function(t){return f((function(a){return Object(d.a)(Object(d.a)({},a),{},Object(P.a)({},e.key,t.target.value))}))}}),e.isInvalid&&Object(k.jsx)(N.a.Control.Feedback,{type:"invalid",children:e.errorMsg})]})]},t)})),Object(k.jsx)(q.a,{isMulti:!0,cacheOptions:!0,defaultOptions:!0,defaultValue:x.rewards,loadOptions:function(e){return new Promise((function(t){setTimeout((function(){t(ne(e))}),1e3)}))},onChange:function(e){return f((function(t){return Object(d.a)(Object(d.a)({},t),{},{rewards:e})}))},placeholder:"None"},0)]}),Object(k.jsxs)(G.a.Footer,{children:[Object(k.jsx)(w.a,{variant:"secondary",onClick:X,children:"Close"}),Object(k.jsxs)(w.a,{variant:"primary",type:"submit",children:[S&&Object(k.jsx)(z.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Save Changes"]})]})]})})]}),Object(k.jsx)(O.a,{children:Object(k.jsxs)(h.a,{md:12,children:[Object(k.jsxs)(H.a,{responsive:!0,hover:!0,size:"sm",children:[Object(k.jsx)("thead",{className:"table-dark",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"Name"}),Object(k.jsx)("th",{children:"Description"}),Object(k.jsx)("th",{children:"Multiplier"}),Object(k.jsx)("th",{children:"Created"}),Object(k.jsx)("th",{children:"Updated"}),Object(k.jsx)("th",{children:"Actions"})]})}),Object(k.jsx)("tbody",{children:R.a.isEmpty(a.data.data)?a.loading?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"6",className:"text-center",children:"Loading..."})}):""!==a.errorMsg?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"6",className:"text-center",children:a.errorMsg})}):Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"6",className:"text-center",children:"No data available"})}):a.data.data.map((function(e,t){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:e.name}),Object(k.jsx)("td",{children:e.description}),Object(k.jsx)("td",{children:e.multiplier}),Object(k.jsx)("td",{children:re(e.created_at)}),Object(k.jsx)("td",{children:re(e.updated_at)}),Object(k.jsx)("td",{children:Object(k.jsxs)(F.a,{size:"sm",children:[Object(k.jsx)(w.a,{variant:"danger",onClick:function(){ce(e.id)},children:"Delete"}),Object(k.jsx)(w.a,{onClick:function(t){return a=e,te(),a.rewards.map((function(e,t){return e.value=e.reward_id,e.label=e.reward.name,e})),f(a),void J(!0);var a},children:"Edit"})]})})]},t)}))})]}),Object(k.jsx)(U.a,{size:"sm",className:"float-right",children:function(){if(!R.a.isEmpty(a.data.links))return a.data.links.map((function(e,t){return Object(k.jsx)(U.a.Item,{active:e.active,onClick:function(){return ee(e.url)},disabled:!e.url,children:Object(k.jsx)("span",{dangerouslySetInnerHTML:{__html:e.label}})},t)}))}()})]})}),Object(k.jsx)(Y.a,{})]})},oe="/actions",de=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe;return function(){var e=Object(j.a)(o.a.mark((function e(a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"ACTION_REQUEST"}),e.prev=1,e.next=4,v.a.get(t);case 4:n=e.sent,a({type:"ACTION_FETCH",payload:n.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a({type:"ACTION_FAIL",payload:e.t0.response.data});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},je=function(e){var t=Object(b.b)(),a=Object(b.c)((function(e){return e.Action})),r=Object(n.useState)(!1),s=Object(u.a)(r,2),i=s[0],l=s[1],p=Object(n.useState)({}),m=Object(u.a)(p,2),x=m[0],f=m[1],g=Object(n.useState)(!1),_=Object(u.a)(g,2),E=_[0],T=_[1],I=Object(n.useState)(!1),C=Object(u.a)(I,2),S=C[0],A=C[1],M=function(){return A(!1)},D=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/actions";t(de(e,a))},L=function(e){t(function(e,t){return function(){var e=Object(j.a)(o.a.mark((function e(a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"ACTION_REQUEST"}),e.prev=1,e.next=4,v.a.delete("/actions/"+t);case 4:n=e.sent,a({type:"ACTION_DELETE",payload:n.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a({type:"ACTION_FAIL",payload:e.t0.response.data});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}(0,e))},B=function(e){var t=Q.a.tz.guess(!0);return(e=Q.a.tz(e,y.url.TIMEZONE)).tz(t).format("YYYY-MM-DD hh:mm:ss A")};return c.a.useEffect((function(){D()}),[]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:12,children:Object(k.jsx)(w.a,{variant:"primary",onClick:function(){f({}),A(!0)},children:"Add Action"})}),Object(k.jsx)(G.a,{show:S,onHide:M,children:Object(k.jsxs)(N.a,{noValidate:!0,validated:i,onSubmit:function(e){e.preventDefault(),e.stopPropagation();var a=e.currentTarget;l(!0),!1!==a.checkValidity()&&(T(!0),x.id?t(function(e,t){return function(){var e=Object(j.a)(o.a.mark((function e(a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"ACTION_REQUEST"}),e.prev=1,e.next=4,v.a.put("/actions/"+t.id,t);case 4:return n=e.sent,a({type:"ACTION_UPDATE",payload:n.data.data}),e.abrupt("return",Promise.resolve());case 9:return e.prev=9,e.t0=e.catch(1),a({type:"ACTION_FAIL",payload:e.t0.response.data}),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()}(0,x)).then((function(){T(!1),A(!1),Y.b.success("Action updated successfully",{position:Y.b.POSITION.BOTTOM_RIGHT})})).catch((function(e){T(!1),Y.b.error(e.response.data.message,{position:Y.b.POSITION.BOTTOM_RIGHT})})):t(function(e,t){return function(){var e=Object(j.a)(o.a.mark((function e(a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"ACTION_REQUEST"}),e.prev=1,e.next=4,v.a.post(oe,t);case 4:return n=e.sent,a({type:"ACTION_ADD",payload:n.data.data}),e.abrupt("return",Promise.resolve());case 9:return e.prev=9,e.t0=e.catch(1),a({type:"ACTION_FAIL",payload:e.t0.response.data}),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()}(0,x)).then((function(){T(!1),A(!1),Y.b.success("Action added successfully",{position:Y.b.POSITION.BOTTOM_RIGHT})})).catch((function(e){T(!1),Y.b.error(e.response.data.message,{position:Y.b.POSITION.BOTTOM_RIGHT})})))},children:[Object(k.jsx)(G.a.Header,{closeButton:!0,children:Object(k.jsx)(G.a.Title,{children:x.id?"Update Action":"Add Action"})}),Object(k.jsx)(G.a.Body,{children:[{key:"id",title:"Name",type:"hidden",placeholder:"Action ID",control_id:"formActionId",hidden:!0},{key:"name",title:"Name",type:"text",placeholder:"Enter action name",control_id:"formActionName",errorMsg:"Please provide action name.",required:!0},{key:"description",title:"Description",type:"text",placeholder:"Enter action description",control_id:"formActionDescription",errorMsg:"Please provide action description.",required:!0}].map((function(e,t){return Object(k.jsxs)(N.a.Group,{hidden:e.hidden,as:O.a,controlId:e.control_id,children:[Object(k.jsx)(N.a.Label,{column:!0,sm:3,children:e.title}),Object(k.jsxs)(h.a,{sm:9,children:[Object(k.jsx)(N.a.Control,{required:e.required,type:e.type,placeholder:e.placeholder,value:R.a.isUndefined(x[e.key])?"":x[e.key],onChange:function(t){return f((function(a){return Object(d.a)(Object(d.a)({},a),{},Object(P.a)({},e.key,t.target.value))}))}}),Object(k.jsx)(N.a.Control.Feedback,{type:"invalid",children:e.errorMsg})]})]},t)}))}),Object(k.jsxs)(G.a.Footer,{children:[Object(k.jsx)(w.a,{variant:"secondary",onClick:M,children:"Close"}),Object(k.jsxs)(w.a,{variant:"primary",type:"submit",children:[E&&Object(k.jsx)(z.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Save Changes"]})]})]})})]}),Object(k.jsx)(O.a,{children:Object(k.jsxs)(h.a,{md:12,children:[Object(k.jsxs)(H.a,{responsive:!0,hover:!0,size:"sm",children:[Object(k.jsx)("thead",{className:"table-dark",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"Name"}),Object(k.jsx)("th",{children:"Description"}),Object(k.jsx)("th",{children:"Created"}),Object(k.jsx)("th",{children:"Updated"}),Object(k.jsx)("th",{children:"Actions"})]})}),Object(k.jsx)("tbody",{children:R.a.isEmpty(a.data.data)?a.loading?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"6",className:"text-center",children:"Loading..."})}):""!==a.errorMsg?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"6",className:"text-center",children:a.errorMsg})}):Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"6",className:"text-center",children:"No data available"})}):a.data.data.map((function(e,t){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:e.name}),Object(k.jsx)("td",{children:e.description}),Object(k.jsx)("td",{children:B(e.created_at)}),Object(k.jsx)("td",{children:B(e.updated_at)}),Object(k.jsx)("td",{children:Object(k.jsxs)(F.a,{size:"sm",children:[Object(k.jsx)(w.a,{variant:"danger",onClick:function(){L(e.id)},children:"Delete"}),Object(k.jsx)(w.a,{onClick:function(t){return f(e),void A(!0)},children:"Edit"})]})})]},t)}))})]}),Object(k.jsx)(U.a,{size:"sm",className:"float-right",children:function(){if(!R.a.isEmpty(a.data.links))return a.data.links.map((function(e,t){return Object(k.jsx)(U.a.Item,{active:e.active,onClick:function(){return D(e.url)},disabled:!e.url,children:Object(k.jsx)("span",{dangerouslySetInnerHTML:{__html:e.label}})},t)}))}()})]})}),Object(k.jsx)(Y.a,{})]})},ue=je,be="/campaigns",Oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:be;return function(){var e=Object(j.a)(o.a.mark((function e(a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"CAMPAIGN_REQUEST"}),e.next=4,v.a.get(t);case 4:n=e.sent,a({type:"CAMPAIGN_FETCH",payload:n.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a({type:"CAMPAIGN_FAIL",payload:e.t0.response.data});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},he=function(e,t){return function(){var e=Object(j.a)(o.a.mark((function e(a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"CAMPAIGN_REQUEST"}),e.next=4,v.a.delete("/campaigns/"+t);case 4:n=e.sent,a({type:"CAMPAIGN_DELETE",payload:n.data.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response.data),a({type:"CAMPAIGN_FAIL",payload:e.t0.response.data.data});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},pe=a(65),me=a.n(pe),xe=a(148),fe=a.n(xe),ge=(a(202),function(e){var t=Object(b.b)(),a=Object(n.useRef)(null),r=Object(n.useRef)(null),s=Object(b.c)((function(e){return e.Campaign})),i=Object(n.useState)({loading:!1,data:[],errorMsg:""}),l=Object(u.a)(i,2),p=l[0],m=l[1],x=Object(n.useState)(!1),f=Object(u.a)(x,2),g=f[0],_=f[1],E=Object(n.useState)({}),T=Object(u.a)(E,2),I=T[0],C=T[1],S=Object(n.useState)({}),A=Object(u.a)(S,2),M=A[0],L=A[1],B=Object(n.useState)(!1),V=Object(u.a)(B,2),K=V[0],W=V[1],Z=Object(n.useState)(!1),X=Object(u.a)(Z,2),$=X[0],ee=X[1],te=Object(n.useState)(!1),ae=Object(u.a)(te,2),ne=ae[0],ce=ae[1],re=function(){return W(!1)},se=function(){var e=Object(j.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee(!0),m(Object(d.a)(Object(d.a)({},p),{},{loading:!0})),e.next=4,v.a.get("/campaigns/"+t);case 4:a=e.sent,n=a.data.data,m(Object(d.a)(Object(d.a)({},p),{},{data:n,loading:!1}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();c.a.useEffect((function(){oe()}),[]);var ie,le,oe=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/campaigns";t(Oe(e,a))},de=function(){var e=Object(j.a)(o.a.mark((function e(t){var a,n,c,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"undefined"!=typeof ie&&ie.cancel("Operation canceled due to new request."),ie=v.a.CancelToken.source(),e.next=4,v.a.get("/actions",{cancelToken:ie.token,params:{search:t}});case 4:for(a=e.sent,n=a.data.data,c=[],r=0;r<n.data.length;r++)s=n.data[r],c=[].concat(Object(D.a)(c),[{value:s.id,label:s.name}]);return e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(j.a)(o.a.mark((function e(t){var a,n,c,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"undefined"!=typeof le&&le.cancel("Operation canceled due to new request."),le=v.a.CancelToken.source(),e.next=4,v.a.get("/rewards",{cancelToken:le.token,params:{search:t}});case 4:for(a=e.sent,n=a.data.data,c=[],r=0;r<n.data.length;r++)s=n.data[r],c=[].concat(Object(D.a)(c),[{value:s.id,label:s.name}]);return e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(j.a)(o.a.mark((function e(){var t,n,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(d.a)(Object(d.a)({},M),{},{campaign_id:p.data.id}),ce(!0),e.next=4,v.a.post("/campaign_rewards",t);case 4:n=e.sent,c=n.data.data,s=p,ce(!1),L({}),a.current.select.select.clearValue(),r.current.select.select.clearValue(),s.data.campaigns.data=[c].concat(Object(D.a)(s.data.campaigns.data)),m(Object(d.a)(Object(d.a)({},p),s));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(j.a)(o.a.mark((function e(a,n){var c,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n,e.next="campaign"===e.t0?3:11;break;case 3:return e.next=5,v.a.delete("campaign_rewards/"+a);case 5:return c=e.sent,r=c.data.data,(s=p.data).campaigns.data=s.campaigns.data.filter((function(e){return e.id!==r.id})),m(Object(d.a)(Object(d.a)({},p),{},{data:s})),e.abrupt("break",13);case 11:return t(he(0,a)),e.abrupt("break",13);case 13:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),xe=function(){var e=Object(j.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(t);case 2:a=e.sent,n=a.data.data,m(Object(d.a)(Object(d.a)({},p),{},{data:n}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(e){switch(e){case"campaigns":if(!R.a.isEmpty(p.data.campaigns)&&!R.a.isEmpty(p.data.campaigns.links))return p.data.campaigns.links.map((function(e,t){return Object(k.jsx)(U.a.Item,{active:e.active,onClick:function(){return xe(e.url)},disabled:!e.url,children:Object(k.jsx)("span",{dangerouslySetInnerHTML:{__html:e.label}})},t)}));break;default:if(!R.a.isEmpty(s.data.links))return s.data.links.map((function(e,t){return Object(k.jsx)(U.a.Item,{active:e.active,onClick:function(){return oe(e.url)},disabled:!e.url,children:Object(k.jsx)("span",{dangerouslySetInnerHTML:{__html:e.label}})},t)}))}},ve=function(e){var t=Q.a.tz.guess(!0);return(e=Q.a.tz(e,y.url.TIMEZONE)).tz(t)};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(O.a,{children:Object(k.jsx)(h.a,{md:12,children:Object(k.jsx)(w.a,{variant:"primary",onClick:function(){C({start_date:new Date,end_date:new Date}),W(!0)},children:"Add Campaign"})})}),Object(k.jsx)(O.a,{children:Object(k.jsxs)(h.a,{md:12,children:[Object(k.jsxs)(H.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(k.jsx)("thead",{className:"table-dark",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"Name"}),Object(k.jsx)("th",{children:"Description"}),Object(k.jsx)("th",{children:"Start"}),Object(k.jsx)("th",{children:"End"}),Object(k.jsx)("th",{children:"Created"}),Object(k.jsx)("th",{children:"Updated"}),Object(k.jsx)("th",{children:"Actions"})]})}),Object(k.jsx)("tbody",{children:R.a.isEmpty(s.data.data)?s.loading?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"7",className:"text-center",children:"Loading..."})}):""!==s.errorMsg?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"7",className:"text-center",children:s.errorMsg})}):Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"7",className:"text-center",children:"No data available"})}):s.data.data.map((function(e,t){return Object(k.jsxs)("tr",{children:[Object(k.jsxs)("td",{children:[e.name," ",Object(k.jsx)(J.a,{variant:e.is_expired?"danger":"success",children:e.is_expired?"expired":"active"})]}),Object(k.jsx)("td",{children:e.description}),Object(k.jsx)("td",{children:Object(k.jsx)(me.a,{format:"YYYY/MM/DD",children:ve(e.start_date)})}),Object(k.jsx)("td",{children:Object(k.jsx)(me.a,{format:"YYYY/MM/DD",children:ve(e.end_date)})}),Object(k.jsx)("td",{children:Object(k.jsx)(me.a,{format:"YYYY/MM/DD hh:mm:ss",children:ve(e.created_at)})}),Object(k.jsx)("td",{children:Object(k.jsx)(me.a,{format:"YYYY/MM/DD hh:mm:ss",children:ve(e.updated_at)})}),Object(k.jsx)("td",{children:Object(k.jsxs)(F.a,{size:"sm",children:[Object(k.jsx)(w.a,{variant:"success",onClick:function(){se(e.id)},children:"Rewards"}),Object(k.jsx)(w.a,{variant:"danger",onClick:function(){pe(e.id)},children:"Delete"}),Object(k.jsx)(w.a,{onClick:function(t){return C({id:(a=e).id,name:a.name,description:a.description,start_date:new Date(a.start_date),end_date:new Date(a.end_date)}),void W(!0);var a},children:"Edit"})]})})]},t)}))})]}),Object(k.jsx)(U.a,{size:"sm",className:"float-right",children:ge()})]})}),Object(k.jsx)(G.a,{show:K,onHide:re,children:Object(k.jsxs)(N.a,{noValidate:!0,validated:g,onSubmit:function(e){e.preventDefault(),e.stopPropagation();var a=e.currentTarget;_(!0),!1!==a.checkValidity()&&(ce(!0),I.id?t(function(e,t){return function(){var e=Object(j.a)(o.a.mark((function e(a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"CAMPAIGN_REQUEST"}),e.next=4,v.a.put("/campaigns/"+t.id,t);case 4:return n=e.sent,a({type:"CAMPAIGN_UPDATE",payload:n.data.data}),e.abrupt("return",Promise.resolve());case 9:return e.prev=9,e.t0=e.catch(0),a({type:"CAMPAIGN_FAIL",payload:e.t0.response.data.data}),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}(0,I)).then((function(){ce(!1),W(!1),Y.b.success("Campaign added successfully",{position:Y.b.POSITION.BOTTOM_RIGHT})})).catch((function(e){ce(!1),Y.b.error(e.response.data.message,{position:Y.b.POSITION.BOTTOM_RIGHT})})):t(function(e,t){return function(){var e=Object(j.a)(o.a.mark((function e(a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"CAMPAIGN_REQUEST"}),e.next=4,v.a.post(be,t);case 4:return n=e.sent,a({type:"CAMPAIGN_ADD",payload:n.data.data}),e.abrupt("return",Promise.resolve());case 9:return e.prev=9,e.t0=e.catch(0),a({type:"CAMPAIGN_FAIL",payload:e.t0.response.data.data}),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}(0,I)).then((function(){ce(!1),W(!1),Y.b.success("Campaign added successfully",{position:Y.b.POSITION.BOTTOM_RIGHT})})).catch((function(e){ce(!1),Y.b.error(e.response.data.message,{position:Y.b.POSITION.BOTTOM_RIGHT})})))},children:[Object(k.jsx)(G.a.Header,{closeButton:!0,children:Object(k.jsx)(G.a.Title,{children:R.a.isUndefined(I.id)?"Add Campaign":"Update Campaign"})}),Object(k.jsx)(G.a.Body,{children:[{key:"id",title:"ID",type:"hidden",placeholder:"Campaign ID",control_id:"formCampaignId",hidden:!0},{key:"name",title:"Name",type:"text",placeholder:"Enter campaign name",errorMsg:"Please provide campaign name.",control_id:"formCampaignName",required:!0},{key:"description",title:"Description",type:"text",placeholder:"Enter campaign description",errorMsg:"Please provide campaign description.",control_id:"formCampaignDescription",required:!0},{key:"start_date",title:"Start Date",type:"datepicker",placeholder:"Enter campaign start date",errorMsg:"Please provide campaign name.",control_id:"formStartDescription",required:!0},{key:"end_date",title:"End Date",type:"datepicker",placeholder:"Enter campaign end date",control_id:"formEndDescription",required:!0}].map((function(e,t){return"text"===e.type?Object(k.jsxs)(N.a.Group,{hidden:e.hidden,as:O.a,controlId:e.control_id,children:[Object(k.jsx)(N.a.Label,{column:!0,sm:3,children:e.title}),Object(k.jsxs)(h.a,{sm:9,children:[Object(k.jsx)(N.a.Control,{required:e.required,type:e.type,placeholder:e.placeholder,value:R.a.isUndefined(I[e.key])?"":I[e.key],onChange:function(t){return C((function(a){return Object(d.a)(Object(d.a)({},a),{},Object(P.a)({},e.key,t.target.value))}))}}),Object(k.jsx)(N.a.Control.Feedback,{type:"invalid",children:e.errorMsg})]})]},t):"select"===e.type?Object(k.jsxs)(N.a.Group,{hidden:e.hidden,as:O.a,controlId:e.control_id,children:[Object(k.jsx)(N.a.Label,{column:!0,sm:3,children:e.title}),Object(k.jsxs)(h.a,{sm:9,children:[Object(k.jsx)(N.a.Control,{size:"sm",required:e.required,as:e.type,placeholder:e.placeholder,value:R.a.isUndefined(I[e.key])?"":I[e.key],onChange:function(t){return C((function(a){return Object(d.a)(Object(d.a)({},a),{},Object(P.a)({},e.key,t.target.value))}))},children:e.options.map((function(e,t){return Object(k.jsx)("option",{value:e.key,children:e.label},t)}))}),Object(k.jsx)(N.a.Control.Feedback,{type:"invalid",children:e.errorMsg})]})]},t):"datepicker"===e.type?Object(k.jsxs)(N.a.Group,{hidden:e.hidden,as:O.a,controlId:e.control_id,children:[Object(k.jsx)(N.a.Label,{column:!0,sm:3,children:e.title}),Object(k.jsxs)(h.a,{sm:9,children:[Object(k.jsx)(fe.a,{className:"form-control",minDate:new Date,dateFormat:"MM/dd/yyyy",selected:I[e.key],onChange:function(t){return C((function(a){return Object(d.a)(Object(d.a)({},a),{},Object(P.a)({},e.key,null==t?new Date:t))}))},required:e.required}),Object(k.jsx)(N.a.Control.Feedback,{type:"invalid",children:e.errorMsg})]})]},t):void 0}))}),Object(k.jsxs)(G.a.Footer,{children:[Object(k.jsx)(w.a,{variant:"secondary",onClick:re,children:"Close"}),Object(k.jsxs)(w.a,{variant:"primary",type:"submit",children:[ne&&Object(k.jsx)(z.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Save Changes"]})]})]})}),Object(k.jsxs)(G.a,{show:$,onHide:function(){return ee(!1)},children:[Object(k.jsx)(G.a.Header,{closeButton:!0,children:Object(k.jsx)(G.a.Title,{children:"Rewards"})}),Object(k.jsxs)(G.a.Body,{children:[Object(k.jsxs)(N.a,{children:[Object(k.jsxs)(N.a.Group,{className:"mb-2",controlId:"formAction",children:[Object(k.jsx)(N.a.Label,{children:"Action"}),Object(k.jsx)(q.a,{ref:a,defaultOptions:!0,loadOptions:function(e){return new Promise((function(t){setTimeout((function(){t(de(e))}),1e3)}))},onChange:function(e){L(null!=e?function(t){return Object(d.a)(Object(d.a)({},t),{},{action_id:e.value})}:function(e){return{}})}}),Object(k.jsx)(N.a.Text,{className:"text-muted",children:"Choose action first."})]}),Object(k.jsxs)(N.a.Group,{className:"mb-2",controlId:"formReward",children:[Object(k.jsx)(N.a.Label,{children:"Reward"}),Object(k.jsx)(q.a,{ref:r,defaultOptions:!0,loadOptions:function(e){return new Promise((function(t){setTimeout((function(){t(je(e))}),1e3)}))},onChange:function(e){L(null!=e?function(t){return Object(d.a)(Object(d.a)({},t),{},{reward_id:e.value})}:function(e){return{}})}})]}),Object(k.jsxs)(N.a.Group,{className:"mb-2",controlId:"formQuantity",children:[Object(k.jsx)(N.a.Label,{children:"Quantity"}),Object(k.jsx)(N.a.Control,{type:"number",placeholder:"Enter qty",onChange:function(e){return L((function(t){return Object(d.a)(Object(d.a)({},t),{},{quantity:e.target.value})}))},value:R.a.isUndefined(M.quantity)?"":M.quantity})]}),Object(k.jsxs)(w.a,{onClick:ue,children:[ne&&Object(k.jsx)(z.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Add"]})]}),Object(k.jsx)(O.a,{className:"mt-2",children:Object(k.jsxs)(h.a,{md:"12",children:[Object(k.jsxs)(H.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"Reward"}),Object(k.jsx)("th",{children:"Action"}),Object(k.jsx)("th",{children:"Qty"})]})}),Object(k.jsx)("tbody",{children:R.a.isEmpty(p.data.campaigns)||R.a.isEmpty(p.data.campaigns.data)?p.loading?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"6",className:"text-center",children:"Loading..."})}):""!==p.errorMsg?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"6",className:"text-center",children:s.errorMsg})}):Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"6",className:"text-center",children:"No data available"})}):p.data.campaigns.data.map((function(e,t){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:e.reward.name}),Object(k.jsx)("td",{children:e.action.name}),Object(k.jsx)("td",{children:e.quantity}),Object(k.jsx)("td",{children:Object(k.jsx)(F.a,{size:"sm",children:Object(k.jsx)(w.a,{variant:"danger",onClick:function(){pe(e.id,"campaign")},children:"Delete"})})})]},t)}))})]}),Object(k.jsx)(U.a,{size:"sm",className:"float-right",children:ge("campaigns")})]})})]})]}),Object(k.jsx)(Y.a,{})]})}),ve=function(e){var t=Object(b.c)((function(e){return e.Auth}));return 1===t.user.type||2===t.user.type?ge(e):function(e){var t=Object(b.b)(),a=Object(b.c)((function(e){return e.Campaign}));c.a.useEffect((function(){n()}),[]);var n=function(){t(Oe(e,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/campaigns"))};return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(O.a,{className:"pt-3",children:R.a.isEmpty(a.data.data)?a.loading?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"6",className:"text-center",children:"Loading..."})}):""!==a.errorMsg?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"6",className:"text-center",children:a.errorMsg})}):Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"6",className:"text-center",children:"No data available"})}):a.data.data.map((function(e,t){return Object(k.jsx)(h.a,{md:4,children:Object(k.jsx)(m.a,{children:Object(k.jsxs)(m.a.Body,{children:[Object(k.jsx)(m.a.Title,{children:e.name}),Object(k.jsxs)(m.a.Text,{children:[Object(k.jsx)(O.a,{children:Object(k.jsx)(h.a,{children:e.description})}),Object(k.jsx)(O.a,{children:Object(k.jsxs)(h.a,{children:["Expiration: ",e.end_date]})})]})]})},t)})}))})})}(e)},ye=function(e){Object(b.b)();var t=e.match.params.campaign,a=Object(n.useState)(""),r=Object(u.a)(a,2),s=(r[0],r[1],Object(n.useState)({})),i=Object(u.a)(s,2),l=i[0],d=i[1];c.a.useEffect((function(){p()}),[]);var p=function(){var e=Object(j.a)(o.a.mark((function e(a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/campaigns/"+t);case 2:n=e.sent,console.log(n.data.data),d(n.data.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:"12",children:l.name}),Object(k.jsx)(h.a,{md:"12",children:l.description})]})})},ke=a(308),_e="/rewards",Ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_e;return function(){var a=Object(j.a)(o.a.mark((function a(n){var c;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"REWARD_REQUEST"}),a.next=4,v.a.get(t,{params:e});case 4:return c=a.sent,n({type:"REWARD_FETCH",payload:c.data.data}),a.abrupt("return",Promise.resolve());case 9:return a.prev=9,a.t0=a.catch(0),n({type:"REWARD_FAIL",payload:a.t0.response.data}),a.abrupt("return",Promise.reject(a.t0));case 13:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},Ee=(a(285),function(e){var t=Object(b.b)(),a=Object(b.c)((function(e){return e.Reward})),r=Object(n.useState)(!1),s=Object(u.a)(r,2),i=s[0],l=s[1],p=Object(n.useState)({}),m=Object(u.a)(p,2),x=m[0],f=m[1],g=Object(n.useState)(!1),_=Object(u.a)(g,2),E=_[0],T=_[1],I=Object(n.useState)(!1),C=Object(u.a)(I,2),S=C[0],A=C[1],M=Object(n.useState)([{key:"id",title:"Name",type:"hidden",placeholder:"Reward ID",control_id:"formActionId",hidden:!0},{key:"type",title:"Type",type:"select",placeholder:"Enter action type",errorMsg:["Please select type."],options:[{label:"Item",key:"item"},{label:"Discount",key:"discount"},{label:"Points",key:"points"}],control_id:"formActionType"},{key:"value",title:"Value",type:"number",min:0,placeholder:"Enter reward value",errorMsg:["Please provide reward value."],control_id:"formValue"},{key:"cost",title:"Cost",type:"number",min:0,placeholder:"Enter reward cost",errorMsg:["Please provide reward cost."],control_id:"formCost"},{key:"name",title:"Name",type:"text",placeholder:"Enter reward name",errorMsg:["Please provide reward name."],control_id:"formActionName"},{key:"description",title:"Description",type:"text",placeholder:"Enter reward description",errorMsg:["Please provide reward description."],control_id:"formActionDescription"}]),D=Object(u.a)(M,2),L=D[0],B=D[1],q=Object(n.useState)(!1),V=Object(u.a)(q,2),K=V[0],W=V[1],Z=function(){return W(!1)};c.a.useEffect((function(){J()}),[]);var J=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/rewards";t(Ne(e,a))},X=function(){var e=L;return l(!1),e=e.map((function(e,t){return Object(d.a)(Object(d.a)({},e),{},{isInvalid:!1})})),B(e),e},$=function(e,t){var a=function(a){if(Object.hasOwnProperty.call(t,a)){var n=t[a];c=L.findIndex((function(e){return e.key===a})),e[c].errorMsg=n,e[c].isInvalid=!0}};for(var n in t){var c;a(n)}B(e),console.log(e),l(!0)},ee=function(e){t(function(e,t){return function(){var e=Object(j.a)(o.a.mark((function e(a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"REWARD_REQUEST"}),e.next=4,v.a.delete("/rewards/"+t);case 4:return n=e.sent,a({type:"REWARD_DELETE",payload:n.data.data}),e.abrupt("return",Promise.resolve());case 9:return e.prev=9,e.t0=e.catch(0),a({type:"REWARD_FAIL",payload:e.t0.response.data}),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}(0,e)).then((function(){A(!1),Y.b.success("Reward has been deleted successfully",{position:Y.b.POSITION.BOTTOM_RIGHT})})).catch((function(e){A(!1),Y.b.error(e.response.data.message,{position:Y.b.POSITION.BOTTOM_RIGHT})}))},te=function(e){var t=Q.a.tz.guess(!0);return(e=Q.a.tz(e,y.url.TIMEZONE)).tz(t).format("YYYY-MM-DD hh:mm:ss A")};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{md:12,children:Object(k.jsx)(w.a,{variant:"primary",onClick:function(){X(),f({type:"item"}),W(!0)},children:"Add Reward"})}),Object(k.jsx)(G.a,{show:K,onHide:Z,children:Object(k.jsxs)(N.a,{noValidate:!0,validated:i,onSubmit:function(e){e.preventDefault(),e.stopPropagation();var a=e.currentTarget,n=X();T(!0),!1!==a.checkValidity()&&(x.id?t(function(e,t){return function(){var e=Object(j.a)(o.a.mark((function e(a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"REWARD_REQUEST"}),e.next=4,v.a.put("/rewards/"+t.id,t);case 4:return n=e.sent,a({type:"REWARD_UPDATE",payload:n.data.data}),e.abrupt("return",Promise.resolve());case 9:return e.prev=9,e.t0=e.catch(0),a({type:"REWARD_FAIL",payload:e.t0.response.data}),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}(0,x)).then((function(){W(!1),T(!1),Y.b.success("Reward edited successfully",{position:Y.b.POSITION.BOTTOM_RIGHT})})).catch((function(e){if(T(!1),void 0!=typeof e.response.data.data){var t=e.response.data.data;$(n,t)}Y.b.error(e.response.data.message,{position:Y.b.POSITION.BOTTOM_RIGHT})})):t(function(e,t){return function(){var e=Object(j.a)(o.a.mark((function e(a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"REWARD_REQUEST"}),e.next=4,v.a.post(_e,t);case 4:return n=e.sent,a({type:"REWARD_ADD",payload:n.data.data}),e.abrupt("return",Promise.resolve());case 9:return e.prev=9,e.t0=e.catch(0),a({type:"REWARD_FAIL",payload:e.t0.response.data}),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}(0,x)).then((function(){W(!1),T(!1),Y.b.success("Reward has been added successfully",{position:Y.b.POSITION.BOTTOM_RIGHT})})).catch((function(e){if(T(!1),void 0!=typeof e.response.data.data){var t=e.response.data.data;$(n,t)}Y.b.error(e.response.data.message,{position:Y.b.POSITION.BOTTOM_RIGHT})})))},children:[Object(k.jsx)(G.a.Header,{closeButton:!0,children:Object(k.jsx)(G.a.Title,{children:x.id?"Update Reward":"Add Reward"})}),Object(k.jsx)(G.a.Body,{children:L.map((function(e,t){return"text"===e.type?Object(k.jsxs)(N.a.Group,{hidden:e.hidden,as:O.a,controlId:e.control_id,children:[Object(k.jsx)(N.a.Label,{column:!0,sm:3,children:e.title}),Object(k.jsxs)(h.a,{sm:9,children:[Object(k.jsx)(N.a.Control,{required:e.required,isInvalid:e.isInvalid,type:e.type,placeholder:e.placeholder,value:R.a.isUndefined(x[e.key])?"":x[e.key],onChange:function(t){return f((function(a){return Object(d.a)(Object(d.a)({},a),{},Object(P.a)({},e.key,t.target.value))}))}}),Object(k.jsx)(N.a.Control.Feedback,{type:"invalid",children:e.errorMsg})]})]},t):"number"===e.type&&"cost"!=e.key?Object(k.jsxs)(N.a.Group,{hidden:e.hidden,as:O.a,controlId:e.control_id,children:[Object(k.jsx)(N.a.Label,{column:!0,sm:3,children:"discount"===x.type?"Percentage":"item"===x.type?"Quantity":"Points"}),Object(k.jsxs)(h.a,{sm:9,children:[Object(k.jsx)(N.a.Control,{required:e.required,isInvalid:e.isInvalid,type:e.type,placeholder:e.placeholder,value:R.a.isUndefined(x[e.key])?"":x[e.key],min:e.min,onChange:function(t){return f((function(a){return Object(d.a)(Object(d.a)({},a),{},Object(P.a)({},e.key,t.target.value))}))}}),Object(k.jsx)(N.a.Control.Feedback,{type:"invalid",children:e.errorMsg})]})]},t):"number"!==e.type||"cost"!==e.key||"item"!=x.type&&"discount"!=x.type?"select"===e.type?Object(k.jsxs)(N.a.Group,{hidden:e.hidden,as:O.a,controlId:e.control_id,children:[Object(k.jsx)(N.a.Label,{column:!0,sm:3,children:e.title}),Object(k.jsxs)(h.a,{sm:9,children:[Object(k.jsx)(N.a.Control,{size:"sm",required:e.required,isInvalid:e.isInvalid,as:e.type,placeholder:e.placeholder,value:R.a.isUndefined(x[e.key])?"":x[e.key],onChange:function(t){return f((function(a){return Object(d.a)(Object(d.a)({},a),{},Object(P.a)({},e.key,t.target.value))}))},children:e.options.map((function(e,t){return Object(k.jsx)("option",{value:e.key,children:e.label},t)}))}),Object(k.jsx)(N.a.Control.Feedback,{type:"invalid",children:e.errorMsg})]})]},t):void 0:Object(k.jsxs)(N.a.Group,{hidden:e.hidden,as:O.a,controlId:e.control_id,children:[Object(k.jsx)(N.a.Label,{column:!0,sm:3,children:e.title}),Object(k.jsxs)(h.a,{sm:9,children:[Object(k.jsx)(N.a.Control,{required:e.required,isInvalid:e.isInvalid,type:e.type,placeholder:e.placeholder,value:R.a.isUndefined(x[e.key])?"":x[e.key],min:e.min,onChange:function(t){return f((function(a){return Object(d.a)(Object(d.a)({},a),{},Object(P.a)({},e.key,t.target.value))}))}}),Object(k.jsx)(N.a.Control.Feedback,{type:"invalid",children:e.errorMsg})]})]},t)}))}),Object(k.jsxs)(G.a.Footer,{children:[Object(k.jsx)(w.a,{variant:"secondary",onClick:Z,children:"Close"}),Object(k.jsxs)(w.a,{variant:"primary",type:"submit",children:[E&&Object(k.jsx)(z.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Save Changes"]})]})]})})]}),Object(k.jsx)(O.a,{children:Object(k.jsxs)(h.a,{md:12,children:[Object(k.jsxs)(H.a,{responsive:!0,hover:!0,size:"sm",children:[Object(k.jsx)("thead",{className:"table-dark",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"Name"}),Object(k.jsx)("th",{children:"Description"}),Object(k.jsx)("th",{children:"Type"}),Object(k.jsx)("th",{children:"Value/Qty."}),Object(k.jsx)("th",{children:"Cost"}),Object(k.jsx)("th",{children:"Created"}),Object(k.jsx)("th",{children:"Updated"}),Object(k.jsx)("th",{children:"Actions"})]})}),Object(k.jsx)("tbody",{children:R.a.isEmpty(a.data.data)?a.loading?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"6",className:"text-center",children:"Loading..."})}):""!==a.errorMsg?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"6",className:"text-center",children:a.errorMsg})}):Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"6",className:"text-center",children:"No data available"})}):a.data.data.map((function(e,t){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:e.name}),Object(k.jsx)("td",{children:e.description}),Object(k.jsx)("td",{children:e.type}),Object(k.jsx)("td",{children:parseFloat(e.value)}),Object(k.jsx)("td",{children:parseFloat(e.cost)}),Object(k.jsx)("td",{children:te(e.created_at)}),Object(k.jsx)("td",{children:te(e.updated_at)}),Object(k.jsx)("td",{children:Object(k.jsxs)(F.a,{size:"sm",children:[Object(k.jsx)(w.a,{variant:"danger",onClick:function(){ee(e.id)},children:S?"Deleting...":"Delete"}),Object(k.jsx)(w.a,{onClick:function(t){return a=e,X(),f(a),void W(!0);var a},children:"Edit"})]})})]},t)}))})]}),Object(k.jsx)(U.a,{size:"sm",className:"float-right",children:function(){if(!R.a.isEmpty(a.data.links))return a.data.links.map((function(e,t){return Object(k.jsx)(U.a.Item,{active:e.active,onClick:function(){return J(e.url)},disabled:!e.url,children:Object(k.jsx)("span",{dangerouslySetInnerHTML:{__html:e.label}})},t)}))}()})]})}),Object(k.jsx)(Y.a,{})]})}),we=function(e){var t=Object(b.b)(),a=Object(b.c)((function(e){return e.Reward})),r=function(){var e=Object(j.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.post("redeem",{reward_id:t});case 3:a=e.sent,a.data.data,Y.b.success("Redemption successful",{position:Y.b.POSITION.BOTTOM_RIGHT}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Y.b.error(e.t0.response.data.message,{position:Y.b.POSITION.BOTTOM_RIGHT});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/rewards",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t(Ne(a,e))},i=Object(n.useState)("all"),l=Object(u.a)(i,2),d=l[0],p=l[1];return c.a.useEffect((function(){s()}),[]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(O.a,{className:"pt-3",children:Object(k.jsx)(h.a,{md:"12",children:Object(k.jsxs)(m.a,{className:"reward-container ml-5 mr-5",children:[Object(k.jsx)(m.a.Body,{className:"row",children:Object(k.jsx)(h.a,{md:"12",children:Object(k.jsx)(F.a,{toggle:!0,children:[{name:"All",value:"all"},{name:"Eligible",value:"eligible"}].map((function(e,t){return Object(k.jsx)(ke.a,{id:"radio-".concat(t),type:"radio",variant:"outline-warning",name:"radio",value:e.value,checked:d===e.value,onChange:function(e){return t={show:e.currentTarget.value},s("/rewards",t),void p(t.show);var t},children:e.name},t)}))})})}),Object(k.jsx)(m.a.Body,{className:"row",children:R.a.isEmpty(a.data.data)?a.loading?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"6",className:"text-center",children:"Loading..."})}):""!==a.errorMsg?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"6",className:"text-center",children:a.errorMsg})}):Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"6",className:"text-center",children:"No data available"})}):a.data.data.map((function(e,t){return Object(k.jsx)(h.a,{md:4,className:"mb-3 reward-content",children:Object(k.jsxs)(m.a,{style:{height:"100%"},children:[Object(k.jsxs)(m.a.Body,{children:[Object(k.jsx)(m.a.Title,{children:e.name}),Object(k.jsx)(m.a.Text,{children:e.description})]}),"points"!=e.type?Object(k.jsxs)(w.a,{variant:"dark",onClick:function(){return r(e.id)},children:["Redeem (",e.cost," PTS)"]}):""]})},t)}))}),Object(k.jsx)(m.a.Body,{className:"row",children:Object(k.jsx)(h.a,{md:12,children:Object(k.jsx)(U.a,{size:"sm",className:"float-right",children:function(){if(!R.a.isEmpty(a.data.links))return a.data.links.map((function(e,t){return Object(k.jsx)(U.a.Item,{active:e.active,onClick:function(){return s(e.url)},disabled:!e.url,children:Object(k.jsx)("span",{dangerouslySetInnerHTML:{__html:e.label}})},t)}))}()})})})]})})}),Object(k.jsx)(Y.a,{})]})},Te=function(e){var t=Object(b.c)((function(e){return e.Auth}));return 1===t.user.type||2===t.user.type?Ee(e):we()},Ie="/transactions",Ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ie,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(){var e=Object(j.a)(o.a.mark((function e(n){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:"REQUEST"}),e.next=4,v.a.get(t,{params:a});case 4:c=e.sent,n({type:"FETCH_SUCCESS",payload:c.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n({type:"FAIL",payload:e.t0.response.data.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},Se=a(100),Ae=(a(287),a(30)),Me=a.n(Ae),Re=function(e){var t=Object(b.b)(),a=Object(b.c)((function(e){return e.Transaction})),r=Object(n.useState)(!1),s=Object(u.a)(r,2),i=(s[0],s[1],Object(n.useState)({})),l=Object(u.a)(i,2),p=(l[0],l[1],Object(n.useState)({})),m=Object(u.a)(p,2),x=(m[0],m[1],Object(n.useState)({type:"all"})),f=Object(u.a)(x,2),g=f[0],y=f[1],_=Object(n.useState)(!1),E=Object(u.a)(_,2),T=(E[0],E[1],Object(n.useState)(!1)),I=Object(u.a)(T,2),C=I[0],S=I[1],A=Object(n.useState)({}),M=Object(u.a)(A,2),D=M[0],L=M[1],F=function(){S(!1),L({})},B=function(){var e=Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.put("transactions/"+D.id,D).then((function(e){t({type:"UPDATE_SUCCESS",payload:e.data.data}),F()})).catch((function(e){e.response&&t({type:"FAIL",payload:e.response.data.message})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();c.a.useEffect((function(){z()}),[]);var z=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/transactions",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;t(Ce(e,a,n))},q=function(e,t){var a=g;a=Object(d.a)(Object(d.a)({},a),{},Object(P.a)({},e,t)),y(a),z("/transactions",a)};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(O.a,{children:Object(k.jsxs)(h.a,{md:12,children:[Object(k.jsx)(N.a.Group,{controlId:"exampleForm.SelectCustom",children:Object(k.jsxs)(N.a.Row,{children:[Object(k.jsx)(N.a.Label,{column:"sm",lg:1,children:"Type"}),Object(k.jsx)(h.a,{lg:3,children:Object(k.jsxs)(N.a.Control,{as:"select",size:"sm",custom:!0,defaultValue:R.a.isEmpty(g)||R.a.isEmpty(g.type)?"all":g.type,onChange:function(e){return function(e){var t=g;t=Object(d.a)(Object(d.a)({},t),{},{type:e}),y(t),z("/transactions",t)}(e.target.value)},children:[Object(k.jsx)("option",{value:"all",children:"All"}),Object(k.jsx)("option",{value:"rewards",children:"Rewards"}),Object(k.jsx)("option",{value:"redeems",children:"Redeems"})]})})]})}),Object(k.jsxs)(N.a.Group,{children:[Object(k.jsxs)(N.a.Row,{children:[Object(k.jsx)(N.a.Label,{column:"sm",lg:1,children:"Transaction ID"}),Object(k.jsx)(h.a,{lg:3,children:Object(k.jsx)(N.a.Control,{size:"sm",type:"text",placeholder:"e.g. abcd1234",onChange:function(e){return q("transaction_id",e.target.value)}})})]}),Object(k.jsxs)(N.a.Row,{children:[Object(k.jsx)(N.a.Label,{column:"sm",lg:1,children:"Reference No."}),Object(k.jsx)(h.a,{lg:3,children:Object(k.jsx)(N.a.Control,{size:"sm",type:"text",placeholder:"e.g. abcd1234",onChange:function(e){return q("reference_no",e.target.value)}})})]}),Object(k.jsxs)(N.a.Row,{children:[Object(k.jsx)(N.a.Label,{column:"sm",lg:1,children:"Customer"}),Object(k.jsx)(h.a,{lg:3,children:Object(k.jsx)(N.a.Control,{size:"sm",type:"text",placeholder:"e.g. John Doe",onChange:function(e){return q("customer",e.target.value)}})})]}),Object(k.jsxs)(N.a.Row,{children:[Object(k.jsx)(N.a.Label,{column:"sm",lg:1,children:"Salesperson"}),Object(k.jsx)(h.a,{lg:3,children:Object(k.jsx)(N.a.Control,{size:"sm",type:"text",placeholder:"e.g. Jane Doe",onChange:function(e){return q("salesperson",e.target.value)}})})]}),Object(k.jsxs)(N.a.Row,{children:[Object(k.jsx)(N.a.Label,{column:"sm",lg:1,children:"Date"}),Object(k.jsx)(h.a,{lg:3,children:Object(k.jsx)(Se.a,{initialSettings:{startDate:Me()(),endDate:Me()()},onCallback:function(e,t,a){var n=g;e=e.format("YYYY-MM-DD"),t=t.format("YYYY-MM-DD"),n=Object(d.a)(Object(d.a)({},n),{},{start_date:e,end_date:t}),y(n),z("/transactions",n)},children:Object(k.jsx)("input",{type:"text",className:"form-control"})})})]})]})]})}),Object(k.jsxs)(O.a,{children:[Object(k.jsxs)(G.a,{show:C,onHide:F,children:[Object(k.jsx)(G.a.Header,{closeButton:!0,children:Object(k.jsx)(G.a.Title,{children:"Are you sure?"})}),Object(k.jsxs)(G.a.Body,{children:[Object(k.jsxs)("p",{children:["You want to mark this as ",Object(k.jsx)("b",{children:R.a.isEmpty(D)?"":D.status}),"?"]}),R.a.isEmpty(D)||"confirmed"!=D.status?"":Object(k.jsxs)(N.a.Group,{controlId:"formBasicEmail",children:[Object(k.jsx)(N.a.Label,{children:"Reference No."}),Object(k.jsx)(N.a.Control,{type:"text",placeholder:"Enter reference no.",onChange:function(e){return L((function(t){return Object(d.a)(Object(d.a)({},t),{},{reference_no:e.target.value})}))}})]})]}),Object(k.jsxs)(G.a.Footer,{children:[Object(k.jsx)(w.a,{variant:"secondary",onClick:F,children:"Close"}),Object(k.jsx)(w.a,{variant:"primary",onClick:function(e){return B()},children:"Save Changes"})]})]}),Object(k.jsxs)(h.a,{md:12,children:[Object(k.jsxs)(H.a,{responsive:!0,hover:!0,size:"sm",children:[Object(k.jsx)("thead",{className:"table-dark",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"Transaction ID"}),Object(k.jsx)("th",{children:"Type"}),Object(k.jsx)("th",{children:"Reference No."}),Object(k.jsx)("th",{children:"Running Balance"}),Object(k.jsx)("th",{children:"Total"}),Object(k.jsx)("th",{children:"Customer"}),Object(k.jsx)("th",{children:"Salesperson"}),Object(k.jsx)("th",{children:"Created"}),Object(k.jsx)("th",{children:"Updated"}),Object(k.jsx)("th",{style:{width:"10%"},children:"Status"})]})}),Object(k.jsx)("tbody",{children:R.a.isEmpty(a.data.data)?a.loading?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"10",className:"text-center",children:"Loading..."})}):""!==a.errorMsg?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"10",className:"text-center",children:a.errorMsg})}):Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"10",className:"text-center",children:"No data available"})}):a.data.data.map((function(e,t){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:e.transaction_id}),Object(k.jsx)("td",{children:e.type}),Object(k.jsx)("td",{children:e.reference_no}),Object(k.jsx)("td",{children:e.balance}),Object(k.jsx)("td",{children:e.cost}),Object(k.jsx)("td",{children:e.customer.name}),Object(k.jsx)("td",{children:e.salesperson?e.salesperson.name:""}),Object(k.jsx)("td",{children:e.created_at}),Object(k.jsx)("td",{children:e.updated_at}),Object(k.jsx)("td",{children:Object(k.jsx)(N.a.Group,{controlId:"exampleForm.SelectCustom",children:Object(k.jsx)(N.a.Row,{children:Object(k.jsxs)(N.a.Control,{as:"select",size:"sm",custom:!0,value:e.status,onChange:function(t){return a=e.id,n=t.target.value,e.status,S(!0),void L({id:a,status:n});var a,n},children:[Object(k.jsx)("option",{value:"pending",children:"Pending"}),Object(k.jsx)("option",{value:"cancelled",children:"Cancelled"}),Object(k.jsx)("option",{value:"confirmed",children:"Confirmed"}),Object(k.jsx)("option",{value:"completed",children:"Completed"})]})})})})]},t)}))})]}),Object(k.jsx)(U.a,{size:"sm",className:"float-right",children:function(){if(!R.a.isEmpty(a.data.links))return a.data.links.map((function(e,t){return Object(k.jsx)(U.a.Item,{active:e.active,onClick:function(){return z(e.url,{})},disabled:!e.url,children:Object(k.jsx)("span",{dangerouslySetInnerHTML:{__html:e.label}})},t)}))}()})]})]})]})},Pe=function(e){var t=Object(b.b)(),a=Object(b.c)((function(e){return e.Transaction})),r=Object(n.useState)(!1),s=Object(u.a)(r,2),i=(s[0],s[1],Object(n.useState)({})),l=Object(u.a)(i,2),p=(l[0],l[1],Object(n.useState)({})),m=Object(u.a)(p,2),x=(m[0],m[1],Object(n.useState)({type:"all"})),f=Object(u.a)(x,2),g=f[0],y=f[1],_=Object(n.useState)(!1),E=Object(u.a)(_,2),T=E[0],I=E[1],C=Object(n.useState)({}),S=Object(u.a)(C,2),A=S[0],M=S[1],D=function(){I(!1),M({})},L=function(){var e=Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.put("transactions/"+A.id,A).then((function(e){t({type:"UPDATE_SUCCESS",payload:e.data.data}),D()})).catch((function(e){e.response&&t({type:"FAIL",payload:e.response.data.message})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();c.a.useEffect((function(){F()}),[]);var F=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/transactions",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;t(Ce(e,a,n))},B=function(e,t){var a=g;a=Object(d.a)(Object(d.a)({},a),{},Object(P.a)({},e,t)),y(a),F("/transactions",a)};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(O.a,{children:Object(k.jsxs)(h.a,{md:12,children:[Object(k.jsx)(N.a.Group,{controlId:"exampleForm.SelectCustom",children:Object(k.jsxs)(N.a.Row,{children:[Object(k.jsx)(N.a.Label,{column:"sm",lg:1,children:"Type"}),Object(k.jsx)(h.a,{lg:3,children:Object(k.jsxs)(N.a.Control,{as:"select",size:"sm",custom:!0,defaultValue:R.a.isEmpty(g)||R.a.isEmpty(g.type)?"all":g.type,onChange:function(e){return function(e){var t=g;t=Object(d.a)(Object(d.a)({},t),{},{type:e}),y(t),F("/transactions",t)}(e.target.value)},children:[Object(k.jsx)("option",{value:"all",children:"All"}),Object(k.jsx)("option",{value:"rewards",children:"Rewards"}),Object(k.jsx)("option",{value:"redeems",children:"Redeems"})]})})]})}),Object(k.jsxs)(N.a.Group,{children:[Object(k.jsxs)(N.a.Row,{children:[Object(k.jsx)(N.a.Label,{column:"sm",lg:1,children:"Transaction ID"}),Object(k.jsx)(h.a,{lg:3,children:Object(k.jsx)(N.a.Control,{size:"sm",type:"text",placeholder:"e.g. abcd1234",onChange:function(e){return B("transaction_id",e.target.value)}})})]}),Object(k.jsxs)(N.a.Row,{children:[Object(k.jsx)(N.a.Label,{column:"sm",lg:1,children:"Reference No."}),Object(k.jsx)(h.a,{lg:3,children:Object(k.jsx)(N.a.Control,{size:"sm",type:"text",placeholder:"e.g. abcd1234",onChange:function(e){return B("reference_no",e.target.value)}})})]}),Object(k.jsxs)(N.a.Row,{children:[Object(k.jsx)(N.a.Label,{column:"sm",lg:1,children:"Salesperson"}),Object(k.jsx)(h.a,{lg:3,children:Object(k.jsx)(N.a.Control,{size:"sm",type:"text",placeholder:"e.g. Jane Doe",onChange:function(e){return B("salesperson",e.target.value)}})})]}),Object(k.jsxs)(N.a.Row,{children:[Object(k.jsx)(N.a.Label,{column:"sm",lg:1,children:"Date"}),Object(k.jsx)(h.a,{lg:3,children:Object(k.jsx)(Se.a,{initialSettings:{startDate:Me()(),endDate:Me()()},onCallback:function(e,t,a){var n=g;e=e.format("YYYY-MM-DD"),t=t.format("YYYY-MM-DD"),n=Object(d.a)(Object(d.a)({},n),{},{start_date:e,end_date:t}),y(n),F("/transactions",n)},children:Object(k.jsx)("input",{type:"text",className:"form-control"})})})]})]})]})}),Object(k.jsxs)(O.a,{children:[Object(k.jsxs)(G.a,{show:T,onHide:D,children:[Object(k.jsx)(G.a.Header,{closeButton:!0,children:Object(k.jsx)(G.a.Title,{children:"Are you sure?"})}),Object(k.jsxs)(G.a.Body,{children:[Object(k.jsxs)("p",{children:["You want to mark this as ",Object(k.jsx)("b",{children:R.a.isEmpty(A)?"":A.status}),"?"]}),R.a.isEmpty(A)||"confirmed"!=A.status?"":Object(k.jsxs)(N.a.Group,{controlId:"formBasicEmail",children:[Object(k.jsx)(N.a.Label,{children:"Reference No."}),Object(k.jsx)(N.a.Control,{type:"text",placeholder:"Enter reference no.",onChange:function(e){return M((function(t){return Object(d.a)(Object(d.a)({},t),{},{reference_no:e.target.value})}))}})]})]}),Object(k.jsxs)(G.a.Footer,{children:[Object(k.jsx)(w.a,{variant:"secondary",onClick:D,children:"Close"}),Object(k.jsx)(w.a,{variant:"primary",onClick:function(e){return L()},children:"Save Changes"})]})]}),Object(k.jsxs)(H.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"Transaction ID"}),Object(k.jsx)("th",{children:"Type"}),Object(k.jsx)("th",{children:"Reference No."}),Object(k.jsx)("th",{children:"Running Balance"}),Object(k.jsx)("th",{children:"Total"}),Object(k.jsx)("th",{children:"Customer"}),Object(k.jsx)("th",{children:"Salesperson"}),Object(k.jsx)("th",{children:"Created"}),Object(k.jsx)("th",{children:"Updated"}),Object(k.jsx)("th",{style:{width:"10%"},children:"Status"})]})}),Object(k.jsx)("tbody",{children:R.a.isEmpty(a.data.data)?a.loading?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"10",className:"text-center",children:"Loading..."})}):""!==a.errorMsg?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"10",className:"text-center",children:a.errorMsg})}):Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"10",className:"text-center",children:"No data available"})}):a.data.data.map((function(e,t){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:e.transaction_id}),Object(k.jsx)("td",{children:e.type}),Object(k.jsx)("td",{children:e.reference_no}),Object(k.jsx)("td",{children:e.balance}),Object(k.jsx)("td",{children:e.cost}),Object(k.jsx)("td",{children:e.customer.name}),Object(k.jsx)("td",{children:e.salesperson?e.salesperson.name:""}),Object(k.jsx)("td",{children:e.created_at}),Object(k.jsx)("td",{children:e.updated_at}),Object(k.jsx)("td",{children:Object(k.jsx)(J.a,{variant:"info",children:e.status})})]},t)}))})]}),Object(k.jsx)(U.a,{size:"sm",className:"float-right",children:function(){if(!R.a.isEmpty(a.data.links))return a.data.links.map((function(e,t){return Object(k.jsx)(U.a.Item,{active:e.active,onClick:function(){return F(e.url,{})},disabled:!e.url,children:Object(k.jsx)("span",{dangerouslySetInnerHTML:{__html:e.label}})},t)}))}()})]})]})},De=function(e){var t=Object(b.c)((function(e){return e.Auth}));return 1===t.user.type||2===t.user.type?Re(e):Pe(e)},Le=(a(141),a(70),a(78)),Ue=a(309),Fe=(a(288),a(101)),Be=a(314),Ge=a(153),ze=a(79),He=(a(142),a(289),a(296)),qe=a(297),Ye=a(298),Ve=function(e){var t=Object(b.b)(),a=Object(n.useState)(!1),c=Object(u.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)(0),l=Object(u.a)(i,2),d=l[0],O=l[1],h=Object(n.useState)(!1),p=Object(u.a)(h,2),m=p[0],x=p[1],f=Object(n.useState)(null),g=Object(u.a)(f,2),v=g[0],y=g[1],_=Object(n.useState)(!1),N=Object(u.a)(_,2),E=N[0],T=N[1],I=Object(n.useRef)(null),C=Object(b.c)((function(e){return e.Auth})),S=Object(b.c)((function(e){return e.Notification}));Object(n.useEffect)((function(){A()}),[]),Object(n.useEffect)((function(){M()}),[S]);var A=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/notifications";t(ne(e,a))};console.log("notification",S);var M=function(){var e=Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.data&&S.data.data&&(S.data.data,O(S.count),s(S.count),E||R());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){window.Echo.private("App.Models.User."+C.user.id).notification((function(e){var a={data:{data:e.data,title:e.title},created_at:Q()().format()};t({type:"NOTIFICATION_ADD",payload:a})})),T(!0)},P=function(e){var t=Q()(),a=Q()(e),n=t.diff(a,"year");return 0===n?0===(n=t.diff(a,"month"))?0===(n=t.diff(a,"days"))?0===(n=t.diff(a,"hour"))?0===(n=t.diff(a,"minute"))?(n=t.diff(a,"second"),"".concat(n," second(s) ago")):"".concat(n," minute(s) ago"):"".concat(n," hour(s) ago"):"".concat(n," days(s) ago"):"".concat(n," month(s) ago"):"".concat(n," year(s) ago")},D=function(e){if(e.indexOf("\n")>=0){for(var t=e.split("\n"),a="<ul>",n=0;n<=t.length-1;n++)""!==t[n]&&(a=a+"<li>"+t[n]+"</li>");return{__html:a+="</ul>"}}return{__html:"<ul><li>".concat(e,"</li></ul>")}},U=function(){var e=Object(j.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(ce());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"notification-container",children:Object(k.jsx)("div",{className:r?"notification notify show-count":"notification notify","data-count":d,onClick:function(e){return function(e){x(!m),y(e.target)}(e)},children:Object(k.jsx)(He.a,{color:"yellow",size:"25"})})}),Object(k.jsx)("div",{ref:I,children:Object(k.jsx)(Ge.a,{show:m,target:v,placement:"bottom",container:I.current,containerPadding:20,rootClose:!0,onHide:function(){x(!1)},children:Object(k.jsxs)(ze.a,{id:"popover-contained",children:[Object(k.jsx)(ze.a.Title,{as:"h3",children:"Notifications"}),Object(k.jsxs)(ze.a.Content,{style:{padding:"3px 3px"},children:[Boolean(r)&&Object(k.jsx)("div",{children:Object(k.jsxs)(w.a,{variant:"link",onClick:function(e){return U(e)},children:[Object(k.jsx)(qe.a,{size:24}),"Mark all as read"]})}),Object(k.jsx)("ul",{className:"notification-info-panel",children:S.data&&S.data.data&&S.data.data.length>0?S.data.data.map((function(e,t){return Object(k.jsxs)("li",{className:e.read_at?"notification-message":"notification-message unread",children:[Object(k.jsx)("div",{className:"timestamp",children:Object(k.jsx)("span",{children:P(parseInt(Q.a.parseZone(e.created_at).format("x")))})}),Object(k.jsx)("div",{className:"content",dangerouslySetInnerHTML:D(e.data.title)})]},t)})):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ye.a,{color:"#000000",size:32}),Object(k.jsx)("h5",{className:"nodata",children:"No Notifications found!"})]})})]}),Object(k.jsx)(ze.a.Title,{className:"text-center",children:Object(k.jsx)(L.b,{to:"/notifications",children:"View All Notifications"})})]})})})]})},Qe=function(e){return Object(k.jsxs)(Be.a,{collapseOnSelect:!0,className:"sticky-top shadow-sm",expand:"*",bg:"light",variant:"light",children:[Object(k.jsx)(Be.a.Brand,{className:"col-sm-3 col-md-2 mr-0 px-3",href:"#home",children:Object(k.jsx)("img",{alt:"",src:y.url.BASE_URL+"/icons/logo.png",height:"30",className:"d-inline-block align-top"})}),Object(k.jsx)("button",{className:"navbar-toggler position-absolute d-md-none collapsed",type:"button","data-toggle":"collapse","data-target":"#sidebarMenu","aria-controls":"sidebarMenu","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(k.jsx)("span",{className:"navbar-toggler-icon"})}),Object(k.jsxs)("ul",{className:"navbar-nav px-3",children:[Object(k.jsx)("li",{className:"nav-item text-nowrap notification-section",children:Object(k.jsx)(Ve,{})}),Object(k.jsx)("li",{className:"nav-item text-nowrap",children:Object(k.jsx)(L.b,{className:"nav-link logout-btn",onClick:function(t){return e.onLogout()},children:"LOG OUT"})})]})]})},Ke=function(e){return Object(k.jsx)(Be.a.Collapse,{id:"sidebarMenu",className:"col-md-4 col-lg-3 d-md-block bg-light sidebar collapse shadow",children:Object(k.jsx)("div",{className:"sidebar-sticky pt-3",children:Object(k.jsxs)("ul",{className:"nav flex-column",children:[Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsxs)(L.c,{exact:!0,className:"nav-link",to:"/",children:[Object(k.jsx)("img",{alt:"Dashboard",src:y.url.BASE_URL+"/icons/dashboard-icon.png",width:"26",className:"d-inline-block align-top"}),"Dashboard"]})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsxs)(L.c,{className:"nav-link",to:"/actions",children:[Object(k.jsx)("img",{alt:"Actions",src:y.url.BASE_URL+"/icons/actions-icon.png",width:"26",className:"d-inline-block align-top"}),"Actions"]})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsxs)(L.c,{className:"nav-link",to:"/packages",children:[Object(k.jsx)("img",{alt:"Packages",src:y.url.BASE_URL+"/icons/package-icon.png",width:"26",className:"d-inline-block align-top"}),"Packages"]})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsxs)(L.c,{className:"nav-link",to:"/rewards",children:[Object(k.jsx)("img",{alt:"Rewards",src:y.url.BASE_URL+"/icons/reward-icon.png",width:"26",className:"d-inline-block align-top"}),"Rewards"]})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsxs)(L.c,{className:"nav-link",to:"/campaigns",children:[Object(k.jsx)("img",{alt:"Campaigns",src:y.url.BASE_URL+"/icons/campaign-icon.png",width:"26",className:"d-inline-block align-top"}),"Campaigns"]})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsxs)(L.c,{className:"nav-link",to:"/users",children:[Object(k.jsx)("img",{alt:"Profile",src:y.url.BASE_URL+"/icons/profile-icon.png",width:"26",className:"d-inline-block align-top"}),"Users"]})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsxs)(L.c,{className:"nav-link",to:"/transactions",children:[Object(k.jsx)("img",{alt:"Transactions",src:y.url.BASE_URL+"/icons/transaction-icon.png",width:"26",className:"d-inline-block align-top"}),"Transactions"]})})]})})})},We=function(e){return Object(k.jsxs)(Be.a,{collapseOnSelect:!0,className:"sticky-top shadow-sm",expand:"*",bg:"dark",variant:"dark",children:[Object(k.jsx)(Be.a.Brand,{className:"col-sm-3 col-md-2 mr-0 px-3",href:"#home",children:Object(k.jsx)("img",{alt:"",src:y.url.BASE_URL+"/icons/logo.png",height:"30",className:"d-inline-block align-top"})}),Object(k.jsx)("button",{className:"navbar-toggler position-absolute d-md-none collapsed",type:"button","data-toggle":"collapse","data-target":"#sidebarMenu","aria-controls":"sidebarMenu","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(k.jsx)("span",{className:"navbar-toggler-icon"})}),Object(k.jsxs)("ul",{className:"navbar-nav px-3",children:[Object(k.jsx)("li",{className:"nav-item text-nowrap notification-section",children:Object(k.jsx)(Ve,{})}),Object(k.jsx)("li",{className:"nav-item text-nowrap",children:Object(k.jsx)(L.b,{className:"nav-link logout-btn",onClick:function(t){return e.onLogout()},children:"Logout"})})]})]})},Ze=function(e){return Object(k.jsx)(Be.a.Collapse,{id:"sidebarMenu",className:"col-md-4 col-lg-3 d-md-block bg-light sidebar collapse shadow",children:Object(k.jsx)("div",{className:"sidebar-sticky pt-3",children:Object(k.jsxs)("ul",{className:"nav flex-column",children:[Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsxs)(L.c,{className:"nav-link",to:"/",children:[Object(k.jsx)("img",{alt:"Dashboard",src:y.url.BASE_URL+"/icons/dashboard-icon.png",width:"26",className:"d-inline-block align-top"}),"Dashboard"]})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsxs)(L.c,{className:"nav-link",to:"/actions",children:[Object(k.jsx)("img",{alt:"Dashboard",src:y.url.BASE_URL+"/icons/actions-icon.png",width:"26",className:"d-inline-block align-top"}),"Actions"]})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsxs)(L.c,{className:"nav-link",to:"/packages",children:[Object(k.jsx)("img",{alt:"Dashboard",src:y.url.BASE_URL+"/icons/package-icon.png",width:"26",className:"d-inline-block align-top"}),"Packages"]})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsxs)(L.c,{className:"nav-link",to:"/rewards",children:[Object(k.jsx)("img",{alt:"Rewards",src:y.url.BASE_URL+"/icons/reward-icon.png",width:"26",className:"d-inline-block align-top"}),"Rewards"]})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsxs)(L.c,{className:"nav-link",to:"/campaigns",children:[Object(k.jsx)("img",{alt:"Campaigns",src:y.url.BASE_URL+"/icons/campaign-icon.png",width:"26",className:"d-inline-block align-top"}),"Campaigns"]})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsxs)(L.c,{className:"nav-link",to:"/users",children:[Object(k.jsx)("img",{alt:"Profile",src:y.url.BASE_URL+"/icons/profile-icon.png",width:"26",className:"d-inline-block align-top"}),"Users"]})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsxs)(L.c,{className:"nav-link",to:"/transactions",children:[Object(k.jsx)("img",{alt:"Transactions",src:y.url.BASE_URL+"/icons/transaction-icon.png",width:"26",className:"d-inline-block align-top"}),"Transactions"]})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsxs)(L.c,{className:"nav-link",to:"/profile",children:[Object(k.jsx)("img",{alt:"Profile",src:y.url.BASE_URL+"/icons/profile-icon.png",width:"26",className:"d-inline-block align-top"}),"Profile"]})})]})})})},Je=function(e){return Object(k.jsxs)(Be.a,{collapseOnSelect:!0,className:"sticky-top shadow-sm",expand:"*",bg:"light",variant:"light",children:[Object(k.jsx)(Be.a.Brand,{className:"col-sm-3 col-md-2 mr-0 px-3",href:"#home",children:Object(k.jsx)("img",{alt:"",src:y.url.BASE_URL+"/icons/logo.png",height:"30",className:"d-inline-block align-top"})}),Object(k.jsx)("button",{className:"navbar-toggler position-absolute d-md-none collapsed",type:"button","data-toggle":"collapse","data-target":"#sidebarMenu","aria-controls":"sidebarMenu","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(k.jsx)("span",{className:"navbar-toggler-icon"})}),Object(k.jsxs)("ul",{className:"navbar-nav px-3",children:[Object(k.jsx)("li",{className:"nav-item text-nowrap notification-section",children:Object(k.jsx)(Ve,{})}),Object(k.jsx)("li",{className:"nav-item text-nowrap ml-3",children:Object(k.jsx)(L.b,{className:"nav-link logout-btn",onClick:function(t){return e.onLogout()},children:"Logout"})})]})]})},Xe=function(e){return Object(k.jsx)(Be.a.Collapse,{id:"sidebarMenu",className:"col-md-4 col-lg-3 d-md-block bg-light sidebar collapse shadow",children:Object(k.jsx)("div",{className:"sidebar-sticky pt-3",children:Object(k.jsxs)("ul",{className:"nav flex-column",children:[Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsxs)(L.c,{className:"nav-link",to:"/",children:[Object(k.jsx)("img",{alt:"Dashboard",src:y.url.BASE_URL+"/icons/dashboard-icon.png",width:"26",className:"d-inline-block align-top"}),"Dashboard"]})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsxs)(L.c,{className:"nav-link",to:"/rewards",children:[Object(k.jsx)("img",{alt:"Rewards",src:y.url.BASE_URL+"/icons/reward-icon.png",width:"26",className:"d-inline-block align-top"}),"Rewards"]})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsxs)(L.c,{className:"nav-link",to:"/campaigns",children:[Object(k.jsx)("img",{alt:"Campaigns",src:y.url.BASE_URL+"/icons/campaign-icon.png",width:"26",className:"d-inline-block align-top"}),"Campaigns"]})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsxs)(L.c,{className:"nav-link",to:"/transactions",children:[Object(k.jsx)("img",{alt:"Transactions",src:y.url.BASE_URL+"/icons/transaction-icon.png",width:"26",className:"d-inline-block align-top"}),"Transactions"]})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsxs)(L.c,{className:"nav-link",to:"/profile",children:[Object(k.jsx)("img",{alt:"Profile",src:y.url.BASE_URL+"/icons/profile-icon.png",width:"26",className:"d-inline-block align-top"}),"Profile"]})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsxs)(L.c,{className:"nav-link",to:"/settings",children:[Object(k.jsx)("img",{alt:"Dashboard",src:y.url.BASE_URL+"/icons/settings-icon.png",width:"26",className:"d-inline-block align-top"}),"Settings"]})})]})})})};a(292);Q.a.tz.setDefault(Q.a.tz.guess(!0));var $e=function(e){var t=e.component,a=Object(Le.a)(e,["component"]),n=Object(b.b)(),c=Object(b.c)((function(e){return e.Auth}));if(!R.a.isEmpty(c.user)){v.a.defaults.headers.Authorization="Bearer "+c.user.token,v.a.interceptors.response.use((function(e){return e}),(function(e){return"undefined"!==typeof e.response.data&&"Unauthenticated."===e.response.data.error&&n({type:"LOGOUT_SUCCESS"}),Promise.reject(e)}));window.Echo=new Fe.a({broadcaster:"pusher",key:y.url.BROADCAST_KEY,cluster:"ap1",wsHost:y.url.BROADCAST_URL,wsPort:6001,forceTLS:!0,authorizer:function(e,t){return{authorize:function(t,a){v.a.post("/broadcasting/auth",{socket_id:t,channel_name:e.name}).then((function(e){v.a.defaults.headers["X-Socket-ID"]=t,a(!1,e.data)})).catch((function(e){a(!0,e)}))}}},auth:{headers:{Authorization:"Bearer ".concat(c.user.token),Accept:"application/json"}}})}return Object(k.jsx)(i.b,Object(d.a)(Object(d.a)({},a),{},{render:function(e){if(R.a.isEmpty(c.user))return Object(k.jsx)(i.a,{to:{pathname:"/login",state:{from:e.location}}});var r=function(t){n(function(){var e=Object(j.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"USER_REQUEST"}),e.next=4,v.a.post("/logout");case 4:a=e.sent,window.Echo.disconnect(),t({type:"LOGOUT_SUCCESS",payload:a.data.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"USER_FAIL",payload:e.t0.response.data.data});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),e.history.push("/login")};return-1==R.a.indexOf(a.allowed,c.user.type)?Object(k.jsx)(k.Fragment,{children:"Not Allowed"}):1==c.user.type?Object(k.jsxs)("div",{className:"superadmin-page",children:[Object(k.jsx)(Qe,{onLogout:r}),Object(k.jsx)(Ue.a,{fluid:!0,children:Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)(Ke,{}),Object(k.jsx)("main",{role:"main",className:"col-md-8 col-lg-9 ml-sm-auto px-md-4",children:Object(k.jsx)(t,Object(d.a)({},e))})]})})]}):2==c.user.type?Object(k.jsxs)("div",{className:"admin-page",children:[Object(k.jsx)(We,{onLogout:r}),Object(k.jsx)(Ue.a,{fluid:!0,children:Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)(Ze,{}),Object(k.jsx)("main",{role:"main",className:"col-md-8 col-lg-9 ml-sm-auto px-md-4",children:Object(k.jsx)(t,Object(d.a)({},e))})]})})]}):Object(k.jsxs)("div",{className:"customer-page",children:[Object(k.jsx)(Je,{onLogout:r}),Object(k.jsx)(Ue.a,{fluid:!0,children:Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)(Xe,{userid:c.user.id}),Object(k.jsx)("main",{role:"main",className:"col-md-8 col-lg-9 ml-sm-auto px-md-4",children:Object(k.jsx)(t,Object(d.a)({},e))})]})})]})}}))},et=function(e){var t=e.component,a=Object(Le.a)(e,["component"]),n=Object(b.c)((function(e){return e.Auth}));return Object(k.jsx)(i.b,Object(d.a)(Object(d.a)({},a),{},{render:function(e){return R.a.isEmpty(n.user)?Object(k.jsxs)("div",{className:"login-page",children:[Object(k.jsx)("span",{className:"top-shape"}),Object(k.jsx)("span",{className:"bottom-shape"}),Object(k.jsx)(t,Object(d.a)({},e))]}):Object(k.jsx)(i.a,{to:{pathname:"/",state:{from:e.location}}})}}))};var tt=function(){return Object(k.jsxs)(i.d,{children:[Object(k.jsx)(et,{path:"/login",exact:!0,component:A}),Object(k.jsx)($e,{path:"/users",exact:!0,component:K,allowed:[1,2]}),Object(k.jsx)($e,{path:"/user/:user",exact:!0,component:ee,allowed:[1,2]}),Object(k.jsx)($e,{path:"/profile",exact:!0,component:te,allowed:[2,3]}),Object(k.jsx)($e,{path:"/settings",exact:!0,component:se,allowed:[1,2,3]}),Object(k.jsx)($e,{path:"/notifications",exact:!0,component:re,allowed:[1,2,3]}),Object(k.jsx)($e,{path:"/packages",exact:!0,component:le,allowed:[1,2]}),Object(k.jsx)($e,{path:"/actions",exact:!0,component:ue,allowed:[1,2]}),Object(k.jsx)($e,{path:"/rewards",exact:!0,component:Te,allowed:[1,2,3]}),Object(k.jsx)($e,{path:"/transactions",exact:!0,component:De,allowed:[1,2,3]}),Object(k.jsx)($e,{path:"/campaigns",exact:!0,component:ve,allowed:[1,2,3]}),Object(k.jsx)($e,{path:"/campaign/:campaign",exact:!0,component:ye}),Object(k.jsx)($e,{path:"/",exact:!0,component:_,allowed:[1,2,3]}),Object(k.jsx)(i.b,{path:"*",component:function(){return"404 NOT FOUND"}})]})},at=(a(293),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,318)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))}),nt=a(41),ct=a(151),rt=a(152),st={loading:!1,data:[],count:0,errorMsg:""},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_LIST_LOADING":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case"PRODUCT_LIST_SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,data:t.payload,errorMsg:""});case"PRODUCT_LIST_FAIL":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,errorMsg:"Unable to get products"});default:return e}},lt={loading:!1,data:{},errorMsg:""},ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTION_REQUEST":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case"ACTION_FETCH":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,data:t.payload,errorMsg:""});case"ACTION_ADD":var a=e.data,n=[].concat(Object(D.a)(e.data.data),[t.payload]);return a.data=n,Object(d.a)(Object(d.a)({},e),{},{loading:!1,data:a,errorMsg:""});case"ACTION_UPDATE":a=e.data;var c=e.data.data.findIndex((function(e){return e.id===t.payload.id}));n=Object(d.a)(Object(d.a)({},e.data.data[c]),t.payload);return a.data[c]=n,Object(d.a)(Object(d.a)({},e),{},{loading:!1,data:a,errorMsg:""});case"ACTION_DELETE":n=e.data;var r=e.data.data.filter((function(e){return e.id!==t.payload.id}));return n.data=r,Object(d.a)(Object(d.a)({},e),{},{loading:!1,data:n,errorMsg:""});case"ACTION_FAIL":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,errorMsg:t.payload.error});default:return e}},dt={loading:!1,user:"undefined"!=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{},errorMsg:""},jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_REQUEST":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case"LOGIN_SUCCESS":return localStorage.setItem("user",JSON.stringify(t.payload)),Object(d.a)(Object(d.a)({},e),{},{loading:!1,user:t.payload,errorMsg:""});case"LOGIN_FAIL":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,errorMsg:t.payload.error});case"LOGOUT_REQUEST":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case"LOGOUT_SUCCESS":return localStorage.removeItem("user"),Object(d.a)(Object(d.a)({},e),{},{loading:!1,user:{},errorMsg:""});case"LOGOUT_FAIL":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,errorMsg:t.payload.error});default:return e}},ut={loading:!1,data:{},errorMsg:""},bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CAMPAIGN_REQUEST":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case"CAMPAIGN_FETCH":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,data:t.payload,errorMsg:""});case"CAMPAIGN_ADD":var a=[].concat(Object(D.a)(e.data.data),[t.payload]);return(n=e.data).data=a,Object(d.a)(Object(d.a)({},e),{},{loading:!1,data:n,errorMsg:""});case"CAMPAIGN_UPDATE":var n=e.data,c=e.data.data.findIndex((function(e){return e.id===t.payload.id}));a=Object(d.a)(Object(d.a)({},e.data.data[c]),t.payload);return n.data[c]=a,Object(d.a)(Object(d.a)({},e),{},{loading:!1,data:n,errorMsg:""});case"CAMPAIGN_DELETE":n=e.data,a=e.data.data.filter((function(e){return e.id!==t.payload.id}));return n.data=a,Object(d.a)(Object(d.a)({},e),{},{loading:!1,data:n,errorMsg:""});case"CAMPAIGN_FAIL":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,errorMsg:t.payload.error});default:return e}},Ot={loading:!1,data:{},errorMsg:""},ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PACKAGE_REQUEST":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case"PACKAGE_SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,data:t.payload,errorMsg:""});case"PACKAGE_ADDED":var a=e.data,n=[].concat(Object(D.a)(e.data.data),[t.payload]);return a.data=n,Object(d.a)(Object(d.a)({},e),{},{loading:!1,data:a,errorMsg:""});case"PACKAGE_UPDATED":a=e.data;var c=e.data.data.findIndex((function(e){return e.id===t.payload.id}));n=Object(d.a)(Object(d.a)({},e.data.data[c]),t.payload);return a.data[c]=n,Object(d.a)(Object(d.a)({},e),{},{loading:!1,data:a,errorMsg:""});case"PACKAGE_DELETED":a=e.data,n=e.data.data.filter((function(e){return e.id!==t.payload.id}));return a.data=n,Object(d.a)(Object(d.a)({},e),{},{loading:!1,data:a,errorMsg:""});case"PACKAGE_FAIL":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,errorMsg:t.payload.error});default:return e}},pt={loading:!1,count:0,data:{},errorMsg:""},mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOTIFICATION_REQUEST":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case"NOTIFICATION_FETCH":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,data:t.payload.data,count:t.payload.count,errorMsg:""});case"NOTIFICATION_ADD":var a=e.data,n=[t.payload].concat(Object(D.a)(e.data.data));return a.data=n,Object(d.a)(Object(d.a)({},e),{},{loading:!1,data:a,count:e.count+1,errorMsg:""});case"NOTIFICATION_UPDATE":a=e.data;var c=e.data.data.findIndex((function(e){return e.id===t.payload.id}));n=Object(d.a)(Object(d.a)({},e.data.data[c]),t.payload);return a.data[c]=n,Object(d.a)(Object(d.a)({},e),{},{loading:!1,data:a,errorMsg:""});case"NOTIFICATION_DELETE":n=e.data;var r=e.data.data.filter((function(e){return e.id!==t.payload.id}));return n.data=r,Object(d.a)(Object(d.a)({},e),{},{loading:!1,data:n,errorMsg:""});case"NOTIFICATION_READ":n=e.data;var s=e.data.data.map((function(e,t){return Object(d.a)(Object(d.a)({},e),{},{read_at:Q()().format()})}));return n.data=s,Object(d.a)(Object(d.a)({},e),{},{loading:!1,count:0,data:n,errorMsg:""});case"NOTIFICATION_FAIL":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,errorMsg:t.payload.error});default:return e}},xt={loading:!1,data:{},errorMsg:""},ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REWARD_REQUEST":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case"REWARD_FETCH":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,data:t.payload,errorMsg:""});case"REWARD_ADD":var a=e.data,n=[t.payload].concat(Object(D.a)(e.data.data));return a.data=n,Object(d.a)(Object(d.a)({},e),{},{loading:!1,data:a,errorMsg:""});case"REWARD_UPDATE":a=e.data;var c=e.data.data.findIndex((function(e){return e.id===t.payload.id}));n=Object(d.a)(Object(d.a)({},e.data.data[c]),t.payload);return a.data[c]=n,Object(d.a)(Object(d.a)({},e),{},{loading:!1,data:a,errorMsg:""});case"REWARD_DELETE":a=e.data,n=e.data.data.filter((function(e){return e.id!==t.payload.id}));return a.data=n,Object(d.a)(Object(d.a)({},e),{},{loading:!1,data:a,errorMsg:""});case"REWARD_FAIL":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,errorMsg:t.payload.error});default:return e}},gt={loading:!1,data:{},errorMsg:""},vt=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,a=arguments.length>1?arguments[1]:void 0,n=t.data;switch(a.type){case"REQUEST":return Object(d.a)(Object(d.a)({},t),{},{loading:!0});case"FETCH_SUCCESS":return Object(d.a)(Object(d.a)({},t),{},{loading:!1,data:a.payload,errorMsg:""});case"ADD_SUCCESS":return e=Object(D.a)(t.data.data),n.data=e,Object(d.a)(Object(d.a)({},t),{},{loading:!1,data:n,errorMsg:""});case"UPDATE_SUCCESS":var c=t.data.data.findIndex((function(e){return e.id===a.payload.id}));return e=Object(d.a)(Object(d.a)({},t.data.data[c]),a.payload),n.data[c]=e,console.log("update success 2"),Object(d.a)(Object(d.a)({},t),{},{loading:!1,data:n,errorMsg:""});case"DELETE_SUCCESS":return e=t.data.data.filter((function(e){return e.id!==a.payload.id})),n.data=e,Object(d.a)(Object(d.a)({},t),{},{loading:!1,data:n,errorMsg:""});case"FAIL":return Object(d.a)(Object(d.a)({},t),{},{loading:!1,errorMsg:a.payload});default:return t}},yt={loading:!1,data:{},errorMsg:""},kt=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,a=arguments.length>1?arguments[1]:void 0,n=t.data;switch(a.type){case"USER_REQUEST":return Object(d.a)(Object(d.a)({},t),{},{loading:!0});case"USER_FETCH":return Object(d.a)(Object(d.a)({},t),{},{loading:!1,data:a.payload,errorMsg:""});case"USER_ADD":return e=[a.payload].concat(Object(D.a)(t.data.data)),n.data=e,Object(d.a)(Object(d.a)({},t),{},{loading:!1,data:n,errorMsg:""});case"USER_UPDATE":var c=t.data.data.findIndex((function(e){return e.id===a.payload.id}));return e=Object(d.a)(Object(d.a)({},t.data.data[c]),a.payload),n.data[c]=e,Object(d.a)(Object(d.a)({},t),{},{loading:!1,data:n,errorMsg:""});case"USER_DELETE":return e=t.data.data.filter((function(e){return e.id!==a.payload.id})),n.data=e,Object(d.a)(Object(d.a)({},t),{},{loading:!1,data:n,errorMsg:""});case"USER_FAIL":return Object(d.a)(Object(d.a)({},t),{},{loading:!1,errorMsg:a.payload.error});default:return t}},_t=Object(nt.combineReducers)({Action:ot,Auth:jt,Campaign:bt,Package:ht,Notification:mt,ProductList:it,Reward:ft,Transaction:vt,User:kt}),Nt=Object(nt.createStore)(_t,{},Object(ct.composeWithDevTools)(Object(nt.applyMiddleware)((function(e){return function(e){return function(t){return e(t)}}}),rt.a)));v.a.defaults.baseURL=y.url.API_URL,v.a.defaults.headers={"Access-Control-Allow-Origin":"*",Accept:"application/json","Content-Type":"application/json"},s.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(L.a,{children:Object(k.jsx)(b.a,{store:Nt,children:Object(k.jsx)(tt,{})})})}),document.getElementById("root")),at()}},[[294,1,2]]]);
//# sourceMappingURL=main.060d145f.chunk.js.map